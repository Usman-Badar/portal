(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[91],{628:function(e,t,s){"use strict";s.r(t);var a=s(9),n=s(4),c=s(1),l=(s(629),s(176)),o=s(0);t.default=function(e){var t=l.a.CanvasJS,s=l.a.CanvasJSChart,u=Object(c.useState)([]),i=Object(n.a)(u,2),r=i[0],d=i[1],b=Object(c.useState)({requests:[],months:[]}),j=Object(n.a)(b,2),h=j[0],m=j[1],O=Object(c.useState)([]),f=Object(n.a)(O,2),p=f[0],x=f[1],S=Object(c.useState)({}),v=Object(n.a)(S,2),C=v[0],y=v[1],g=Object(c.useState)(0),R=Object(n.a)(g,2),w=R[0],q=R[1],N=Object(c.useState)(!1),E=Object(n.a)(N,2),V=E[0],J=E[1];Object(c.useEffect)((function(){for(var t=[],s=0,a=0,n=0,c=0,l=0,o=0;o<e.CountStatus.length;o++)"Rejected"===e.CountStatus[o]&&(s+=1);for(var u=0;u<e.CountStatus.length;u++)"Approved"===e.CountStatus[u]&&(a+=1);for(var i=0;i<e.CountStatus.length;i++)"Waiting For Approval"===e.CountStatus[i]&&(n+=1);for(var r=0;r<e.CountStatus.length;r++)"Sent"===e.CountStatus[r]&&(c+=1);for(var b=0;b<e.CountStatus.length;b++)"Viewed"===e.CountStatus[b]&&(l+=1);t.push({y:s,label:"rejected"},{y:a,label:"approved"},{y:n,label:"waiting"},{y:c,label:"sent"},{y:l,label:"viewed"}),d(t)}),[e.CountStatus,V]),Object(c.useEffect)((function(){for(var t=[],s=[],n=0;n<e.MonthlyRequests.length;n++)t.push(e.MonthlyRequests[n].count),s.push(e.MonthlyRequests[n].month);m(Object(a.a)(Object(a.a)({},h),{},{requests:t,months:s}))}),[e.MonthlyRequests]),Object(c.useEffect)((function(){for(var t=[],s=[],a=0;a<e.ViewRequest.length;a++)t.includes(e.ViewRequest[a].company_name)||t.push(e.ViewRequest[a].company_name);for(var n=function(a){for(var n=e.ViewRequest.filter((function(e){return e.company_name===t[a]})),c=0,l=0;l<n.length;l++)c+=parseFloat(n[l].total);s.push({company:t[a],count:n.length,total:c})},c=0;c<t.length;c++)n(c);x(s);for(var l=0,o=0;o<e.ViewRequest.length;o++)l+=parseFloat(e.ViewRequest[o].total);q(l)}),[e.ViewRequest]),Object(c.useEffect)((function(){y(e.EmpData),window.addEventListener("resize",(function(){J(!V)}))}),[e.EmpData]),t.addColorSet("customShades",["#E7604A","#56CC82","#29C7CA","#5C6E9C","#5C6E9C"]);var A={exportEnabled:!1,animationEnabled:!0,title:{text:"Summery"},colorSet:"customShades",data:[{type:"pie",startAngle:75,toolTipContent:"<b>{label}</b>: {y}%",showInLegend:"true",legendText:"{label}",indexLabelFontSize:10,indexLabel:"{label} - {y}%",dataPoints:r}]};return Object(o.jsxs)("div",{className:"Home",children:[Object(o.jsxs)("div",{className:"three",children:[Object(o.jsxs)("div",{className:"Calculate px-4",children:[Object(o.jsx)("small",{className:"text-secondary",children:"Total Requests"}),Object(o.jsxs)("h3",{className:"font-weight-bolder",children:[e.CountRequests," ",Object(o.jsx)("small",{className:"text-secondary",children:"Received"})]}),0===Object.keys(C).length?null:C.access&&(JSON.parse(C.access).includes(522)||JSON.parse(C.access).includes(1))?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("small",{className:"text-secondary",children:"Total Value Rs"}),Object(o.jsxs)("h3",{className:"font-weight-bolder",children:[w.toLocaleString("en-US")," ",Object(o.jsx)("small",{className:"text-secondary",children:"Estimated"})]})]}):null]}),Object(o.jsx)("div",{className:"RequestStatusChart",children:Object(o.jsx)(s,{options:A})}),Object(o.jsx)("div",{className:"RequestStatusChart py-4 px-3",children:p.map((function(e,t){return Object(o.jsxs)("div",{className:" mb-3",style:{fontSize:"13px"},children:[Object(o.jsxs)("div",{className:"font-weight-bold",children:[e.company,":"]}),Object(o.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(o.jsxs)("div",{children:[e.count," ",Object(o.jsx)("sub",{children:"Requests"})]}),Object(o.jsxs)("div",{children:["PKR",Object(o.jsxs)("span",{className:"ml-2",children:[e.total," /-"]})]})]})]},t)}))})]}),Object(o.jsx)("div",{style:{backgroundColor:"#fff",borderRadius:"5px"}})]})}},629:function(e,t,s){}}]);