(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[39],{599:function(e,t,c){},655:function(e,t,c){"use strict";c.r(t);var s=c(5),n=c(1),i=(c(599),c(3)),a=c(91),r=c(0);t.default=function(e){var t=e.ApproveRequisition,c=e.AttachedQuotations,s=e.Specifications,n=e.RequestDetails,j=e.history,d=e.Requests,b=e.addRow,h=e.RejectRequisition,O=e.CancelRequisition,p=e.SubmitConfirmation,_=e.ShowQuotationModal,N=e.Quotations,f=e.Locations,g=e.Companies,v=e.SubmitPR,q=e.loadRequests,R=e.openRequestDetails,y=e.PRSubmittion,w=e.setSubmitConfirmation,S=e.onAttachQuotations,C=e.onContentInput,k=e.onContentEdit,D=e.setShowQuotationModal;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"purchase_requisition",children:[Object(r.jsx)(a.a,{show:_,Hide:function(){return D(!_)},content:Object(r.jsx)(x,{setShowQuotationModal:D,Quotations:N,onAttachQuotations:S})}),Object(r.jsxs)("div",{className:"purchase_requisition_form",children:[Object(r.jsx)(a.a,{show:p,Hide:function(){return w(!p)},content:Object(r.jsx)(m,{PRSubmittion:y})}),Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{exact:!0,path:"/purchase/requisition/form",render:function(){return Object(r.jsx)(l,{Locations:f,Companies:g,Quotations:N,history:j,addRow:b,SubmitPR:v,onContentInput:C,setShowQuotationModal:D})}}),Object(r.jsx)(i.b,{exact:!0,path:"/purchase/requisition/requests",render:function(){return Object(r.jsx)(u,{Requests:d,history:j,loadRequests:q})}}),Object(r.jsx)(i.b,{exact:!0,path:"/purchase/requisition/details",render:function(){return Object(r.jsx)(o,{RequestDetails:n,Specifications:s,Quotations:c,history:j,onContentEdit:k,openRequestDetails:R,CancelRequisition:O,RejectRequisition:h,ApproveRequisition:t})}})]})]})]})})};var l=function(e){var t=e.history,c=e.Locations,s=e.Quotations,n=e.Companies,i=e.SubmitPR,a=e.setShowQuotationModal,l=e.addRow,o=e.onContentInput;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(r.jsxs)("h3",{className:"heading",children:["Purchase Requisition",Object(r.jsx)("sub",{children:"Application Form"})]}),Object(r.jsx)("button",{className:"btn submit",type:"reset",onClick:function(){return t.replace("/purchase/requisition/requests")},children:"Back To Requests"})]}),Object(r.jsx)("hr",{}),Object(r.jsx)("form",{onSubmit:i,children:Object(r.jsxs)("fieldset",{children:[Object(r.jsxs)("div",{className:"flex_container mb-3",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Company Name"})}),Object(r.jsxs)("select",{className:"form-control",name:"company_code",required:!0,children:[Object(r.jsx)("option",{value:"",children:"Select the option"}),n.map((function(e){return Object(r.jsxs)("option",{value:e.company_code,children:[" ",e.company_name," "]},e.company_code)}))]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Delivery / Work Location"})}),Object(r.jsxs)("select",{className:"form-control",name:"location_code",required:!0,children:[Object(r.jsx)("option",{value:"",children:"Select the option"}),c.map((function(e){return Object(r.jsxs)("option",{value:e.location_code,children:[" ",e.location_name," "]},e.location_code)}))]})]})]}),Object(r.jsxs)("div",{className:"grid_container mb-3 px-5",children:[Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"New Purchase"}),Object(r.jsx)("input",{type:"checkbox",value:"New Purchase",name:"new_purchase",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Repair"}),Object(r.jsx)("input",{type:"checkbox",value:"Repair",name:"repair",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Replacement / Recycle"}),Object(r.jsx)("input",{type:"checkbox",value:"Replacement / Recycle",name:"replace_recycle",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Budgeted"}),Object(r.jsx)("input",{type:"checkbox",value:"Budgeted",name:"budgeted",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Not Budgeted"}),Object(r.jsx)("input",{type:"checkbox",value:"Not Budgeted",name:"not_budgeted",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Invoice Attached"}),Object(r.jsx)("input",{type:"checkbox",value:"Invoice Attached",name:"invoice_attached",className:"ml-2"})]})]}),Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Reason For Repair / Replacement / New Purchase"})}),Object(r.jsx)("textarea",{className:"form-control",name:"reason",required:!0,minLength:20}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(r.jsx)("label",{className:"mb-1",children:Object(r.jsx)("b",{children:"Purchase / Repair / Replacement Specifications"})}),Object(r.jsx)("i",{className:"las la-plus-circle la-2x",style:{cursor:"pointer"},title:"Add New Row",onClick:l})]}),Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"text-center",children:"Sr.No."}),Object(r.jsx)("th",{className:"text-center",children:"Description"}),Object(r.jsx)("th",{className:"text-center",children:"Quantity"}),Object(r.jsx)("th",{className:"text-center",children:"Estimated Price"}),Object(r.jsx)("th",{className:"text-center",children:"Total Price"})]})}),Object(r.jsx)("tbody",{id:"specifications_table_body",children:Object(r.jsxs)("tr",{id:"specification_row_1",children:[Object(r.jsx)("td",{id:"specification_serial_number_1"}),Object(r.jsx)("td",{id:"specification_description_1",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_1",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_1",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_1"})]})}),Object(r.jsx)("tfoot",{children:Object(r.jsxs)("tr",{id:"specification_total_row",children:[Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{className:"text-center",id:"total_calculated_amount_label",children:Object(r.jsx)("b",{children:"Total Estimated Amount"})}),Object(r.jsx)("td",{id:"total_calculated_amount"})]})})]}),Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(r.jsxs)("button",{className:"btn green",type:"button",onClick:function(){return a(!0)},children:["Attached Quotations (",s.length,")"]}),Object(r.jsx)("button",{className:"btn submit",type:"submit",children:"Generate Purchase Requisition"})]})]})})]})},o=function(e){var t=e.ApproveRequisition,c=e.history,i=e.Quotations,a=e.Specifications,l=e.RequestDetails,o=e.CancelRequisition,d=e.RejectRequisition,b=e.openRequestDetails,h=e.onContentEdit,u=Object(n.useState)("application"),m=Object(s.a)(u,2),x=m[0],O=m[1];return Object(n.useEffect)((function(){var e=window.location.href.split("?").pop().split("=").pop();b(e)}),[]),Object(r.jsx)(r.Fragment,{children:l?parseInt(l.requested_by)===parseInt(sessionStorage.getItem("EmpID"))||parseInt(l.request_submitted_on_behalf)===parseInt(sessionStorage.getItem("EmpID"))||parseInt(l.appr_rejct_by)===parseInt(sessionStorage.getItem("EmpID"))||parseInt(l.submitted_to)===parseInt(sessionStorage.getItem("EmpID"))?Object(r.jsx)(j,{ApproveRequisition:t,pr_id:window.location.href.split("?").pop().split("=").pop(),RejectRequisition:d,CancelRequisition:o,history:c,Quotations:i,setView:O,View:x,RequestDetails:l,Specifications:a,onContentEdit:h}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h6",{className:"text-center",children:"Access Denied"}),Object(r.jsxs)("p",{className:"text-center mb-0",children:["You don't have access to view the purchase requisition details (id#",l.pr_id,")."]})]}):Object(r.jsx)("h6",{className:"text-center",children:"Loading Details...."})})},j=function(e){var t=e.pr_id,c=e.CancelRequisition,i=e.ApproveRequisition,l=e.RejectRequisition,o=e.history,j=e.Quotations,u=e.View,m=e.setView,x=e.RequestDetails,O=e.Specifications,p=e.onContentEdit,_=Object(n.useState)(!1),N=Object(s.a)(_,2),f=N[0],g=(N[1],Object(n.useState)(!1)),v=Object(s.a)(g,2),q=v[0],R=v[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),S=w[0],C=w[1],k=Object(n.useState)(!1),D=Object(s.a)(k,2),I=D[0],A=D[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"purchase_requisition_details",children:[Object(r.jsx)(a.a,{show:q,Hide:function(){return R(!1)},content:Object(r.jsx)(b,{pr_id:t,CancelRequisition:c})}),Object(r.jsx)(a.a,{show:I,Hide:function(){return A(!1)},content:Object(r.jsx)(d,{submitted_to:x.submitted_to,requested_by:x.requested_by,pr_id:t,ApproveRequisition:i})}),Object(r.jsx)(a.a,{show:S,Hide:function(){return C(!1)},content:Object(r.jsx)(h,{RequestDetails:x,Specifications:O,pr_id:t,RejectRequisition:l})}),Object(r.jsxs)("div",{className:"d-flex align-items-end justify-content-between",children:[Object(r.jsxs)("h4",{className:"heading",children:["Purchase Requisition",Object(r.jsx)("sub",{children:"Request Details"})]}),Object(r.jsxs)("div",{className:"btn-group",children:[Object(r.jsx)("button",{className:"btn green",onClick:function(){return o.replace("/purchase/requisition/requests")},children:"Back To Requests"}),Object(r.jsx)("button",{className:"application"===u?"btn submit":"btn green",onClick:function(){return m("application")},children:"Application"}),Object(r.jsx)("button",{className:"request_status"===u?"btn submit":"btn green",onClick:function(){return m("request_status")},children:"Request Status"})]})]}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"ml-auto mb-2",style:{width:"fit-content"},children:Object(r.jsxs)("div",{className:"btn-group",children:[x.requested_by!=sessionStorage.getItem("EmpID")&&x.appr_rejct_by==sessionStorage.getItem("EmpID")&&"waiting_for_approval"===x.status?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{className:"btn cancle",onClick:function(){return C(!0)},children:"Reject"}),Object(r.jsx)("button",{className:"btn submit",onClick:function(){return A(!0)},children:"Approve"})]}):null,x.requested_by!=sessionStorage.getItem("EmpID")||"sent"!==x.status&&"viewed"!==x.status?null:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("button",{className:"btn cancle",onClick:function(){return R(!0)},children:"Cancel"})})]})}),f?Object(r.jsxs)("div",{className:"border p-3 bg-light my-3",children:[Object(r.jsx)("h6",{children:"Editing Option Has Been Enabled"}),Object(r.jsxs)("p",{children:["Now the user is now be able to edit only the specifications in purchase requisition. Changes will be shown with colors, and each colors define an action performed.",Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("div",{className:"bg-primary",style:{width:"100px",height:"2px"}}),Object(r.jsx)("div",{className:"pl-2",children:"New Added"})]})}),Object(r.jsx)("li",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("div",{className:"bg-success",style:{width:"100px",height:"2px"}}),Object(r.jsx)("div",{className:"pl-2",children:"Edited"})]})}),Object(r.jsx)("li",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("div",{className:"bg-danger",style:{width:"100px",height:"2px"}}),Object(r.jsx)("div",{className:"pl-2",children:"Deleted"})]})})]})]})]}):null,"application"===u?Object(r.jsx)("form",{className:"popUps",children:Object(r.jsxs)("fieldset",{disabled:!0,children:[Object(r.jsxs)("div",{className:"flex_container mb-3",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Company Name"})}),Object(r.jsx)("input",{value:x.company_name,className:"form-control"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Delivery / Work Location"})}),Object(r.jsx)("input",{value:x.location_name,className:"form-control"})]})]}),Object(r.jsxs)("div",{className:"grid_container mb-3 px-5",children:[1===x.new_purchase?Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"New Purchase"}),Object(r.jsx)("input",{checked:!0,type:"checkbox",className:"ml-2"})]}):null,x.repair?Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Repair"}),Object(r.jsx)("input",{checked:!0,type:"checkbox",className:"ml-2"})]}):null,x.replace_recycle?Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Replacement / Recycle"}),Object(r.jsx)("input",{checked:!0,type:"checkbox",className:"ml-2"})]}):null,x.budgeted?Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Budgeted"}),Object(r.jsx)("input",{checked:!0,type:"checkbox",className:"ml-2"})]}):null,x.not_budgeted?Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Not Budgeted"}),Object(r.jsx)("input",{checked:!0,type:"checkbox",className:"ml-2"})]}):null,x.invoice_attached?Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Invoice Attached"}),Object(r.jsx)("input",{checked:!0,type:"checkbox",className:"ml-2"})]}):null]}),Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Reason For Repair / Replacement / New Purchase"})}),Object(r.jsx)("textarea",{className:"form-control",value:x.reason}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"mb-1",children:Object(r.jsx)("b",{children:"Purchase / Repair / Replacement Specifications"})}),f?Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"text-center",children:"Sr.No."}),Object(r.jsx)("th",{className:"text-center",children:"Description"}),Object(r.jsx)("th",{className:"text-center",children:"Quantity"}),Object(r.jsx)("th",{className:"text-center",children:"Estimated Price"}),Object(r.jsx)("th",{className:"text-center",children:"Total Price"})]})}),Object(r.jsx)("tbody",{id:"specifications_table_body",children:O.map((function(e,t){return console.log(e),Object(r.jsxs)("tr",{id:"specification_row_"+(t+1),children:[Object(r.jsx)("td",{id:"specification_serial_number_"+(t+1),children:e.sr_no}),Object(r.jsx)("td",{id:"specification_description_"+(t+1),contentEditable:!0,onInput:p,children:e.description}),Object(r.jsx)("td",{id:"specification_quantity_"+(t+1),contentEditable:!0,onInput:p,children:e.quantity}),Object(r.jsx)("td",{id:"specification_est_cost_"+(t+1),contentEditable:!0,onInput:p,children:e.estimated_cost}),Object(r.jsx)("td",{id:"specification_total_cost_"+(t+1),children:e.total_estimated_cost})]})}))}),Object(r.jsx)("tfoot",{children:Object(r.jsxs)("tr",{id:"specification_total_row",children:[Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{className:"text-center",id:"total_calculated_amount_label",children:Object(r.jsx)("b",{children:"Total Estimated Amount"})}),Object(r.jsx)("td",{id:"total_calculated_amount",children:x.total_value})]})})]}):Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"text-center",children:"Sr.No."}),Object(r.jsx)("th",{className:"text-center",children:"Description"}),Object(r.jsx)("th",{className:"text-center",children:"Quantity"}),Object(r.jsx)("th",{className:"text-center",children:"Estimated Cost"}),Object(r.jsx)("th",{className:"text-center",children:"Total Cost"})]})}),Object(r.jsx)("tbody",{children:O.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{className:"text-center",children:[" ",t+1," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" ",e.description," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" ",e.quantity," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" Rs ",e.estimated_cost.toLocaleString("en")," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" Rs ",e.total_estimated_cost.toLocaleString("en")," "]})]},t)}))}),Object(r.jsx)("tfoot",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"text-center"}),Object(r.jsx)("td",{className:"text-center"}),Object(r.jsx)("td",{className:"text-center"}),Object(r.jsx)("td",{className:"text-center",children:Object(r.jsx)("b",{children:"Total"})}),Object(r.jsxs)("td",{className:"text-center",children:[" Rs ",x.total_value.toLocaleString("en")," "]})]})})]}),Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Additional Notes"})}),Object(r.jsx)("textarea",{className:"form-control",value:x.note})]})}):Object(r.jsxs)("div",{className:"purchase_requisition_details_2",id:"accordion",children:[Object(r.jsx)("h6",{className:"collapse_toogle","data-toggle":"collapse","data-target":"#general_details","aria-expanded":"false","aria-controls":"general_details",children:"General Detail"}),Object(r.jsx)("div",{className:"collapse show",id:"general_details","data-parent":"#accordion",children:Object(r.jsx)("table",{className:"table table-bordered popUps",children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Requisition"}),Object(r.jsxs)("td",{children:[x.requested_employee_name," ",Object(r.jsx)("br",{}),new Date(x.requested_date).toDateString()," ",Object(r.jsx)("br",{}),x.requested_time]}),Object(r.jsx)("th",{children:"Employee Name (In Behalf Of)"}),Object(r.jsxs)("td",{children:[" ",x.behalf_employee_name?x.behalf_employee_name:"Requested By The Employee Itself"," "]}),Object(r.jsx)("th",{children:"Inventory Vision"}),Object(r.jsx)("td",{children:x.view_date?Object(r.jsxs)(r.Fragment,{children:[new Date(x.view_date).toDateString()," ",Object(r.jsx)("br",{}),x.view_time]}):Object(r.jsx)("span",{className:x.status+" text-white status_div",children:"Not Viewed"})})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Submit To (Employee)"}),Object(r.jsx)("td",{children:x.submit_to_employee_name}),Object(r.jsx)("th",{children:"Request Status"}),Object(r.jsxs)("td",{children:[" ",Object(r.jsx)("span",{className:x.status+" text-white status_div",children:x.status})," "]}),Object(r.jsx)("th",{children:"No of Items Requested"}),Object(r.jsxs)("td",{children:[" ",x.no_items_requested," "]})]}),Object(r.jsx)("tr",{children:null!=x.remarks?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"canceled"===x.status?"Reason To Cancel":"Inventory's Remarks"}),Object(r.jsx)("td",{colSpan:5,children:x.remarks})]}):null}),Object(r.jsx)("tr",{children:null!=x.hod_employee_name?"rejected"===x.status?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"Rejected By"}),Object(r.jsx)("td",{children:x.hod_employee_name}),Object(r.jsx)("th",{children:"Rejection"}),Object(r.jsxs)("td",{children:[new Date(x.act_date).toDateString()," at ",x.act_time]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"canceled"===x.status?"Canceled By":"Proceed To"}),Object(r.jsx)("td",{children:x.hod_employee_name}),"approved"===x.status?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"Approval"}),Object(r.jsxs)("td",{children:[new Date(x.act_date).toDateString()," at ",x.act_time]}),Object(r.jsx)("th",{children:"H.O.D's Remarks"}),Object(r.jsx)("td",{children:x.remarks_from_hod})]}):null]}):null})]})})}),Object(r.jsxs)("div",{className:"collapse_toogle d-flex justify-content-between","data-toggle":"collapse","data-target":"#attached_quotations","aria-expanded":"false","aria-controls":"attached_quotations",children:[Object(r.jsx)("h6",{className:"mb-0",children:"Quotations Attached"}),Object(r.jsxs)("h6",{className:"mb-0",children:["(",j.length,")"]})]}),Object(r.jsx)("div",{className:"collapse",id:"attached_quotations","data-parent":"#accordion",children:0===j.length?Object(r.jsx)("h6",{className:"text-center",children:"No Quotation Attached"}):Object(r.jsx)("div",{className:"grid_container",children:j.map((function(e,t){return Object(r.jsx)("div",{className:"quotation_card",children:Object(r.jsx)("img",{src:"https://202.63.220.170:3443/"+e.quotation,alt:"quotation_preview"},t)})}))})})]})]})})},d=function(e){var t=e.pr_id,c=e.ApproveRequisition,s=e.submitted_to,n=e.requested_by;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{className:"pt-1",onSubmit:function(e){return c(e,t,n,s)},children:Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("h6",{className:"font-weight-bold",children:"Confirm Approval"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"alert alert-success d-none",id:"error_alert_approval"}),Object(r.jsx)("textarea",{placeholder:"Add Your Remarks...",name:"reason",cols:"30",rows:"5",className:"form-control",required:!0,minLength:30}),Object(r.jsx)("button",{className:"btn d-block ml-auto submit mt-3",children:"Confirm"})]})})})},b=function(e){var t=e.pr_id,c=e.CancelRequisition;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{className:"pt-1",onSubmit:function(e){return c(e,t)},children:Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("h6",{className:"font-weight-bold",children:"Confirm Cancellation"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"alert alert-warning d-none",id:"error_alert_cancelation"}),Object(r.jsx)("textarea",{placeholder:"Any Specific Reason...",name:"reason",cols:"30",rows:"5",className:"form-control",required:!0,minLength:30}),Object(r.jsx)("button",{className:"btn d-block ml-auto submit mt-3",children:"Confirm"})]})})})},h=function(e){var t=e.RequestDetails,c=e.Specifications,s=e.pr_id,n=e.RejectRequisition;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{className:"pt-1",onSubmit:function(e){return n(e,s,t.requested_by,c)},children:Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("h6",{className:"font-weight-bold",children:"Confirm Rejection"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"alert alert-warning d-none",id:"error_alert_rejection"}),Object(r.jsx)("textarea",{placeholder:"Any Specific Reason...",name:"reason",cols:"30",rows:"5",className:"form-control",required:!0,minLength:30}),Object(r.jsx)("button",{className:"btn d-block ml-auto submit mt-3",children:"Confirm"})]})})})},u=function(e){var t=e.history,c=e.Requests,s=e.loadRequests;return Object(n.useEffect)((function(){s()}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"purchase_requests",children:[Object(r.jsxs)("div",{className:"d-flex align-items-end justify-content-between",children:[Object(r.jsxs)("h3",{className:"heading",children:["Purchase Requisition",Object(r.jsx)("sub",{children:"Previous Requests"})]}),Object(r.jsx)("button",{className:"btn submit",onClick:function(){return t.replace("/purchase/requisition/form")},children:"New"})]}),Object(r.jsx)("hr",{}),c?0===c.length?Object(r.jsx)("h6",{className:"text-center",children:"No Request Found"}):Object(r.jsxs)("table",{className:"table table-hover popUps",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Sr.No"}),Object(r.jsx)("th",{children:"Company"}),Object(r.jsx)("th",{children:"Location"}),Object(r.jsx)("th",{children:"Items"}),Object(r.jsx)("th",{children:"Requisition"}),Object(r.jsx)("th",{children:"Status"}),Object(r.jsx)("th",{children:"Total Value"})]})}),Object(r.jsx)("tbody",{children:c.map((function(e,c){return Object(r.jsxs)("tr",{title:"Double Click To Enter",onDoubleClick:function(){return t.push("/purchase/requisition/details?pr_id="+e.pr_id)},children:[Object(r.jsx)("td",{children:c+1}),Object(r.jsx)("td",{children:e.company_name}),Object(r.jsx)("td",{children:e.location_name}),Object(r.jsx)("td",{children:e.no_items_requested>1?e.no_items_requested+" Items":e.no_items_requested+" Item"}),Object(r.jsxs)("td",{children:[new Date(e.requested_date).toDateString()," ",Object(r.jsx)("br",{}),e.requested_time]}),Object(r.jsx)("td",{children:Object(r.jsx)("span",{className:"status_div text-white "+e.status,children:"waiting_for_approval"===e.status&&parseInt(e.appr_rejct_by)===parseInt(sessionStorage.getItem("EmpID"))?"Pending":e.status.replace("_"," ")})}),Object(r.jsxs)("td",{children:["Rs ",e.total_value.toLocaleString("en")]})]},c)}))})]}):Object(r.jsx)("h6",{className:"text-center",children:"Please Wait...."})]})})},m=function(e){var t=e.PRSubmittion;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("h5",{children:"Confirmation"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Any Additional Notes"})}),Object(r.jsx)("textarea",{className:"form-control",name:"notes",required:!0}),Object(r.jsx)("button",{className:"btn green d-block mx-auto mt-3",children:"Confirm & Submit"})]})]})})},x=function(e){var t=e.Quotations,c=e.setShowQuotationModal,s=e.onAttachQuotations;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"modal_content",children:[Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(r.jsx)("h4",{className:"mb-0",children:"Quotations"}),Object(r.jsx)("input",{type:"file",className:"quotations_file",onChange:s,multiple:!0,accept:"image/*"})]}),Object(r.jsx)("hr",{}),0===t.length?Object(r.jsx)("h6",{className:"text-center",children:"No Quotation Attached"}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"quotations_grid_container",children:t.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:URL.createObjectURL(e.file),alt:"attached_quotation"},t),Object(r.jsxs)("span",{children:[" ",e.name," "]})]})}))})}),Object(r.jsx)("button",{className:"btn submit d-block mx-auto mt-3",onClick:function(){return c(!1)},children:"Close"})]})})}},91:function(e,t,c){"use strict";c(1),c(92);var s=c(0);t.a=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"Attandence_Request_Div",style:{display:e.show?"flex":"none"},children:[Object(s.jsx)("div",{className:"dark",onClick:e.Hide}),Object(s.jsxs)("div",{style:{animationDelay:"0.1".toString()+"s"},className:e.show?"Attandence_Request_Div_Content Attandence_Request_Div_Content2":"Attandence_Request_Div_Content",children:[Object(s.jsx)("i",{className:"lar la-times-circle cross",onClick:e.Hide}),e.content]})]})})}},92:function(e,t,c){}}]);