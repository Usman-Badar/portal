(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[53],{632:function(e,t,s){},633:function(e,t,s){},678:function(e,t,s){"use strict";s.r(t);var c=s(4),n=s(1),a=(s(632),s(79)),i=s.n(a),l=s(11),d=s(94),o=s(93),r=(s(633),s(0)),j=function(e){var t=Object(n.useState)([]),s=Object(c.a)(t,2),a=s[0],i=s[1];return Object(n.useEffect)((function(){i(e.data)}),[e.data]),Object(r.jsx)("div",{className:"DicussionDrive",children:a.map((function(t,s){return Object(r.jsx)("div",{className:"DriveItem",style:{backgroundImage:"url('images/drive/"+t.name+"')"},onClick:function(){return e.AttachDrive(t.name)}},s)}))})};t.default=function(e){var t=Object(n.useState)(!1),s=Object(c.a)(t,2),a=s[0],b=s[1],m=Object(n.useState)(0),h=Object(c.a)(m,2),u=h[0],p=h[1],O=Object(n.useState)({}),x=Object(c.a)(O,2),f=x[0],v=x[1],g=Object(n.useState)([]),N=Object(c.a)(g,2),w=N[0],y=N[1],_=Object(n.useState)([]),S=Object(c.a)(_,2),T=S[0],D=S[1],k=Object(n.useState)([]),C=Object(c.a)(k,2),R=C[0],E=C[1],z=Object(n.useState)([]),I=Object(c.a)(z,2),A=I[0],J=I[1];Object(n.useEffect)((function(){for(var t=[],s=[],c=0;c<e.Tweets.length;c++)s.includes(e.Tweets[c].emp_id)||(t.push({name:e.Tweets[c].name,designation:e.Tweets[c].designation_name,department:e.Tweets[c].department_name,company:e.Tweets[c].company_name}),s.push(e.Tweets[c].emp_id));D(e.Tweets),J(t),v(e.EmpData),d.a.on("prsubdiscussions",(function(e){q(e,"")}))}),[e.Tweets]);var q=function(e,t){l.a.post("/getsubdiscussions",{chat_id:e}).then((function(s){E(s.data),void 0===t&&(i()(".Reply").not(".Reply"+e).hide(300),i()(".Reply"+e).toggle(300),i()("textarea[name='"+e+"']").val(""))})).catch((function(e){console.log(e)}))},B=function(e){l.a.post("/getalldrive",{emp_id:f.emp_id}).then((function(t){y(t.data),p("number"===typeof e?e:void 0)})).catch((function(e){console.log(e)})),H()},H=function(){b(!a)};return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"PRDiscussions",children:[Object(r.jsx)(o.a,{show:a,Hide:H,content:Object(r.jsx)(j,{AttachDrive:function(t){var s="/***"+t+"***/";e.AttachDrive(s,u),H()},data:w})}),Object(r.jsx)("div",{className:"Left",children:Object(r.jsx)("div",{className:"TweetContainer",id:"TweetContainer",children:T.map((function(t,s){var c=new Date(t.date);return Object(r.jsxs)("div",{className:"Tweet",children:[Object(r.jsxs)("div",{className:"upper",children:[Object(r.jsx)("div",{className:"emp_img",style:{backgroundImage:"url('images/employees/"+t.emp_image+"')"}}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"font-weight-bold",children:t.name}),Object(r.jsxs)("p",{children:[" ",t.designation_name," in ",t.department_name," Department, ",t.company_name," "]})]})]}),Object(r.jsx)("div",{className:"body",children:Object(r.jsx)("p",{children:t.body.includes("/***")?Object(r.jsx)("img",{src:"images/drive/"+t.body.split("/***")[1].split("***")[0],alt:"discussion attachment",width:"100%"}):t.body})}),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsx)("div",{children:Object(r.jsxs)("p",{className:"font-weight-bold",children:[c.toDateString()," at ",t.time]})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{onClick:function(){return q(t.chat_id)},className:"font-weight-bold",children:"Reply"})})]}),Object(r.jsxs)("form",{onSubmit:function(s){return function(t,s){t.preventDefault(),e.onTweet(t),setTimeout((function(){q(s,"")}),300)}(s,t.chat_id)},className:"Reply Reply"+t.chat_id,children:[R.map((function(e,s){var c=new Date(t.date);return Object(r.jsxs)("div",{className:"SubTweet",children:[Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"branch"})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"upper",children:[Object(r.jsx)("div",{className:"emp_img",style:{backgroundImage:"url('images/employees/"+e.emp_image+"')"}}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"font-weight-bold",children:e.name}),Object(r.jsxs)("p",{children:[" ",e.designation_name," in ",e.department_name," Department, ",e.company_name," "]})]})]}),Object(r.jsx)("div",{className:"body",children:e.body.includes("/***")?Object(r.jsx)("img",{src:"images/drive/"+e.body.split("/***")[1].split("***")[0],alt:"discussion attachment",width:"100%"}):Object(r.jsx)("p",{children:e.body})}),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:"font-weight-bold",children:c.toDateString()})}),Object(r.jsx)("div",{children:Object(r.jsx)("p",{className:"font-weight-bold",children:t.time})})]})]})]},s)})),Object(r.jsx)("textarea",{onChange:e.onTweetboxChange,placeholder:"Enter your message",className:"form-control mt-2",name:t.chat_id,style:{fontSize:"12px"}}),Object(r.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-sm btn-light mt-1 px-3",onClick:function(){return B(t.chat_id)},children:Object(r.jsx)("i",{className:"las la-thumbtack",style:{fontSize:"15px"}})}),Object(r.jsx)("button",{type:"submit",className:"btn btn-sm btn-light mt-1",children:"Send"})]})]})]},s)}))})}),Object(r.jsxs)("div",{className:"Right",children:[Object(r.jsx)("h5",{className:"font-weight-bolder",children:"Members"}),Object(r.jsx)("hr",{}),A.map((function(e,t){return Object(r.jsxs)("div",{className:"Emp",children:[Object(r.jsxs)("p",{className:"font-weight-bold",children:[" ",e.name," "]}),Object(r.jsxs)("p",{children:[e.designation," in ",e.department," Department, ",e.company]})]},t)}))]})]}),Object(r.jsxs)("div",{className:"tweetgrid",children:[Object(r.jsxs)("form",{className:"TweetBox",onSubmit:e.onTweet,children:[Object(r.jsx)("textarea",{onChange:e.onTweetboxChange,placeholder:"Enter your message",className:"form-control w-100",name:"tweet",style:{fontSize:"13px"},required:!0}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{type:"submit",className:"btn btn-block border-light",children:"Send"}),Object(r.jsx)("button",{type:"button",className:"btn btn-block border-light",onClick:B,children:Object(r.jsx)("i",{className:"las la-thumbtack",style:{fontSize:"17px"}})})]})]}),Object(r.jsx)("div",{})]})]})}}}]);
//# sourceMappingURL=53.388fbba5.chunk.js.map