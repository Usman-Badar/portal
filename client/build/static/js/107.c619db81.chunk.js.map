{"version":3,"sources":["Components/AdminModule/Pages/MenuSetup/Methods.js","Components/AdminModule/Pages/MenuSetup/MenuSetup.js"],"names":["GetMenuItems","axios","setMenuItems","get","then","res","data","catch","err","console","log","message","GetAllEnteredViews","setAllViews","GetAllEnteredOptionIDs","setAllOptions","UI","lazy","MenuSetup","useState","MenuItems","AllViews","AllOptions","Edit","setEdit","menu_txt","icon_class_name","type","option_id","link","view","under_menu","access","Form","setForm","useEffect","fallback","onChangeHandler","e","target","name","value","AddNewMenuItem","preventDefault","url","post","id","alert","EditItem","index","obj","RemoveItem","onChangeIndex","keyCode"],"mappings":"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","file":"static/js/107.c619db81.chunk.js","sourcesContent":["export const GetMenuItems = ( axios, setMenuItems ) => {\r\n\r\n    axios.get(\r\n        '/admin_getallmenuitems'\r\n    ).then(\r\n        res => {\r\n\r\n            setMenuItems( res.data );\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n            \r\n            console.log( err );\r\n            setMenuItems( err.message );\r\n\r\n        }\r\n    )\r\n\r\n}\r\n\r\nexport const GetAllEnteredViews = ( axios, setAllViews ) => {\r\n\r\n    axios.get(\r\n        '/admin_getallmenuitemviews'\r\n    ).then(\r\n        res => {\r\n\r\n            setAllViews( res.data );\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n            \r\n            console.log( err );\r\n            setAllViews( err.message );\r\n\r\n        }\r\n    )\r\n\r\n}\r\n\r\nexport const GetAllEnteredOptionIDs = ( axios, setAllOptions ) => {\r\n\r\n    axios.get(\r\n        '/admin_getallmenuitemoptions'\r\n    ).then(\r\n        res => {\r\n\r\n            setAllOptions( res.data );\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n            \r\n            console.log( err );\r\n            setAllOptions( err.message );\r\n\r\n        }\r\n    )\r\n\r\n}\r\n\r\nexport const onChangeHandler = ( e, Form, setForm ) => {\r\n\r\n    const { name, value } = e.target;\r\n    const val = {\r\n        ...Form,\r\n        [name]: value\r\n    }\r\n\r\n    setForm( val );\r\n\r\n}\r\n\r\nexport const AddNewMenuItem = ( e, Form, axios, Edit, setEdit, setForm, setMenuItems, setAllOptions, setAllViews ) => {\r\n\r\n    e.preventDefault();\r\n    let url = '/admin_enternewmenuitem';\r\n    if ( Edit )\r\n    {\r\n        url = '/admin_editmenuitem';\r\n    }\r\n\r\n    axios.post(\r\n        url,\r\n        {\r\n            id: Form.id ? Form.id : null,\r\n            menu_txt: Form.menu_txt,\r\n            icon_class_name: Form.icon_class_name,\r\n            type: Form.type,\r\n            option_id: Form.option_id,\r\n            link: Form.link,\r\n            view: Form.view,\r\n            under_menu: Form.under_menu,\r\n            access: Form.access\r\n        }\r\n    ).then(\r\n        () => {\r\n\r\n            alert(\"SUCCESS\");\r\n            setForm(\r\n                {\r\n                    menu_txt: '',\r\n                    icon_class_name: '',\r\n                    type: 'link',\r\n                    option_id: null,\r\n                    link: null,\r\n                    view: 'portal',\r\n                    under_menu: null,\r\n                    access: null\r\n                }\r\n            );\r\n\r\n            setEdit();\r\n            GetMenuItems( axios, setMenuItems );\r\n            GetAllEnteredOptionIDs( axios, setAllOptions );\r\n            GetAllEnteredViews( axios, setAllViews );\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n            \r\n            console.log( err );\r\n            setMenuItems( err.message );\r\n\r\n        }\r\n    )\r\n\r\n}\r\n\r\nexport const EditItem = ( index, MenuItems, setEdit, setForm ) => {\r\n\r\n    const obj = MenuItems[index];\r\n    setEdit( obj.menu_txt );\r\n    setForm( obj );\r\n\r\n}\r\n\r\nexport const RemoveItem = ( index, MenuItems, axios, setMenuItems ) => {\r\n\r\n    const obj = MenuItems[index];\r\n    axios.post(\r\n        '/admin_removemenuitem',\r\n        {\r\n            id: obj.id\r\n        }\r\n    ).then(\r\n        () => {\r\n\r\n            alert(\"SUCCESS\");\r\n            GetMenuItems( axios, setMenuItems );\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n            \r\n            console.log( err );\r\n\r\n        }\r\n    )\r\n\r\n}\r\n\r\nexport const onChangeIndex = ( e, index, axios, MenuItems, setMenuItems ) => {\r\n\r\n    if ( e.keyCode === 13 )\r\n    {\r\n        axios.post(\r\n            '/admin_changemenuitemindexing',\r\n            {\r\n                index: e.target.value,\r\n                id: MenuItems[index].id\r\n            }\r\n        ).then(\r\n            () => {\r\n    \r\n                alert(\"SUCCESS\");\r\n                setMenuItems([]);\r\n                GetMenuItems( axios, setMenuItems );\r\n    \r\n            }\r\n        ).catch(\r\n            err => {\r\n                \r\n                console.log( err );\r\n    \r\n            }\r\n        )\r\n    }\r\n\r\n}","import React, { lazy, Suspense, useEffect, useState } from 'react';\r\nimport { GetMenuItems, onChangeHandler, GetAllEnteredViews, GetAllEnteredOptionIDs, AddNewMenuItem, onChangeIndex, EditItem, RemoveItem } from './Methods';\r\nimport axios from '../../../../axios';\r\n\r\nconst UI = lazy( () => import('./UI') );\r\n\r\nconst MenuSetup = () => {\r\n\r\n    const [ MenuItems, setMenuItems ] = useState([]);\r\n    const [ AllViews, setAllViews ] = useState([]);\r\n    const [ AllOptions, setAllOptions ] = useState([]);\r\n    const [ Edit, setEdit ] = useState();\r\n    const [ Form, setForm ] = useState(\r\n        {\r\n            menu_txt: '',\r\n            icon_class_name: '',\r\n            type: 'link',\r\n            option_id: null,\r\n            link: null,\r\n            view: 'portal',\r\n            under_menu: null,\r\n            access: null\r\n        }\r\n    );\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            GetMenuItems( axios, setMenuItems );\r\n            GetAllEnteredViews( axios, setAllViews );\r\n            GetAllEnteredOptionIDs( axios, setAllOptions );\r\n\r\n        }, []\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <Suspense fallback={ <div>Loading....</div> }>\r\n                <UI\r\n                    MenuItems={ MenuItems }\r\n                    AllViews={ AllViews }\r\n                    AllOptions={ AllOptions }\r\n                    Form={ Form }\r\n                    Edit={ Edit }\r\n\r\n                    onChangeHandler={ (e) => onChangeHandler( e, Form, setForm ) }\r\n                    AddNewMenuItem={ (e) => AddNewMenuItem( e, Form, axios, Edit, setEdit, setForm, setMenuItems, setAllOptions, setAllViews ) }\r\n                    EditItem={ (index) => EditItem( index, MenuItems, setEdit, setForm ) } \r\n                    RemoveItem={ (index) => RemoveItem( index, MenuItems, axios, setMenuItems ) }\r\n                    onChangeIndex={ (e, index) => onChangeIndex( e, index, axios, MenuItems, setMenuItems ) }\r\n                />\r\n            </Suspense>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default MenuSetup;"],"sourceRoot":""}