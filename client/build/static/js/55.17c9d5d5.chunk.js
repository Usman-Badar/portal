(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[55],{624:function(e,t,a){},688:function(e,t,a){"use strict";a.r(t);var s=a(94),n=a(4),c=a(1),l=(a(624),a(172)),r=a(132),i=a(0);t.default=function(e){var t=l.a.CanvasJS,a=l.a.CanvasJSChart,o=Object(c.useState)([]),u=Object(n.a)(o,2),d=u[0],j=u[1],b=Object(c.useState)([]),h=Object(n.a)(b,2),m=h[0],O=h[1],p=Object(c.useState)([]),f=Object(n.a)(p,2),x=f[0],v=f[1],y=Object(c.useState)([]),g=Object(n.a)(y,2),S=g[0],N=g[1],C=Object(c.useState)({}),R=Object(n.a)(C,2),w=R[0],q=R[1],E=Object(c.useState)(0),V=Object(n.a)(E,2),M=V[0],A=V[1];Object(c.useEffect)((function(){for(var t=[],a=0,s=0,n=0,c=0,l=0,r=0;r<e.CountStatus.length;r++)"Rejected"===e.CountStatus[r]&&(a+=1);for(var i=0;i<e.CountStatus.length;i++)"Approved"===e.CountStatus[i]&&(s+=1);for(var o=0;o<e.CountStatus.length;o++)"Waiting For Approval"===e.CountStatus[o]&&(n+=1);for(var u=0;u<e.CountStatus.length;u++)"Sent"===e.CountStatus[u]&&(c+=1);for(var d=0;d<e.CountStatus.length;d++)"Viewed"===e.CountStatus[d]&&(l+=1);t.push({y:a,label:"rejected"},{y:s,label:"approved"},{y:n,label:"waiting"},{y:c,label:"sent"},{y:l,label:"viewed"}),j(t)}),[e.CountStatus]),Object(c.useEffect)((function(){O(e.MonthlyRequests);for(var t=[],a=0;a<e.MonthlyRequests.length;a++)t.push(e.MonthlyRequests[a].count);N(t)}),[e.MonthlyRequests]),Object(c.useEffect)((function(){for(var t=[],a=[],s=0;s<e.ViewRequest.length;s++)t.includes(e.ViewRequest[s].company_name)||t.push(e.ViewRequest[s].company_name);for(var n=function(s){for(var n=e.ViewRequest.filter((function(e){return e.company_name===t[s]})),c=0,l=0;l<n.length;l++)c+=parseFloat(n[l].total);a.push({company:t[s],count:n.length,total:c})},c=0;c<t.length;c++)n(c);v(a);for(var l=0,r=0;r<e.ViewRequest.length;r++)l+=parseFloat(e.ViewRequest[r].total);A(l)}),[e.ViewRequest]),Object(c.useEffect)((function(){q(e.EmpData)}),[e.EmpData]),Object(c.useEffect)((function(){r.a.rebuild()})),t.addColorSet("customShades",["#E7604A","#56CC82","#29C7CA","#5C6E9C","#5C6E9C"]);var _={exportEnabled:!1,animationEnabled:!0,title:{text:"Summery"},colorSet:"customShades",data:[{type:"pie",startAngle:75,toolTipContent:"<b>{label}</b>: {y}%",showInLegend:"true",legendText:"{label}",indexLabelFontSize:10,indexLabel:"{label} - {y}%",dataPoints:d}]};return Object(i.jsxs)("div",{className:"Home",children:[Object(i.jsx)(r.a,{}),Object(i.jsxs)("div",{className:"three",children:[Object(i.jsxs)("div",{className:"Calculate px-4",children:[Object(i.jsx)("small",{className:"text-secondary",children:"Total Requests"}),Object(i.jsxs)("h3",{className:"font-weight-bolder",children:[e.CountRequests," ",Object(i.jsx)("small",{className:"text-secondary",children:"Received"})]}),0===Object.keys(w).length?null:w.access&&(JSON.parse(w.access).includes(522)||JSON.parse(w.access).includes(1))?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("small",{className:"text-secondary",children:"Total Value Rs"}),Object(i.jsxs)("h3",{className:"font-weight-bolder",children:[M.toLocaleString("en-US")," ",Object(i.jsx)("small",{className:"text-secondary",children:"Estimated"})]})]}):null]}),Object(i.jsx)("div",{className:"RequestStatusChart",children:Object(i.jsx)(a,{options:_})}),Object(i.jsx)("div",{className:"RequestStatusChart py-4 px-3",children:x.map((function(e,t){return Object(i.jsxs)("div",{className:" mb-3",style:{fontSize:"13px"},children:[Object(i.jsxs)("div",{className:"font-weight-bold",children:[e.company,":"]}),Object(i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(i.jsxs)("div",{children:[e.count," ",Object(i.jsx)("sub",{children:"Requests"})]}),Object(i.jsxs)("div",{children:["PKR",Object(i.jsxs)("span",{className:"ml-2",children:[e.total.toLocaleString("en-US")," /-"]})]})]})]},t)}))})]}),Object(i.jsxs)("div",{className:"ViewPrRequests_graph",children:[Object(i.jsx)("div",{className:"border-bottom mb-3",children:Object(i.jsx)("h4",{children:"Monthly Requests"})}),Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsxs)("div",{style:{display:"grid",marginRight:"10px"},children:[Object(i.jsx)("p",{className:"font-weight-bolder",children:Math.max.apply(Math,Object(s.a)(S))}),Object(i.jsx)("p",{className:"d-flex align-items-end font-weight-bolder",children:Math.min.apply(Math,Object(s.a)(S))})]}),Object(i.jsx)("div",{className:"ViewPrRequests_graphdiv",children:Object(i.jsxs)("div",{className:"graph_data ",children:[Object(i.jsx)("div",{className:"Graph_Bargrid",children:m.map((function(e,t){for(var a=0,s=0;s<m.length;s++)a+=m[s].count;var n=e.count/a*100;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"graphbar",style:{height:n+"%"},children:Object(i.jsxs)("div",{className:"tooltip",children:[e.count," Requests"]})},t)})}))}),Object(i.jsx)("div",{className:"Graph_monthgrid",children:m.map((function(e,t){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{children:e.month},t)})}))})]})})]}),Object(i.jsx)("div",{className:"graphyear",children:"2022"})]})]})}},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a(19);var n=a(26);function c(e){return function(e){if(Array.isArray(e))return Object(s.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);