(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[99],{643:function(e,s,t){"use strict";t.r(s);var c=t(24),a=t(9),n=t(4),i=t(1),l=(t(644),t(17)),r=t(11),d=t(79),o=t.n(d),b=t(132),j=t(82),u=(t(83),t(0));s.default=function(){var e=Object(i.useState)(!1),s=Object(n.a)(e,2),t=s[0],d=s[1],m=Object(i.useState)(!1),_=Object(n.a)(m,2),h=_[0],x=_[1],p=Object(i.useState)([]),v=Object(n.a)(p,2),g=v[0],f=v[1],N=Object(i.useState)({asset_id:"",sub_asset_code:"",sub_asset_name:"",created_at:"",status:""}),S=Object(n.a)(N,2),C=S[0],A=S[1],k=Object(i.useState)(!1),w=Object(n.a)(k,2),y=w[0],F=w[1],D=Object(i.useState)("list"),L=Object(n.a)(D,2),G=L[0],H=L[1],B=Object(i.useState)(0),I=Object(n.a)(B,2),V=I[0],E=I[1],J=Object(i.useState)({sub_asset_code:"",sub_asset_name:""}),P=Object(n.a)(J,2),R=P[0],q=P[1];Object(i.useEffect)((function(){localStorage.getItem("inventorySubAssetsView")&&(H(localStorage.getItem("inventorySubAssetsView")),o()(".btn.icon1").removeClass("active"),o()(".btn#"+localStorage.getItem("inventorySubAssetsView")).addClass("active"))}),[]),Object(i.useEffect)((function(){var e=parseInt(window.location.href.split("/").pop().split("&&").shift().split("=").pop());isNaN(e)||(E(e),U(e))}),[window.location.href.split("/").pop()]),Object(i.useEffect)((function(){""!==C.asset_id?x(!0):(x(!1),d(!1)),b.a.rebuild()}),[C.asset_id]);var T=function(e){H(e),localStorage.setItem("inventorySubAssetsView",e),o()(".btn-group.actions .btn").toggleClass("active")},U=function(e){r.a.post("/getallsubassets",{asset_id:e||V}).then((function(e){f(e.data)})).catch((function(e){console.log(e)}))},z=function(){F(!1),d(!1)},K=function(e){var s=e.target,t=s.checked,c=s.id;console.log(t),console.log(c);var a={};if(t){var n=c.split("check").pop(),i=g[n];console.log(i),i.check=c,a=i}A(a)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b.a,{}),Object(u.jsx)(j.a,{}),Object(u.jsxs)("div",{className:"SubAssets",children:[Object(u.jsxs)("div",{className:"SubAssets_Top",children:[Object(u.jsx)("div",{className:"SubAssets_Top_left",children:Object(u.jsx)("div",{className:"dropdown_filter",children:Object(u.jsx)("p",{children:"All Sub Assets"})})}),Object(u.jsxs)("div",{className:"SubAssets_Top_right",children:[Object(u.jsxs)("button",{className:"btn New_button",onClick:function(){F(!0)},children:[" ",Object(u.jsx)("i",{class:"las la-plus"})," ",Object(u.jsx)("p",{children:"New"})]}),!0===h||""!==C.asset_id?Object(u.jsxs)("div",{className:"btn-group",children:[Object(u.jsx)("button",{"data-tip":"Edit",className:"btn icon1",onClick:function(){d(!0)},children:Object(u.jsx)("i",{class:"las la-edit"})}),Object(u.jsx)("button",{"data-tip":"Delete",className:"btn icon1",onClick:function(){var e=[C.sub_asset_id];r.a.post("/deleteselectedsubassets",{assets:JSON.stringify(e)}).then((function(){j.b.dark("Assets Deleted",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),U(),A({asset_id:"",sub_asset_code:"",sub_asset_name:"",created_at:"",status:""}),o()("input[type=radio]").prop("checked",!1)})).catch((function(e){j.b.dark(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:Object(u.jsx)("i",{class:"las la-trash"})})]}):null,Object(u.jsxs)("div",{className:"btn-group actions",children:[Object(u.jsx)("button",{"data-tip":"List View",id:"list",className:"btn icon1 active",onClick:function(){return T("list")},children:Object(u.jsx)("i",{class:"las la-list-ul"})}),Object(u.jsx)("button",{"data-tip":"Box View",id:"box",className:"btn icon1",onClick:function(){return T("box")},children:Object(u.jsx)("i",{class:"las la-border-all"})})]}),Object(u.jsx)("div",{className:"list_button"})]})]}),t?Object(u.jsxs)("div",{className:"grid_parent",children:[Object(u.jsx)("div",{children:0===g.length?Object(u.jsx)("h4",{className:"text-center",children:"No Record Found"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"SubAssets_Grid changeOnCLick",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{className:"text-left",children:"Sub Assets Name"})})]}),g.map((function(e,s){return Object(u.jsxs)("div",{className:"SubAssets_Grid_list changeOnCLick",children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:K})}),Object(u.jsx)(l.c,{to:"/inventory/asset/id="+e.sub_asset_id+"&&name="+e.sub_asset_name+"&&view=sub_items",children:Object(u.jsx)("p",{className:"text-left",children:e.sub_asset_name})})]},s)}))]})}),Object(u.jsx)(O,{submitAssetsForm:function(e){e.preventDefault(),r.a.post("/updateselectedsubasset",{assets:JSON.stringify(C)}).then((function(){j.b.dark("Assets Updated",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),U(),A({asset_id:"",sub_asset_code:"",sub_asset_name:"",created_at:"",status:""}),o()("input[type=radio]").prop("checked",!1)})).catch((function(e){j.b.dark(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},OnChangeHandler:function(e){var s=e.target,t=s.value,n=s.name,i=Object(a.a)(Object(a.a)({},C),{},Object(c.a)({},n,t));A(i)},CancleForm:z,Form:C,date:new Date(C.created_at)})]}):y?Object(u.jsxs)("div",{className:"grid_parent",children:[Object(u.jsx)("div",{children:0===g.length?Object(u.jsx)("h4",{className:"text-center",children:"No Record Found"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"SubAssets_Grid changeOnCLick",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{className:"text-left",children:"Sub Assets Name"})})]}),g.map((function(e,s){return Object(u.jsxs)("div",{className:"SubAssets_Grid_list changeOnCLick",children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:K})}),Object(u.jsx)(l.c,{to:"/inventory/asset/id="+e.sub_asset_id+"&&name="+e.sub_asset_name+"&&view=sub_items",children:Object(u.jsx)("p",{className:"text-left",children:e.sub_asset_name})})]},s)}))]})}),Object(u.jsx)(O,{submitAssetsForm:function(e){e.preventDefault();for(var s=0;s<g.length;s++)if(R.sub_asset_name.toLocaleLowerCase()===g[s].sub_asset_name.toLocaleLowerCase()||R.sub_asset_code.toLocaleLowerCase()===g[s].sub_asset_code.toLocaleLowerCase())return alert("name and code should be unique"),!1;var t={asset_id:V,sub_asset_name:R.sub_asset_name,sub_asset_code:R.sub_asset_code,date_time:new Date};r.a.post("/newsubasset",{data:JSON.stringify(t)}).then((function(){q({sub_asset_code:"",sub_asset_name:""}),U(),j.b.dark("New Asset Added",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e)})),F(!1)},OnChangeHandler:function(e){var s=e.target,t=s.value,n=s.name,i=Object(a.a)(Object(a.a)({},R),{},Object(c.a)({},n,t));q(i)},CancleForm:z,Form:R,date:new Date})]}):"box"===G?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"Box",children:[0===g.length?Object(u.jsx)("h4",{className:"text-center",children:"No Record Found"}):null,Object(u.jsx)("div",{className:"SubAssets_Grid_box",children:g.map((function(e,s){var t=new Date(e.created_at);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.c,{to:"/inventory/asset/id="+e.sub_asset_id+"&&name="+e.sub_asset_name+"&&view=sub_items",className:"Grid_box_div shadow-sm rounded",children:[Object(u.jsx)("div",{className:"CheckBox",children:Object(u.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:K})}),Object(u.jsxs)("div",{className:"Grid_box_div_center",children:[Object(u.jsx)("div",{className:"Icon",children:Object(u.jsx)("i",{class:"las la-image"})}),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("p",{children:"Sub Asset Name : "}),Object(u.jsx)("h6",{children:e.sub_asset_name})]}),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("p",{children:"Sub Asset Code : "}),Object(u.jsx)("h6",{children:e.sub_asset_code})]}),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("p",{children:"Sub Items : "}),Object(u.jsx)("h6",{children:e.count_sub_items})]}),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("p",{children:"Date : "}),Object(u.jsx)("h6",{children:t?t.toDateString():null})]})]})]},s)})}))})]})}):Object(u.jsx)("div",{children:0===g.length?Object(u.jsx)("h4",{className:"text-center",children:"No Record Found"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"SubAssets_Grid",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"Sub Assets Name"})}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"Sub Assets Code"})}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"Sub Items"})}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"Date"})})]}),g.map((function(e,s){var t=new Date(e.created_at);return Object(u.jsxs)("div",{className:"SubAssets_Grid_list",children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:K})}),Object(u.jsx)(l.c,{to:"/inventory/asset/id="+e.sub_asset_id+"&&name="+e.sub_asset_name+"&&view=sub_items",children:Object(u.jsx)("p",{children:e.sub_asset_name})}),Object(u.jsx)(l.c,{to:"/inventory/asset/id="+e.sub_asset_id+"&&name="+e.sub_asset_name+"&&view=sub_items",children:Object(u.jsx)("p",{children:e.sub_asset_code})}),Object(u.jsx)(l.c,{to:"/inventory/asset/id="+e.sub_asset_id+"&&name="+e.sub_asset_name+"&&view=sub_items",children:Object(u.jsx)("p",{children:e.count_sub_items})}),Object(u.jsx)(l.c,{to:"/inventory/asset/id="+e.sub_asset_id+"&&name="+e.sub_asset_name+"&&view=sub_items",children:Object(u.jsx)("p",{children:t?t.toDateString():null})})]},s)}))]})})]})]})};var O=function(e){var s=Object(i.useState)({sub_asset_name:"",sub_asset_code:""}),t=Object(n.a)(s,2),c=t[0],a=t[1];return Object(i.useEffect)((function(){a({sub_asset_name:e.Form.sub_asset_name,sub_asset_code:e.Form.sub_asset_code})}),[e.Form]),Object(u.jsxs)("form",{className:"SubAssets_form",onSubmit:e.submitAssetsForm,id:"myForm",children:[Object(u.jsx)("h5",{className:"font-weight-bold",children:"Add New Assets"}),Object(u.jsxs)("div",{className:"SubAssets_form_grid",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Assets Name"}),Object(u.jsx)("input",{type:"text",onChange:e.OnChangeHandler,value:c.sub_asset_name,className:" form-control form-control-sm",name:"sub_asset_name",required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Assets Code"}),Object(u.jsx)("input",{type:"text",onChange:e.OnChangeHandler,value:c.sub_asset_code,className:" form-control form-control-sm",name:"sub_asset_code",required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Date"}),Object(u.jsx)("input",{type:"text",disabled:!0,value:e.date?e.date.toDateString():null,className:"form-control form-control-sm"})]})]}),Object(u.jsx)("div",{className:"SubAssets_form_button",children:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("button",{className:"btn btn-sm cancle",onClick:function(){return e.CancleForm()},type:"reset",children:"Cancle"}),Object(u.jsx)("button",{className:"btn btn-sm submit",type:"submit",children:"Submit"})]})})]},e.index)}},644:function(e,s,t){}}]);