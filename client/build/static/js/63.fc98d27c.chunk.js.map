{"version":3,"sources":["Components/AdminModule/Pages/AttRequest_Config/AttRequest_Config.jsx"],"names":["AttRequest_Config","useState","Datelist","setDatelist","date","AddDate","setAddDate","useEffect","GetAllDates","axios","get","then","response","data","catch","err","console","log","ChangeStatus","status","id","Data","FormData","append","post","$","val","className","onSubmit","e","preventDefault","type","name","onChange","target","value","setVal","filter","d1","Date","toDateString","required","sessionStorage","getItem","style","map","index","d","enabled","onClick","OnDelete"],"mappings":"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","file":"static/js/63.fc98d27c.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './AttRequest_Config.css';\r\n\r\nimport axios from '../../../../axios';\r\n\r\nimport $ from 'jquery';\r\n\r\nconst AttRequest_Config = () => {\r\n\r\n    const [Datelist, setDatelist] = useState([]);\r\n\r\n    const [AddDate, setAddDate] = useState(\r\n        {\r\n            date: ''\r\n        }\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            GetAllDates();\r\n\r\n        }, []\r\n    );\r\n\r\n    const GetAllDates = () => {\r\n\r\n        axios.get('/get_att_request_dates').then(response => {\r\n\r\n            setDatelist(response.data);\r\n\r\n        }).catch(err => {\r\n\r\n            console.log(err)\r\n\r\n        });\r\n\r\n    }\r\n\r\n    // Function onchange which is called to store data into usestate()\r\n    const OnChangeHandler = (e) => {\r\n\r\n        const { name, value } = e.target;\r\n        const setVal = {\r\n            ...AddDate,\r\n            [name]: value\r\n        }\r\n        setAddDate(setVal);\r\n\r\n        if ( value === '' )\r\n        {\r\n            GetAllDates();\r\n        }else\r\n        {\r\n            let date = Datelist.filter(\r\n                val => {\r\n\r\n                    const d1 = new Date( val.date );\r\n                    const d2 = new Date( AddDate.date );\r\n                    console.log( d1.toDateString() );\r\n                    console.log( AddDate.date );\r\n                    return val.date === AddDate.date\r\n\r\n                }\r\n            )\r\n\r\n            console.log( date );\r\n            // setDatelist( date );\r\n        }\r\n\r\n    }\r\n\r\n    const AddNewDate = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('date', AddDate.date);\r\n\r\n        axios.post('/att_request_dates', Data).then(() => {\r\n\r\n            GetAllDates();\r\n            $(\"input[name='date']\").val('');\r\n\r\n        }).catch(err => {\r\n\r\n            console.log(err)\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const ChangeStatus = ( status, id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('status', status);\r\n        Data.append('id', id);\r\n\r\n        axios.post('/get_att_request_dates_show_hide', Data).then(() => {\r\n\r\n            GetAllDates();\r\n            $(\"input[name='date']\").val('');\r\n\r\n        }).catch(err => {\r\n\r\n            console.log(err)\r\n\r\n        });\r\n\r\n    }\r\n\r\n    const OnDelete = ( id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('id', id);\r\n\r\n        axios.post('/del_att_request_dates_', Data).then(() => {\r\n\r\n            GetAllDates();\r\n            $(\"input[name='date']\").val('');\r\n\r\n        }).catch(err => {\r\n\r\n            console.log(err)\r\n\r\n        });\r\n        \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"AttRequest_Config d-center\">\r\n                <div className=\"AttRequest_Config-content\">\r\n\r\n                    <h3>Attendance Request Configuration</h3>\r\n                    <form className=\"search-content\" onSubmit={AddNewDate}>\r\n                        <div className=\"d-flex align-items-center w-50\">\r\n                            <input type=\"date\" name='date' className=\"form-control mr-1\" onChange={OnChangeHandler} required />\r\n                            <button className=\"btn searchBtn btn-dark px-4 mx-3 w-50\">Add Date</button>\r\n                        </div>\r\n                    </form>\r\n\r\n                    {\r\n                        sessionStorage.getItem('userName') === 'UsmanBadar' || sessionStorage.getItem('userName') === 'MMalahim'\r\n                            ?\r\n                            <h3 className=\"text-uppercase\" style={{ 'color': 'rgb(128, 128, 128, .5)' }}>Dates</h3>\r\n                            :\r\n                            null\r\n                    }\r\n\r\n                    {\r\n                        sessionStorage.getItem('userName') === 'UsmanBadar' || sessionStorage.getItem('userName') === 'MMalahim'\r\n                            ?\r\n\r\n                            <>\r\n                                {\r\n                                    Datelist.map(\r\n                                        (val, index) => {\r\n\r\n                                            const d = new Date( val.date );\r\n\r\n                                            return (\r\n                                                <>\r\n                                                    <div className=\"Requests\" key={index}>\r\n                                                        <div className='index' >\r\n                                                            {index + 1}\r\n                                                        </div>\r\n                                                        <div className='colums'>\r\n                                                            <p className=\"mb-0\">{d ? d.toDateString() : null}</p>\r\n                                                        </div>\r\n                                                        <div className='colums'>\r\n                                                            {\r\n                                                                val.enabled === 1\r\n                                                                    ?\r\n                                                                    <button className=\"btn btn-primary\" onClick={() => ChangeStatus(0, val.id)}>Disable</button>\r\n                                                                    :\r\n                                                                    <button className=\"btn btn-primary\" onClick={() => ChangeStatus(1, val.id)}>Enable</button>\r\n                                                            }\r\n                                                        </div>\r\n                                                        <div className='colums'>\r\n                                                            <button className=\"btn\"  onClick={ () => OnDelete( val.id ) } style={{ 'backgroundColor': '#FEC400' }}><i className=\"las la-trash\"></i></button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                                }\r\n\r\n                            </>\r\n                            :\r\n                            null\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default AttRequest_Config;"],"sourceRoot":""}