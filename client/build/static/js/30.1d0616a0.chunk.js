(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[30],{166:function(e,t,a){"use strict";a.r(t),a.d(t,"Mail",(function(){return c}));var n=a(1),s=a(170),r=a(0),c=function(e){var t=e.data,a=Object(n.useRef)();return Object(r.jsxs)("form",{className:"d-none",ref:a,onSubmit:function(e){e.preventDefault(),s.a.sendForm("service_dnz15bf","template_grpmulw",a.current,"cHL-u6LMl8NYS9kcE").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)}))},children:[Object(r.jsx)("label",{children:"Receiver"}),Object(r.jsx)("input",{required:!0,type:"text",name:"to_name",value:t.receiver}),Object(r.jsx)("label",{children:"Gender"}),Object(r.jsxs)("select",{required:!0,name:"gender",defaultValue:t.gender,children:[Object(r.jsx)("option",{value:"Sir",children:"Sir"}),Object(r.jsx)("option",{value:"Mam",children:"Mam"})]}),Object(r.jsx)("label",{children:"Subject"}),Object(r.jsx)("input",{required:!0,type:"text",name:"subject",value:t.subject}),Object(r.jsx)("label",{children:"Email"}),Object(r.jsx)("input",{required:!0,type:"email",name:"send_to",value:t.send_to}),Object(r.jsx)("label",{children:"Message"}),Object(r.jsx)("textarea",{required:!0,name:"message",value:t.message}),Object(r.jsx)("input",{type:"submit",value:"Send",id:"mail_form"})]})};t.default=c},549:function(e,t,a){},550:function(e,t,a){},675:function(e,t,a){"use strict";a.r(t);var n=a(24),s=a(9),r=a(4),c=a(1),i=a(79),l=a.n(i),o=(a(549),a(96)),d=(a(550),a(11)),j=a(81),p=(a(82),a(166)),m=a(0),b=function(e){var t=Object(c.useState)({leaveType:"",leaveFrom:"",leaveTo:"",NoOfDays:0,Purpose:"",leaveDate:"",submit_to:""}),i=Object(r.a)(t,2),o=i[0],b=i[1],h=Object(c.useState)({subject:"",send_to:"",gender:"",receiver:"",message:""}),u=Object(r.a)(h,2),v=u[0],x=u[1],O=Object(c.useState)({name:"",file:""}),g=Object(r.a)(O,2),_=g[0],f=g[1];Object(c.useEffect)((function(){x({subject:"New Leave Application",send_to:"m.hassan@sbl.com.pk",gender:"Sir",receiver:"Mahmood ul Hassan",message:sessionStorage.getItem("name")+" apply for a leave on the portal"}),l()(".Medical_Prove").hide(0),l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date2").slideUp(0)}),[]);var y=function(e){var t=e.target,a=t.name,r=t.value;"radio"===t.type&&("leaveType"===a&&"Sick"===r?(l()("input[name='attachement']").attr("required",!0),l()(".Medical_Prove").show(500)):(l()("input[name='attachement']").attr("required",!1),l()(".Medical_Prove").hide(500)));var c=Object(s.a)(Object(s.a)({},o),{},Object(n.a)({},a,r));b(c)},D=function(e){var t,r=e.target,c=r.name,i=r.value,l=a(129),d=0;if("leaveDate"===c);else{if("leaveFrom"===c&&""!==i&&""!==o.leaveTo)if(o.leaveTo>i){var j=i,p=l(o.leaveTo).diff(l(j),"days");d=parseInt(p)}else d=0;if("leaveTo"===c&&""!==i&&""!==o.leaveFrom)if(o.leaveFrom<i){var m=o.leaveFrom,h=l(i).diff(l(m),"days");d=parseInt(h)}else d=0}var u=Object(s.a)(Object(s.a)({},o),{},(t={},Object(n.a)(t,c,i),Object(n.a)(t,"NoOfDays",d),t));b(u)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.default,{data:v}),Object(m.jsx)("div",{className:e.LeaveForm?"Employee_Leave_Application_Form":"Employee_Leave_Application_Form availedform",children:Object(m.jsx)("div",{className:"Application_Form",style:{animationDelay:"0.1".toString()+"s"},children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=!1;if(""===o.leaveType&&(j.b.dark("Please Fill all The Fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!0),l()("input[name=OnDayLeave]").prop("checked")?""===o.leaveDate&&(j.b.dark("Please Fill all The Date Fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!0):""!==o.leaveFrom&&""!==o.leaveTo||(j.b.dark("Please Fill all The Date Fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!0),!t){var a=new FormData;a.append("RequestedBy",sessionStorage.getItem("EmpID")),a.append("RequestedTo",o.submit_to),a.append("leaveType",o.leaveType),a.append("leaveFrom",o.leaveFrom),a.append("leaveTo",o.leaveTo),a.append("leaveDate",o.leaveDate),a.append("onDayLeave",l()("input[name=OnDayLeave]").prop("checked")?1:0),a.append("NoOfDays",o.NoOfDays),a.append("Purpose",o.Purpose),a.append("AttachementName",_.name.replace(/\s/g,"")),a.append("AttachementFile",_.file),a.append("Availed",l()("input[type=number]").val()),d.a.post("/applyleave",a).then((function(){l()("button[type=reset]").trigger("click"),l()(".Medical_Prove").hide(500),l()("#mail_form").trigger("click"),b({leaveType:"",leaveFrom:"",leaveTo:"",NoOfDays:0,Purpose:"",leaveDate:"",submit_to:""}),l()("input[name=OnDayLeave]").prop("checked")?(l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date").slideUp(500),l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date2").slideDown(500),l()(".Employee_Leave_Application_Form .Application_Form input[type=date]").val("")):(l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date").slideDown(500),l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date2").slideUp(500));var e=new FormData;e.append("eventID",2),e.append("whatsapp",!0),e.append("receiverID",o.submit_to),e.append("senderID",sessionStorage.getItem("EmpID")),e.append("Title",sessionStorage.getItem("name")),e.append("NotificationBody",sessionStorage.getItem("name")+" apply for a leave on the portal"),d.a.post("/newnotification",e).then((function(){})),j.b.dark("Request Submitted",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){j.b.dark(e.toString(),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}},children:[Object(m.jsx)("h4",{className:"text-center border-bottom font-weight-bolder pb-3 headings",children:e.Mainheading}),Object(m.jsxs)("div",{className:"Check_Box  p-1",children:[Object(m.jsx)("div",{className:"Check_Box_Heading text-center p-1",children:Object(m.jsxs)("h5",{className:"font-weight-bolder",children:["Please tick ( ",Object(m.jsx)("i",{class:"las la-check"})," ) in Application Box"]})}),Object(m.jsx)("div",{className:"d-flex justify-content-center align-items-center ",children:Object(m.jsxs)("div",{className:"Check_Box_select",children:[Object(m.jsx)("div",{className:"radio",children:Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{name:"leaveType",value:"Privilege",type:"radio",className:"mr-2",onChange:y}),"Privilege"]})}),Object(m.jsx)("div",{className:"radio",children:Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{name:"leaveType",value:"Casual",type:"radio",className:"mr-2",onChange:y}),"Casual"]})}),Object(m.jsx)("div",{className:"radio",children:Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{name:"leaveType",value:"Sick",type:"radio",className:"mr-2",onChange:y}),"Sick"]})}),Object(m.jsx)("div",{className:"radio",children:Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{name:"leaveType",value:"Other",type:"radio",className:"mr-2",onChange:y}),"Other"]})})]})})]}),Object(m.jsxs)("div",{className:"Leave_Duration p-1",children:[Object(m.jsx)("div",{className:"Leave_Duration_Heading text-center p-1",children:Object(m.jsx)("h5",{className:"font-weight-bolder",children:"Duration Of Leave"})}),Object(m.jsxs)("div",{className:"p-1 d-flex align-items-center",children:[Object(m.jsx)("p",{className:"mb-0 mr-2",children:"I want 1 day leave"}),Object(m.jsx)("input",{className:"d-block",type:"checkbox",value:"true",name:"OnDayLeave",onChange:function(){l()("input[name=OnDayLeave]").prop("checked")?(console.log("h1"),l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date").slideUp(500),l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date2").slideDown(500),l()(".Employee_Leave_Application_Form .Application_Form input[type=date]").val(""),b(Object(s.a)(Object(s.a)({},o),{},{leaveFrom:"",leaveTo:"",NoOfDays:0}))):(l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date").slideDown(500),l()(".Employee_Leave_Application_Form .Application_Form .Leave_Duration .Leave_Duration_Date2").slideUp(500),b(Object(s.a)(Object(s.a)({},o),{},{leaveFrom:"",leaveTo:"",NoOfDays:0})))}})]}),Object(m.jsxs)("div",{className:"Leave_Duration_Date p-1",children:[Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)("p",{children:"From : "})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:"date",className:"form-control mb-2",name:"leaveFrom",onChange:D})}),Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)("p",{children:"To : "})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:"date",className:"form-control mb-2",name:"leaveTo",onChange:D})}),Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)("p",{children:"No. of Days : "})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{value:o.NoOfDays+1,disabled:!0,type:"text",className:"form-control"})})]}),Object(m.jsxs)("div",{className:"Leave_Duration_Date Leave_Duration_Date2 p-1",children:[Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)("p",{children:"Date : "})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:"date",className:"form-control mb-2",name:"leaveDate",onChange:D})})]})]}),Object(m.jsxs)("div",{className:"Leave_Purpose p-1",children:[Object(m.jsx)("div",{className:"Leave_Purpose_Heading p-1",children:Object(m.jsx)("h5",{className:"font-weight-bolder mb-0",children:e.heading})}),Object(m.jsx)("div",{className:"Leave_Purpose_reason p-1",children:Object(m.jsx)("textarea",{name:"Purpose",onChange:y,required:!0,minLength:"30",placeholder:"Describe your reason in detail",style:{height:"80px"},className:"form-control"})})]}),Object(m.jsxs)("div",{className:"Medical_Prove p-1",children:[Object(m.jsx)("div",{className:"Leave_Purpose_Heading p-1",children:Object(m.jsx)("h5",{className:"font-weight-bolder mb-0",children:"Medical Attachment "})}),Object(m.jsxs)("div",{className:"Leave_Purpose_reason p-1",children:[Object(m.jsx)("input",{name:"attachement",onChange:function(e){var t=new FileReader,a=new Date;t.onload=function(){2===t.readyState&&f(Object(s.a)(Object(s.a)({},_),{},{name:sessionStorage.getItem("name")+"_"+sessionStorage.getItem("EmpID")+"_"+a.getDate().toString()+"-"+(a.getMonth()+1).toString()+"-"+a.getFullYear().toString()+"_"+a.getTime().toString(),file:e.target.files[0]}))},t.readAsDataURL(e.target.files[0])},type:"file",className:"form-control"}),Object(m.jsx)("input",{type:"number",value:e.availed,className:"d-none form-control"})]})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-end align-items-center p-2",children:[Object(m.jsxs)("select",{name:"submit_to",onChange:y,id:"",className:"form-control form-control-sm",required:!0,children:[Object(m.jsx)("option",{value:"",children:" submit to "}),e.Relations.map((function(e,t){var a;return("all"===e.category||e.category.includes("leave_request"))&&(a=Object(m.jsxs)("option",{value:e.sr,children:[" ",e.name," "]},t)),a}))]}),Object(m.jsx)("button",{type:"reset",className:"btn mr-3 d-none",children:"Cancel"}),""===o.leaveType||""===o.Purpose||""===o.submit_to?null:Object(m.jsx)("button",{type:"submit",className:"btn ml-2",children:"Submit"})]})]})})})]})},h=a(25),u=a(27),v=a(3),x=a(551),O=a.n(x),g=a(88),_=(t.default=function(){var e=a(129),t=Object(v.g)(),i=Object(h.c)((function(e){return e.EmpAuth.Relations})),x=Object(c.useState)(!1),y=Object(r.a)(x,2),D=y[0],N=y[1],S=Object(c.useState)(),L=Object(r.a)(S,2),w=L[0],F=L[1],I=Object(c.useState)([]),k=Object(r.a)(I,2),C=k[0],q=k[1],A=Object(c.useState)(),T=Object(r.a)(A,2),E=T[0],P=T[1],R=Object(c.useState)({subject:"",send_to:"",gender:"",receiver:"",message:""}),M=Object(r.a)(R,2),B=M[0],H=M[1],Y=Object(c.useState)([]),z=Object(r.a)(Y,2),G=z[0],U=z[1],W=Object(c.useState)(),J=Object(r.a)(W,2),V=J[0],K=J[1],Q=Object(c.useState)(!0),X=Object(r.a)(Q,2),Z=X[0],$=X[1],ee=Object(c.useState)(!0),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],se=Object(c.useState)({ShortLeaveTime:"",ShortLeaveDate:"",ShortLeaveReason:"",submit_to:""}),re=Object(r.a)(se,2),ce=re[0],ie=re[1];Object(c.useEffect)((function(){l()(".divs").hide(0),"/short_leave_form"===t.location.pathname?l()(".Short_Leave_Form").show():"/leave_form"===t.location.pathname?(l()(".Employee_Leave_App_Form").show(),ne(Object(m.jsx)(b,{Relations:i,availed:"0",type:"LeaveForm",Mainheading:"Leave Application",heading:"Purpose of Leave"}))):"/avail_leave_form"===t.location.pathname?(l()(".Employee_Leave_App_Form").show(),ne(Object(m.jsx)(b,{Relations:i,availed:"1",type:"AvailLeaveForm",Mainheading:"Leave Application Already Availed",heading:"Reason"}))):("/leave_history"===t.location.pathname||t.location.pathname.includes("/leave_request/"))&&(l()(".History").show(),t.location.pathname.includes("/leave_request/")&&be(t.location.pathname.split("/").pop()))}),[t]),Object(c.useEffect)((function(){H({subject:"New Short Leave",send_to:"m.hassan@sbl.com.pk",gender:"Sir",receiver:"Mahmood ul Hassan",message:sessionStorage.getItem("name")+" apply for a short leave on the portal"}),q([{icon:"las la-male",txt:"Short Leave Form",link:!1,func:function(){return le()}},{icon:"las la-home",txt:"Leave Form",link:!1,func:function(){return oe()}},{icon:"las la-male",txt:"Avail Leave Form",link:!1,func:function(){return de()}},{icon:"las la-history",txt:"History",link:!1,func:function(){return je()}}]),$(!1)}),[]);var le=function(){t.replace("/short_leave_form")},oe=function(){t.replace("/leave_form")},de=function(){t.replace("/avail_leave_form")},je=function(){t.replace("/leave_history")},pe=function(e){var t=e.target,a=t.name,r=t.value,c=Object(s.a)(Object(s.a)({},ce),{},Object(n.a)({},a,r));ie(c)},me=function(e,t){d.a.post(e,t).then((function(e){U(e.data)})).catch((function(e){j.b.dark(e.toString(),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log(e)}))},be=function(e){var t=e.split("_").shift(),a=e.split("_").pop();d.a.post("/getmyleavedetails",{leave_id:t,type:a,emp_id:sessionStorage.getItem("EmpID")}).then((function(e){P(a),K(e.data[0]),q([{icon:"las la-male",txt:"Short Leave Form",link:!1,func:function(){return le()}},{icon:"las la-home",txt:"Leave Form",link:!1,func:function(){return oe()}},{icon:"las la-male",txt:"Avail Leave Form",link:!1,func:function(){return de()}},{icon:"las la-history",txt:"History",link:!1,func:function(){return je()}},{icon:"las la-print",txt:"Print",link:!1,func:function(){return he()}},parseInt(e.data[0].requested_by)!==parseInt(sessionStorage.getItem("EmpID"))||"viewed"!==e.data[0].request_status.toLowerCase()&&"sent"!==e.data[0].request_status.toLowerCase()?void 0:{icon:"las la-ban",txt:"Cancel",link:!1,func:function(){return ue(e.data[0])}},parseInt(e.data[0].requested_by)===parseInt(sessionStorage.getItem("EmpID"))||"viewed"!==e.data[0].request_status.toLowerCase()&&"sent"!==e.data[0].request_status.toLowerCase()?void 0:{icon:"las la-check-circle",txt:"Approve",link:!1,func:function(){return ge(e.data[0])}},parseInt(e.data[0].requested_by)===parseInt(sessionStorage.getItem("EmpID"))||"viewed"!==e.data[0].request_status.toLowerCase()&&"sent"!==e.data[0].request_status.toLowerCase()?void 0:{icon:"lar la-hand-paper",txt:"Reject",link:!1,func:function(){return Oe(e.data[0])}},parseInt(e.data[0].requested_by)!==parseInt(sessionStorage.getItem("EmpID"))&&"accepted"===e.data[0].request_status.toLowerCase()&&parseInt(e.data[0].authorized_to)===parseInt(sessionStorage.getItem("EmpID"))?{icon:"las la-print",txt:"Authorize",link:!1,func:function(){return _e(e.data[0])}}:void 0])})).catch((function(e){console.log(e)}))},he=function(){O()({printable:"leaveApp",type:"html",targetStyles:["*"],css:["https://fonts.googleapis.com/css2?family=Cinzel&family=Oxygen:wght@300&display=swap","https://fonts.googleapis.com/css?family=Tangerine"],font_size:""})},ue=function(e){xe(),F(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Do You Want To Cancel This Request?"}),Object(m.jsx)("div",{className:"up py-2 text-right",children:Object(m.jsx)("button",{className:"px-3 btn btn-sm btn-primary",onClick:function(){return ve("down","up")},children:"Yes"})}),Object(m.jsx)("div",{className:"down py-2 text-right",children:Object(m.jsxs)("form",{onSubmit:function(a){return function(e,a){e.preventDefault();var n={leave_id:a.leave_id,remarks:e.target.remarks.value,type:t.location.pathname.split("/").pop().split("_").pop()};d.a.post("/cancel_leave",n).then((function(){je(),l()("#mail_form").trigger("click");var e=new FormData;e.append("eventID",2),e.append("whatsapp",!0),e.append("receiverID",a.received_by),e.append("senderID",sessionStorage.getItem("EmpID")),e.append("Title",sessionStorage.getItem("name")),e.append("NotificationBody",sessionStorage.getItem("name")+" has cancel the leave request on the portal"),d.a.post("/newnotification",e).then((function(){}))})).catch((function(e){console.log(e)}))}(a,e)},children:[Object(m.jsx)("textarea",{className:"form-control",name:"remarks",minLength:10,placeholder:"Add Remarks",required:!0}),Object(m.jsx)("button",{type:"submit",className:"px-3 btn btn-sm btn-primary",children:"Send"})]})})]}))},ve=function(e,t){l()("."+t).slideUp(500),l()("."+e).slideDown(500)},xe=function(){N(!D)},Oe=function(e){xe(),F(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Do You Want To Reject This Request?"}),Object(m.jsx)("div",{className:"up py-2 text-right",children:Object(m.jsx)("button",{className:"px-3 btn btn-sm btn-primary",onClick:function(){return ve("down","up")},children:"Yes"})}),Object(m.jsx)("div",{className:"down py-2 text-right",children:Object(m.jsxs)("form",{onSubmit:function(a){return function(e,a){e.preventDefault();var n={leave_id:a.leave_id,remarks:e.target.remarks.value,type:t.location.pathname.split("/").pop().split("_").pop(),emp_id:sessionStorage.getItem("EmpID")};d.a.post("/reject_leave",n).then((function(){je(),l()("#mail_form").trigger("click");var e=new FormData;e.append("eventID",2),e.append("whatsapp",!0),e.append("receiverID",a.requested_by),e.append("senderID",sessionStorage.getItem("EmpID")),e.append("Title",sessionStorage.getItem("name")),e.append("NotificationBody",sessionStorage.getItem("name")+" has rejected your leave request on the portal"),d.a.post("/newnotification",e).then((function(){}))})).catch((function(e){console.log(e)}))}(a,e)},children:[Object(m.jsx)("textarea",{className:"form-control",name:"remarks",minLength:10,placeholder:"Add Remarks",required:!0}),Object(m.jsx)("button",{type:"submit",className:"px-3 btn btn-sm btn-primary",children:"Send"})]})})]}))},ge=function(e){xe(),F(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Do You Want To Approve This Request?"}),Object(m.jsx)("div",{className:"up py-2 text-right",children:Object(m.jsx)("button",{className:"px-3 btn btn-sm btn-primary",onClick:function(){return ve("down","up")},children:"Yes"})}),Object(m.jsx)("div",{className:"down py-2 text-right",children:Object(m.jsxs)("form",{onSubmit:function(a){return function(e,a){e.preventDefault();var n={leave_id:a.leave_id,remarks:e.target.remarks.value,type:t.location.pathname.split("/").pop().split("_").pop(),emp_id:sessionStorage.getItem("EmpID"),submit_to:e.target.submit_to.value};d.a.post("/approve_leave",n).then((function(){je();for(var t=[{person:a.requested_by,message:sessionStorage.getItem("name")+" has approved your leave request on the portal"},{person:e.target.submit_to.value,message:sessionStorage.getItem("name")+" has forward you a leave request on the portal"}],n=0;n<t.length;n++){l()("#mail_form").trigger("click");var s=new FormData;s.append("eventID",2),s.append("whatsapp",!0),s.append("receiverID",t[n].person),s.append("senderID",sessionStorage.getItem("EmpID")),s.append("Title",sessionStorage.getItem("name")),s.append("NotificationBody",t[n].message),d.a.post("/newnotification",s).then((function(){}))}})).catch((function(e){console.log(e)}))}(a,e)},children:[Object(m.jsx)("textarea",{className:"form-control",name:"remarks",minLength:10,placeholder:"Add Remarks",required:!0}),Object(m.jsxs)("select",{name:"submit_to",id:"",className:"form-control my-3",required:!0,children:[Object(m.jsx)("option",{value:"",children:" submit to "}),i.map((function(e,t){var a;return("all"===e.category||e.category.includes("leave_request"))&&(a=Object(m.jsxs)("option",{value:e.sr,children:[" ",e.name," "]},t)),a}))]}),Object(m.jsx)("button",{type:"submit",className:"px-3 btn btn-sm btn-primary",children:"Send"})]})})]}))},_e=function(a){xe(),F(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Do You Want To Authorize This Request?"}),Object(m.jsx)("div",{className:"up py-2 text-right",children:Object(m.jsx)("button",{className:"px-3 btn btn-sm btn-primary",onClick:function(){return ve("down","up")},children:"Yes"})}),Object(m.jsx)("div",{className:"down py-2 text-right",children:Object(m.jsxs)("form",{onSubmit:function(n){return function(a,n){a.preventDefault();var s={leave_id:n.leave_id,remarks:a.target.remarks.value,type:t.location.pathname.split("/").pop().split("_").pop(),emp_id:sessionStorage.getItem("EmpID")};d.a.post("/authorize_leave",s).then((function(){if("short"===t.location.pathname.split("/").pop().split("_").pop()){var a=new FormData;a.append("empID",n.requested_by),a.append("leave_id",n.leave_id),d.a.post("/markshortleave",a).then((function(){je(),l()("#mail_form").trigger("click");var e=new FormData;e.append("eventID",2),e.append("whatsapp",!0),e.append("receiverID",n.requested_by),e.append("senderID",sessionStorage.getItem("EmpID")),e.append("Title",sessionStorage.getItem("name")),e.append("NotificationBody",sessionStorage.getItem("name")+" has authorize your short leave on the portal"),d.a.post("/newnotification",e).then((function(){}))})).catch((function(e){console.log(e)}))}else{var s;s=function(t,a){var n=[],s=e(t);for(a=e(a);s<=a;)n.push(e(s).format("YYYY-MM-DD")),s=e(s).add(1,"days");return n}(null===n.leave_from?"0000-00-00":new Date(n.leave_from),null===n.leave_to?"0000-00-00":new Date(n.leave_to));var r=new FormData;r.append("empID",n.requested_by),r.append("leaveID",n.leave_id),r.append("leaveFrom",e(n.leave_from).add(1,"days")),r.append("oneDayLeave",n.one_day_leave),r.append("dates",JSON.stringify(s)),d.a.post("/markleave",r).then((function(){je(),l()("#mail_form").trigger("click");var e=new FormData;e.append("eventID",2),e.append("whatsapp",!0),e.append("receiverID",n.requested_by),e.append("senderID",sessionStorage.getItem("EmpID")),e.append("Title",sessionStorage.getItem("name")),e.append("NotificationBody",sessionStorage.getItem("name")+" has authorize your leave request on the portal"),d.a.post("/newnotification",e).then((function(){}))})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))}(n,a)},children:[Object(m.jsx)("textarea",{className:"form-control",name:"remarks",minLength:10,placeholder:"Add Remarks",required:!0}),Object(m.jsx)("button",{type:"submit",className:"px-3 btn btn-sm btn-primary",children:"Send"})]})})]}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{data:C}),Object(m.jsx)(p.default,{data:B}),Object(m.jsx)(g.a,{show:D,Hide:xe,content:w}),Object(m.jsx)("div",{className:"Short_Leave_Form divs",children:Object(m.jsx)("div",{className:"Application_Form",style:{animationDelay:"0.1".toString()+"s"},children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),$(!0);var t=new FormData;t.append("ShortLeaveTime",ce.ShortLeaveTime),t.append("ShortLeaveDate",ce.ShortLeaveDate),t.append("ShortLeaveReason",ce.ShortLeaveReason),t.append("RequestedBy",sessionStorage.getItem("EmpID")),t.append("RequestedTo",ce.submit_to),d.a.post("/applyshortleave",t).then((function(){$(!1),j.b.dark("Request Submitted",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),l()("button[type=reset]").trigger("click"),l()("#mail_form").trigger("click");var e=new FormData;e.append("eventID",2),e.append("whatsapp",!0),e.append("receiverID",ce.submit_to),e.append("senderID",sessionStorage.getItem("EmpID")),e.append("Title",sessionStorage.getItem("name")),e.append("NotificationBody",sessionStorage.getItem("name")+" apply for a short leave on the portal"),d.a.post("/newnotification",e).then((function(){}))})).catch((function(e){$(!1),j.b.dark(e.toString(),{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log(e)}))},children:[Object(m.jsx)("h4",{className:"text-center border-bottom font-weight-bolder pb-3",children:" Short Leave Application Form "}),Object(m.jsxs)("div",{className:"Leave_Duration p-1",children:[Object(m.jsx)("div",{className:"Leave_Duration_Heading text-center p-1",children:Object(m.jsx)("h5",{className:"font-weight-bolder",children:"Time Duration Of Leave "})}),Object(m.jsxs)("div",{className:"Leave_Duration_Time p-1",children:[Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)("p",{children:"Leave Time : "})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:pe,required:!0,name:"ShortLeaveTime",type:"time",className:"form-control mb-2"})})}),Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)("p",{children:"Date : "})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:pe,required:!0,name:"ShortLeaveDate",type:"Date",className:"form-control mb-2"})})]})]}),Object(m.jsxs)("div",{className:"Leave_Purpose p-1",children:[Object(m.jsx)("div",{className:"Leave_Purpose_Heading p-1",children:Object(m.jsx)("h5",{className:"font-weight-bolder  mb-0",children:"Purpose of Leave"})}),Object(m.jsx)("div",{className:"Leave_Purpose_reason p-1",children:Object(m.jsx)("textarea",{onChange:pe,required:!0,name:"ShortLeaveReason",minLength:"30",style:{height:"80px"},placeholder:"Describe your reason in detail",className:"form-control"})})]}),Object(m.jsxs)("div",{className:"LeaveButton d-flex justify-content-end align-items-center p-2",children:[Object(m.jsxs)("select",{name:"submit_to",onChange:pe,id:"",className:"form-control",required:!0,children:[Object(m.jsx)("option",{value:"",children:" submit to "}),i.map((function(e,t){var a;return("all"===e.category||e.category.includes("leave_request"))&&(a=Object(m.jsxs)("option",{value:e.sr,children:[" ",e.name," "]},t)),a}))]}),Object(m.jsx)("button",{type:"reset",className:"btn mr-3 d-none",children:"Cancel"}),""===ce.ShortLeaveTime||""===ce.ShortLeaveDate||""===ce.ShortLeaveReason||""===ce.submit_to?null:Object(m.jsx)("button",{type:"submit",className:"btn ml-2",children:"Submit"})]})]})})}),Object(m.jsx)("div",{className:"History divs",children:Object(m.jsx)("div",{className:"history_content",children:V?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(_,{Type:E,PrevLeave:V})}):Object(m.jsx)(f,{Leaves:G,GetHistorySorted:function(e){var t=new FormData;t.append("empID",sessionStorage.getItem("EmpID")),U([]),"Leaves"===e?me("/getallleaves",t):"shortLeaves"===e&&me("/getallshortleaves",t)},openLeave:function(e,a){t.replace("/leave_request/"+G[e].leave_id+"_"+a)}})})}),Object(m.jsx)("div",{className:"Employee_Leave_App_Form divs",children:ae}),Object(m.jsx)(j.a,{}),Object(m.jsx)(u.a,{show:Z})]})},function(e){var t=e.Type,a=e.PrevLeave;return Object(m.jsxs)("div",{id:"leaveApp",style:{width:"100%",fontSize:"13px"},children:[Object(m.jsx)("h3",{className:"text-center font-weight-bold",style:{letterSpacing:"10px"},children:"SEABOARD"}),Object(m.jsxs)("p",{className:"text-center font-weight-bold",children:[" ","short"===t?"Short Leave":"Leave Application"," "]}),Object(m.jsx)("hr",{}),Object(m.jsx)("table",{className:"table table-bordered",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Date"}),Object(m.jsx)("td",{children:new Date(a.requested_date).toDateString()}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("td",{children:a.sender_person})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Designation"}),Object(m.jsx)("td",{children:a.sender_designation}),Object(m.jsx)("th",{children:"Department"}),Object(m.jsx)("td",{children:a.sender_department})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Company"}),Object(m.jsx)("td",{children:a.sender_company}),Object(m.jsx)("th",{children:"Cell Phone"}),Object(m.jsx)("td",{children:a.sender_cell})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Permanent Address"}),Object(m.jsx)("td",{colSpan:3,children:a.sender_address})]}),"canceled"===a.request_status.toLowerCase()?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Cancel Date"}),Object(m.jsx)("td",{children:new Date(a.cancel_date).toDateString()}),Object(m.jsx)("th",{children:"Cancel Time"}),Object(m.jsx)("td",{children:a.cancel_time})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Cancel Reason"}),Object(m.jsx)("td",{colSpan:3,children:a.remarks})]})]}):null]})}),Object(m.jsx)("br",{}),Object(m.jsxs)("table",{className:"table table-borderless",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{children:"Purpose Of Leave"})})}),Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:a.leave_purpose})})})]}),Object(m.jsx)("br",{}),"short"===t?Object(m.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{colSpan:2,children:"Date Of Leave"}),Object(m.jsxs)("th",{children:[" ",Object(m.jsx)("span",{className:"mr-2",children:"Leave Time:"})," ",a.leave_time]})]})}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Day"}),Object(m.jsx)("th",{children:"Month"}),Object(m.jsx)("th",{children:"Year"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:new Date(a.date).getDate()}),Object(m.jsx)("td",{children:new Date(a.date).getMonth()+1}),Object(m.jsx)("td",{children:new Date(a.date).getFullYear()})]})]})]}):Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:a.leave_to?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("th",{colSpan:2,children:"Dates Of Leave"}),Object(m.jsxs)("th",{children:[Object(m.jsx)("span",{className:"mr-2",children:"Days"})," ",a.days]})]}):Object(m.jsx)("th",{colSpan:3,children:"Date Of Leave"})})}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Day"}),Object(m.jsx)("th",{children:"Month"}),Object(m.jsx)("th",{children:"Year"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:new Date(a.leave_from).getDate()}),Object(m.jsx)("td",{children:new Date(a.leave_from).getMonth()+1}),Object(m.jsx)("td",{children:new Date(a.leave_from).getFullYear()})]}),a.leave_to?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("tr",{children:Object(m.jsx)("th",{colSpan:3,children:"To"})}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:new Date(a.leave_to).getDate()}),Object(m.jsx)("td",{children:new Date(a.leave_to).getMonth()+1}),Object(m.jsx)("td",{children:new Date(a.leave_to).getFullYear()})]})]}):null]})]}),"canceled"===a.request_status.toLowerCase()?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("h2",{className:"text-right px-5 mb-0 signatures",children:a.receiver_person?a.receiver_person:null}),Object(m.jsx)("p",{className:"text-right mb-0",children:"-----------------------------------------------------"}),Object(m.jsxs)("p",{className:"text-right font-weight-bold mb-0",children:[" ","rejected"===a.request_status.toLowerCase()?"Rejected":"Recommended"," By"]}),Object(m.jsx)("p",{className:"text-right font-weight-bold mb-0",children:a.receiver_designation}),Object(m.jsx)("br",{}),Object(m.jsxs)("table",{className:"table table-borderless",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{children:"Remarks"})})}),Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:a.comments?a.comments:"xxxxxxx"})})})]}),"rejected"===a.request_status.toLowerCase()?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("br",{}),Object(m.jsx)("h2",{className:"text-right px-5 mb-0 signatures",children:a.auther_person?a.auther_person:null}),Object(m.jsx)("p",{className:"text-right mb-0",children:"-----------------------------------------------------"}),Object(m.jsx)("p",{className:"text-right font-weight-bold mb-0",children:"Authorized By"}),Object(m.jsx)("p",{className:"text-right font-weight-bold mb-0",children:a.auther_designation}),Object(m.jsx)("br",{}),Object(m.jsxs)("table",{className:"table table-borderless",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{children:"Remarks"})})}),Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:a.comments2?a.comments2:"xxxxxxx"})})})]})]})]})]})}),f=function(e){var t=e.Leaves,a=e.GetHistorySorted,n=e.openLeave;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(m.jsx)("h5",{className:"mb-0",children:"Previous Leave Applications"}),Object(m.jsxs)("select",{onChange:function(e){return a(e.target.value)},id:"leave_type_select",className:"form-control",children:[Object(m.jsx)("option",{value:"",children:"Select Type"}),Object(m.jsx)("option",{value:"Leaves",children:"Leave Applications"}),Object(m.jsx)("option",{value:"shortLeaves",children:"Short Leaves"})]})]}),Object(m.jsx)("hr",{}),0===t.length?Object(m.jsxs)("h5",{className:"text-center",children:["Please Wait... ",Object(m.jsx)("br",{})," Or Select..."]}):Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Sr.No"}),Object(m.jsx)("th",{children:"Description"}),Object(m.jsx)("th",{children:"Leave Date"}),Object(m.jsx)("th",{children:"Status"})]})}),Object(m.jsx)("tbody",{children:t.map((function(e,t){return Object(m.jsxs)("tr",{title:"Double Click",onDoubleClick:function(){return n(t,e.date?"short":"leave")},children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsxs)("td",{style:{width:"50%"},children:[parseInt(e.requested_by)!==parseInt(sessionStorage.getItem("EmpID"))?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("b",{className:"text-primary",children:e.name}),Object(m.jsx)("br",{})]}):null,e.leave_purpose]}),e.date?Object(m.jsx)("td",{children:new Date(e.date).toDateString()}):Object(m.jsxs)("td",{children:[new Date(e.leave_from).toDateString(),Object(m.jsx)("br",{}),e.leave_to?Object(m.jsxs)(m.Fragment,{children:["To",Object(m.jsx)("br",{})]}):null,e.leave_to?new Date(e.leave_to).toDateString():""]}),Object(m.jsx)("td",{children:e.request_status})]})}))})]})})]})}},88:function(e,t,a){"use strict";a(1),a(92);var n=a(0);t.a=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"Attandence_Request_Div",style:{display:e.show?"flex":"none"},children:[Object(n.jsx)("div",{className:"dark",onClick:e.Hide}),Object(n.jsx)("div",{style:{animationDelay:"0.1".toString()+"s"},className:e.show?"Attandence_Request_Div_Content Attandence_Request_Div_Content2":"Attandence_Request_Div_Content",children:e.content})]})})}},92:function(e,t,a){},96:function(e,t,a){"use strict";var n=a(1),s=(a(97),a(79)),r=a.n(s),c=a(17),i=a(0);t.a=function(e){Object(n.useEffect)((function(){r()(".Speeddail_Grid").slideToggle(0)}),[]);return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"Menu",children:e.data.length>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"Menu_Grid",children:e.data.map((function(e,t){return Object(i.jsx)(i.Fragment,{children:e&&e.txt?e.link?Object(i.jsx)(c.b,{to:e.href,children:Object(i.jsx)("button",{children:Object(i.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})})}):Object(i.jsx)("button",{onClick:function(){return e.func()},children:Object(i.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})}):null})}))}),Object(i.jsxs)("div",{className:"Menu_Speeddail",children:[Object(i.jsx)("div",{className:"Menu_Speeddail_circle",onClick:function(){r()(".Menu_Speeddail .Speeddail_Grid").slideToggle(200),r()(".Menu_Speeddail .Menu_Speeddail_circle .las").hasClass("la-bars")?(r()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-bars"),r()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-times")):(r()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-times"),r()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-bars"))},children:Object(i.jsx)("i",{class:"las la-times"})}),Object(i.jsx)("div",{className:"Speeddail_Grid",children:e.data.map((function(e,t){return Object(i.jsx)(i.Fragment,{children:e&&e.txt?e.link?Object(i.jsx)(c.b,{to:e.href,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(i.jsx)("i",{className:e.icon})}),Object(i.jsx)("p",{children:e.txt})]},t)}):Object(i.jsxs)("div",{className:"clicks",onClick:function(){return e.func()},children:[Object(i.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(i.jsx)("i",{className:e.icon})}),Object(i.jsx)("p",{children:e.txt})]},t):null})}))})]})]}):null})})}},97:function(e,t,a){}}]);