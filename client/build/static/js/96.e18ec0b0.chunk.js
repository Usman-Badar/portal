(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[96],{648:function(e,t,s){},708:function(e,t,s){"use strict";s.r(t);s(1),s(648);var c=s(79),n=s.n(c),i=s(27),a=s(28),r=s(0);t.default=function(e){var t=e.StartLoading,s=e.Requests,c=e.Details,n=e.Comments,i=e.OpenRequest,a=e.newComment,l=e.CloseRequest,o=e.issueToInventory;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"inventory_requests_page",children:Object(r.jsxs)("div",{className:"left requests request_details",children:[Object(r.jsx)("h2",{children:"Inventory Requests"}),Object(r.jsx)("hr",{}),c?Object(r.jsx)(d,{details:c[0][0],specifications:c[1],Comments:n,Details:c,newComment:a,issueToInventory:o,CloseRequest:l}):Object(r.jsx)(j,{Requests:s,StartLoading:t,OpenRequest:i})]})})})};var l=function(e){var t=e.Comments,s=e.newComment;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"commentBox not_fixed",children:[Object(r.jsxs)("div",{className:"header",onClick:function(){return n()(".commentBox").toggleClass("open")},children:["Comment Section",0===t.length?null:Object(r.jsx)("span",{className:"counting",children:t.length})]}),Object(r.jsx)("div",{className:"comments_content",id:"comments_content",children:0===t.length?Object(r.jsx)("div",{className:"text-center",children:"No Comments"}):t.map((function(e){return Object(r.jsxs)("div",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"comment mine":"comment",children:[Object(r.jsxs)("small",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"mine":"",children:[" ",Object(r.jsx)("b",{children:e.name})," "]}),Object(r.jsxs)("p",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"mine":"",children:[" ",e.comment," "]}),Object(r.jsxs)("small",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"mine":"",children:[" ",new Date(e.send_date).toDateString()," at ",e.send_time," "]})]})}))}),Object(r.jsxs)("form",{className:"newComment",id:"commentForm",onSubmit:s,children:[Object(r.jsx)("input",{required:!0,type:"text",name:"comment"}),Object(r.jsx)("button",{children:Object(r.jsx)("i",{className:"las la-paper-plane"})})]})]})})},d=function(e){var t=e.details,s=e.specifications,c=e.Comments,n=e.Details,i=e.newComment,a=e.issueToInventory,d=e.CloseRequest;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"details",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(r.jsx)("h5",{className:"mb-0",children:"Request Details"}),Object(r.jsx)("i",{className:"la-2x las la-times-circle",onClick:d})]}),Object(r.jsx)("br",{}),Object(r.jsx)("table",{className:"table table-sm table-bordered",children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"bg-light",children:"Requested By"}),Object(r.jsx)("td",{children:t.sender_name})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"bg-light",children:"Request Date/Time"}),Object(r.jsx)("td",{children:new Date(t.request_date).toDateString()+" at "+t.request_time})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"bg-light",children:"Accepted By"}),Object(r.jsx)("td",{children:t.receiver_name})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"bg-light",children:"Accept Date/Time"}),Object(r.jsx)("td",{children:new Date(t.accept_date).toDateString()+" at "+t.accept_time})]})]})}),Object(r.jsx)("br",{}),Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{className:"thead-light",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Sr.No"}),Object(r.jsx)("th",{children:"Preview"}),Object(r.jsx)("th",{children:"Product"}),Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{children:"Required Quantity"})]})}),Object(r.jsx)("tbody",{children:s.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t+1}),Object(r.jsx)("td",{children:Object(r.jsx)("div",{className:"preview_tbl",children:Object(r.jsx)("img",{src:e.preview?"assets/inventory/assets/images/".concat(e.preview):"https://media.istockphoto.com/vectors/image-preview-icon-picture-placeholder-for-website-or-uiux-design-vector-id1222357475?k=20&m=1222357475&s=170667a&w=0&h=YGycIDbBRAWkZaSvdyUFvotdGfnKhkutJhMOZtIoUKY=",alt:"preview"})})}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.description}),Object(r.jsx)("td",{children:e.assigned_quantity})]},t)}))})]}),t.issued?null:Object(r.jsx)("button",{className:"btn btn-sm d-block mx-auto btn-danger rounded-pill px-4",onDoubleClick:function(){return a(t.request_id,t.id)},title:"Double click to enter",children:"Issue To Inventory"})]}),Object(r.jsx)("div",{children:c.length>0||n?Object(r.jsx)(l,{Comments:c,newComment:i}):null})]})})},j=function(e){var t=e.Requests,s=e.StartLoading,c=e.OpenRequest;return Object(r.jsxs)("div",{className:"list",children:[Object(r.jsx)(i.a,{display:s,styling:{zIndex:1e5,position:"absolute"},icon:Object(r.jsx)("img",{src:a.a,className:"LoadingImg",alt:"LoadingIcon"}),txt:"Please Wait"}),t?0===t.length?Object(r.jsx)("p",{className:"text-center",children:"No Request Found"}):Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Request ID"}),Object(r.jsx)("th",{children:"Requested By"}),Object(r.jsx)("th",{children:"Request Date/Time"}),Object(r.jsx)("th",{children:"Accepted (Y/N)"}),Object(r.jsx)("th",{children:"Action"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-start font-italic employee",children:[Object(r.jsx)("img",{src:"/images/employees/"+e.sender_image,alt:"emp"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{className:"font-weight-bold",children:e.sender_name}),Object(r.jsx)("span",{className:"text-secondary",children:e.sender_designation})]})]})}),Object(r.jsxs)("td",{children:[new Date(e.request_date).toDateString()," ",Object(r.jsx)("br",{}),e.request_time]}),Object(r.jsx)("td",{children:e.accepted_by?"Y":"N"}),Object(r.jsx)("td",{children:e.accepted_by?Object(r.jsx)("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-3",onClick:function(){return c(t)},children:"Details"}):Object(r.jsx)("button",{className:"btn btn-sm btn-outline-success rounded-pill px-3",onClick:function(){return c(t)},children:"Accept"})})]},t)}))})]}):Object(r.jsx)(i.a,{display:!0,styling:{zIndex:1e5,position:"absolute"},icon:Object(r.jsx)("img",{src:a.a,className:"LoadingImg",alt:"LoadingIcon"}),txt:"Please Wait"})]})}}}]);