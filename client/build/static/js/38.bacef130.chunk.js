(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[38],{588:function(e,t,s){},637:function(e,t,s){"use strict";s.r(t);var c=s(4),n=s(1),i=(s(588),s(90)),a=s(0);t.default=function(e){var t=e.ListAttachments,s=e.Files,c=e.Locations,n=e.RequestsList,i=e.newRequest,o=e.onAttachFiles;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"repair_request",children:[Object(a.jsx)("h3",{children:"Repair Request"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"request_container",children:[Object(a.jsx)(r,{Locations:c,Files:s,newRequest:i,onAttachFiles:o}),Object(a.jsx)(l,{RequestsList:n,ListAttachments:t})]})]})})};var r=function(e){var t=e.Files,s=e.Locations,c=e.newRequest,n=e.onAttachFiles;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("form",{className:"repair_request_form",id:"repair_request_form",onSubmit:c,children:Object(a.jsxs)("fieldset",{children:[Object(a.jsx)("h6",{children:"Request Form"}),Object(a.jsxs)("label",{className:"mb-0 d-flex align-items-center justify-content-between",children:[Object(a.jsx)("span",{children:"Location"}),Object(a.jsxs)("small",{children:["Found: (",s.length,")"]})]}),Object(a.jsxs)("select",{className:"form-control form-control-sm",name:"location_code",required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select the option"}),s.map((function(e,t){return Object(a.jsx)("option",{value:e.location_code,children:e.location_name},t)}))]}),Object(a.jsx)("small",{className:"d-block mb-2",children:"Select the location of item to be repaired."}),Object(a.jsx)("label",{className:"mb-0",children:"Subject *"}),Object(a.jsx)("input",{type:"text",name:"subject",className:"form-control form-control-sm",required:!0}),Object(a.jsx)("small",{className:"d-block mb-2",children:"Enter a suitable subject."}),Object(a.jsx)("label",{className:"mb-0",children:"Description *"}),Object(a.jsx)("textarea",{name:"description",className:"form-control form-control-sm",required:!0,minLength:15}),Object(a.jsx)("small",{className:"d-block mb-2",children:"Describe the problem in the item to be repaired."}),Object(a.jsx)("label",{className:"mb-0",children:"Attachments *"}),Object(a.jsx)("input",{type:"file",multiple:!0,accept:"image/png, image/gif, image/jpeg",onChange:n,name:"attachments",className:"form-control form-control-sm",style:{fontSize:"10px"},required:!0}),Object(a.jsx)("small",{className:"d-block mb-2",children:"Attach a cover photo."}),t.length>0?t.map((function(e){return Object(a.jsx)("span",{className:"attached_files",children:e.name})})):null,Object(a.jsx)("button",{className:"btn d-block ml-auto btn-danger",children:"Submit"})]})})})},l=function(e){var t=e.RequestsList,s=e.ListAttachments,r=Object(n.useState)(),l=Object(c.a)(r,2),o=l[0],j=l[1];return Object(a.jsxs)(a.Fragment,{children:[o?Object(a.jsx)(i.a,{show:!0,Hide:function(){return j()},content:o}):null,Object(a.jsx)("div",{className:"repair_request_list",children:0===t.length?Object(a.jsx)("h6",{className:"text-center",children:"No Record Found"}):Object(a.jsxs)("table",{className:"table table-bordered popUps",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"Subject"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Location"}),Object(a.jsx)("th",{children:"Request Date"}),Object(a.jsx)("th",{children:"Status"})]})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.request_id}),Object(a.jsx)("td",{children:e.subject}),Object(a.jsxs)("td",{children:[e.description,Object(a.jsx)("hr",{className:"m-0 my-1"}),s.map((function(t){var s=Object(a.jsx)("div",{});return e.request_id===t.request_id&&(s=Object(a.jsxs)("div",{onClick:function(){return j(Object(a.jsx)("img",{src:"assets/portal/assets/images/repair/"+t.attachment.split("/").pop(),width:"100%",alt:"photo"}))},style:{cursor:"pointer",color:"blue"},children:[" ",t.attachment.split("/").pop()," "]})),s}))]}),Object(a.jsx)("td",{children:e.location_name}),Object(a.jsx)("td",{children:new Date(e.request_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("span",{className:"badge badge-pill badge-secondary px-3",children:e.status})})]},t)}))})]})})]})}},90:function(e,t,s){"use strict";s(1),s(91);var c=s(0);t.a=function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"Attandence_Request_Div",style:{display:e.show?"flex":"none"},children:[Object(c.jsx)("div",{className:"dark",onClick:e.Hide}),Object(c.jsxs)("div",{style:{animationDelay:"0.1".toString()+"s"},className:e.show?"Attandence_Request_Div_Content Attandence_Request_Div_Content2":"Attandence_Request_Div_Content",children:[Object(c.jsx)("i",{className:"lar la-times-circle cross",onClick:e.Hide}),e.content]})]})})}},91:function(e,t,s){}}]);