(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[37],{590:function(e,t,c){},639:function(e,t,c){"use strict";c.r(t);var s=c(4),i=c(1),n=(c(590),c(3)),a=c(90),r=c(0);t.default=function(e){var t=e.ApproveRequisition,c=e.AttachedQuotations,s=e.Specifications,i=e.RequestDetails,j=e.history,d=e.Requests,b=e.RejectRequisition,u=e.CancelRequisition,O=e.SubmitConfirmation,p=e.ShowQuotationModal,_=e.Quotations,f=e.Locations,N=e.Companies,g=e.SubmitPR,q=e.loadRequests,v=e.openRequestDetails,R=e.PRSubmittion,y=e.setSubmitConfirmation,w=e.onAttachQuotations,I=e.onContentInput,S=e.setShowQuotationModal;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"purchase_requisition",children:[Object(r.jsx)(a.a,{show:p,Hide:function(){return S(!p)},content:Object(r.jsx)(m,{setShowQuotationModal:S,Quotations:_,onAttachQuotations:w})}),Object(r.jsxs)("div",{className:"purchase_requisition_form",children:[Object(r.jsx)(a.a,{show:O,Hide:function(){return y(!O)},content:Object(r.jsx)(x,{PRSubmittion:R})}),Object(r.jsxs)(n.d,{children:[Object(r.jsx)(n.b,{exact:!0,path:"/purchase/requisition/form",render:function(){return Object(r.jsx)(o,{Locations:f,Companies:N,Quotations:_,history:j,SubmitPR:g,onContentInput:I,setShowQuotationModal:S})}}),Object(r.jsx)(n.b,{exact:!0,path:"/purchase/requisition/requests",render:function(){return Object(r.jsx)(h,{Requests:d,history:j,loadRequests:q})}}),Object(r.jsx)(n.b,{exact:!0,path:"/purchase/requisition/details",render:function(){return Object(r.jsx)(l,{RequestDetails:i,Specifications:s,Quotations:c,history:j,openRequestDetails:v,CancelRequisition:u,RejectRequisition:b,ApproveRequisition:t})}})]})]})]})})};var o=function(e){var t=e.history,c=e.Locations,s=e.Quotations,i=e.Companies,n=e.SubmitPR,a=e.setShowQuotationModal,o=e.onContentInput;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(r.jsxs)("h3",{className:"heading",children:["Purchase Requisition",Object(r.jsx)("sub",{children:"Application Form"})]}),Object(r.jsx)("button",{className:"btn submit",type:"reset",onClick:function(){return t.replace("/purchase/requisition/requests")},children:"Back To Requests"})]}),Object(r.jsx)("hr",{}),Object(r.jsx)("form",{onSubmit:n,children:Object(r.jsxs)("fieldset",{children:[Object(r.jsxs)("div",{className:"flex_container mb-3",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Company Name"})}),Object(r.jsxs)("select",{className:"form-control",name:"company_code",required:!0,children:[Object(r.jsx)("option",{value:"",children:"Select the option"}),i.map((function(e){return Object(r.jsxs)("option",{value:e.company_code,children:[" ",e.company_name," "]},e.company_code)}))]})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Delivery / Work Location"})}),Object(r.jsxs)("select",{className:"form-control",name:"location_code",required:!0,children:[Object(r.jsx)("option",{value:"",children:"Select the option"}),c.map((function(e){return Object(r.jsxs)("option",{value:e.location_code,children:[" ",e.location_name," "]},e.location_code)}))]})]})]}),Object(r.jsxs)("div",{className:"grid_container mb-3 px-5",children:[Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"New Purchase"}),Object(r.jsx)("input",{type:"checkbox",value:"New Purchase",name:"new_purchase",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Repair / Replacement"}),Object(r.jsx)("input",{type:"checkbox",value:"Repair / Replacement",name:"repair_replacement",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Budgeted"}),Object(r.jsx)("input",{type:"checkbox",value:"Budgeted",name:"budgeted",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Not Budgeted"}),Object(r.jsx)("input",{type:"checkbox",value:"Not Budgeted",name:"not_budgeted",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Invoice Attached"}),Object(r.jsx)("input",{type:"checkbox",value:"Invoice Attached",name:"invoice_attached",className:"ml-2"})]})]}),Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Reason For Repair / Replacement / New Purchase"})}),Object(r.jsx)("textarea",{className:"form-control",name:"reason",required:!0,minLength:20}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"mb-1",children:Object(r.jsx)("b",{children:"Purchase / Repair / Replacement Specifications"})}),Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Sr.No."}),Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{children:"Quantity"}),Object(r.jsx)("th",{children:"Estimated Price"}),Object(r.jsx)("th",{children:"Total Price"})]})}),Object(r.jsxs)("tbody",{id:"specifications_table_body",children:[Object(r.jsxs)("tr",{id:"specification_row_1",children:[Object(r.jsx)("td",{id:"specification_serial_number_1"}),Object(r.jsx)("td",{id:"specification_description_1",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_1",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_1",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_1"})]}),Object(r.jsxs)("tr",{id:"specification_row_2",children:[Object(r.jsx)("td",{id:"specification_serial_number_2"}),Object(r.jsx)("td",{id:"specification_description_2",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_2",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_2",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_2"})]}),Object(r.jsxs)("tr",{id:"specification_row_3",children:[Object(r.jsx)("td",{id:"specification_serial_number_3"}),Object(r.jsx)("td",{id:"specification_description_3",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_3",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_3",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_3"})]}),Object(r.jsxs)("tr",{id:"specification_row_4",children:[Object(r.jsx)("td",{id:"specification_serial_number_4"}),Object(r.jsx)("td",{id:"specification_description_4",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_4",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_4",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_4"})]}),Object(r.jsxs)("tr",{id:"specification_row_5",children:[Object(r.jsx)("td",{id:"specification_serial_number_5"}),Object(r.jsx)("td",{id:"specification_description_5",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_5",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_5",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_5"})]}),Object(r.jsxs)("tr",{id:"specification_row_6",children:[Object(r.jsx)("td",{id:"specification_serial_number_6"}),Object(r.jsx)("td",{id:"specification_description_6",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_6",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_6",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_6"})]}),Object(r.jsxs)("tr",{id:"specification_row_7",children:[Object(r.jsx)("td",{id:"specification_serial_number_7"}),Object(r.jsx)("td",{id:"specification_description_7",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_7",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_7",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_7"})]}),Object(r.jsxs)("tr",{id:"specification_row_8",children:[Object(r.jsx)("td",{id:"specification_serial_number_8"}),Object(r.jsx)("td",{id:"specification_description_8",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_8",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_8",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_8"})]}),Object(r.jsxs)("tr",{id:"specification_row_9",children:[Object(r.jsx)("td",{id:"specification_serial_number_9"}),Object(r.jsx)("td",{id:"specification_description_9",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_9",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_9",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_9"})]}),Object(r.jsxs)("tr",{id:"specification_row_10",children:[Object(r.jsx)("td",{id:"specification_serial_number_10"}),Object(r.jsx)("td",{id:"specification_description_10",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_quantity_10",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_est_cost_10",contentEditable:!0,onInput:o}),Object(r.jsx)("td",{id:"specification_total_cost_10"})]})]}),Object(r.jsx)("tfoot",{children:Object(r.jsxs)("tr",{id:"specification_total_row",children:[Object(r.jsx)("td",{}),Object(r.jsx)("td",{id:"total_calculated_amount_label",children:Object(r.jsx)("b",{children:"Total Estimated Amount"})}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{}),Object(r.jsx)("td",{id:"total_calculated_amount"})]})})]}),Object(r.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(r.jsxs)("button",{className:"btn green",type:"button",onClick:function(){return a(!0)},children:["Attached Quotations (",s.length,")"]}),Object(r.jsx)("button",{className:"btn submit",type:"submit",children:"Generate Purchase Requisition"})]})]})})]})},l=function(e){var t=e.ApproveRequisition,c=e.history,n=e.Quotations,a=e.Specifications,o=e.RequestDetails,l=e.CancelRequisition,d=e.RejectRequisition,b=e.openRequestDetails,u=Object(i.useState)("application"),h=Object(s.a)(u,2),x=h[0],m=h[1];return Object(i.useEffect)((function(){var e=window.location.href.split("?").pop().split("=").pop();b(e)}),[]),Object(r.jsx)(r.Fragment,{children:o?parseInt(o.requested_by)===parseInt(sessionStorage.getItem("EmpID"))||parseInt(o.request_submitted_on_behalf)===parseInt(sessionStorage.getItem("EmpID"))||parseInt(o.appr_rejct_by)===parseInt(sessionStorage.getItem("EmpID"))?Object(r.jsx)(j,{ApproveRequisition:t,pr_id:window.location.href.split("?").pop().split("=").pop(),RejectRequisition:d,CancelRequisition:l,history:c,Quotations:n,setView:m,View:x,RequestDetails:o,Specifications:a}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h6",{className:"text-center",children:"Access Denied"}),Object(r.jsxs)("p",{className:"text-center mb-0",children:["You don't have access to view the purchase requisition details (id#",o.pr_id,")."]})]}):Object(r.jsx)("h6",{className:"text-center",children:"Loading Details...."})})},j=function(e){var t=e.pr_id,c=e.CancelRequisition,n=e.ApproveRequisition,o=e.RejectRequisition,l=e.history,j=e.Quotations,h=e.View,x=e.setView,m=e.RequestDetails,O=e.Specifications,p=Object(i.useState)(!1),_=Object(s.a)(p,2),f=_[0],N=_[1],g=Object(i.useState)(!1),q=Object(s.a)(g,2),v=q[0],R=q[1],y=Object(i.useState)(!1),w=Object(s.a)(y,2),I=w[0],S=w[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"purchase_requisition_details",children:[Object(r.jsx)(a.a,{show:f,Hide:function(){return N(!1)},content:Object(r.jsx)(b,{pr_id:t,CancelRequisition:c})}),Object(r.jsx)(a.a,{show:I,Hide:function(){return S(!1)},content:Object(r.jsx)(d,{submitted_to:m.submitted_to,requested_by:m.requested_by,pr_id:t,ApproveRequisition:n})}),Object(r.jsx)(a.a,{show:v,Hide:function(){return R(!1)},content:Object(r.jsx)(u,{RequestDetails:m,Specifications:O,pr_id:t,RejectRequisition:o})}),Object(r.jsxs)("div",{className:"d-flex align-items-end justify-content-between",children:[Object(r.jsxs)("h4",{className:"heading",children:["Purchase Requisition",Object(r.jsx)("sub",{children:"Request Details"})]}),Object(r.jsxs)("div",{className:"btn-group",children:[Object(r.jsx)("button",{className:"btn green",onClick:function(){return l.replace("/purchase/requisition/requests")},children:"Back To Requests"}),Object(r.jsx)("button",{className:"application"===h?"btn submit":"btn green",onClick:function(){return x("application")},children:"Application"}),Object(r.jsx)("button",{className:"request_status"===h?"btn submit":"btn green",onClick:function(){return x("request_status")},children:"Request Status"})]})]}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"ml-auto mb-2",style:{width:"fit-content"},children:Object(r.jsxs)("div",{className:"btn-group",children:[m.requested_by!=sessionStorage.getItem("EmpID")&&m.appr_rejct_by==sessionStorage.getItem("EmpID")&&"waiting_for_approval"===m.status?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{className:"btn cancle",onClick:function(){return R(!0)},children:"Reject"}),Object(r.jsx)("button",{className:"btn submit",onClick:function(){return S(!0)},children:"Approve"})]}):null,m.requested_by!=sessionStorage.getItem("EmpID")||"sent"!==m.status&&"viewed"!==m.status?null:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("button",{className:"btn cancle",onClick:function(){return N(!0)},children:"Cancel"})})]})}),"application"===h?Object(r.jsx)("form",{className:"popUps",children:Object(r.jsxs)("fieldset",{disabled:!0,children:[Object(r.jsxs)("div",{className:"flex_container mb-3",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Company Name"})}),Object(r.jsx)("input",{value:m.company_name,className:"form-control"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Delivery / Work Location"})}),Object(r.jsx)("input",{value:m.location_name,className:"form-control"})]})]}),Object(r.jsxs)("div",{className:"grid_container mb-3 px-5",children:[Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"New Purchase"}),Object(r.jsx)("input",{checked:1===m.new_purchase,type:"checkbox",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Repair / Replacement"}),Object(r.jsx)("input",{checked:1===m.repair_replacement,type:"checkbox",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Budgeted"}),Object(r.jsx)("input",{checked:1===m.budgeted,type:"checkbox",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Not Budgeted"}),Object(r.jsx)("input",{checked:1===m.not_budgeted,type:"checkbox",className:"ml-2"})]}),Object(r.jsxs)("div",{className:"grid_container align-items-center",children:[Object(r.jsx)("span",{children:"Invoice Attached"}),Object(r.jsx)("input",{checked:1===m.invoice_attached,type:"checkbox",className:"ml-2"})]})]}),Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Reason For Repair / Replacement / New Purchase"})}),Object(r.jsx)("textarea",{className:"form-control",value:m.reason}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{className:"mb-1",children:Object(r.jsx)("b",{children:"Purchase / Repair / Replacement Specifications"})}),Object(r.jsxs)("table",{className:"table table-bordered",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"text-center",children:"Sr.No."}),Object(r.jsx)("th",{className:"text-center",children:"Description"}),Object(r.jsx)("th",{className:"text-center",children:"Quantity"}),Object(r.jsx)("th",{className:"text-center",children:"Estimated Cost"}),Object(r.jsx)("th",{className:"text-center",children:"Total Cost"})]})}),Object(r.jsx)("tbody",{children:O.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{className:"text-center",children:[" ",t+1," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" ",e.description," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" ",e.quantity," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" Rs ",e.estimated_cost.toLocaleString("en")," "]}),Object(r.jsxs)("td",{className:"text-center",children:[" Rs ",e.total_estimated_cost.toLocaleString("en")," "]})]},t)}))}),Object(r.jsx)("tfoot",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"text-center"}),Object(r.jsx)("td",{className:"text-center"}),Object(r.jsx)("td",{className:"text-center"}),Object(r.jsx)("td",{className:"text-center",children:Object(r.jsx)("b",{children:"Total"})}),Object(r.jsxs)("td",{className:"text-center",children:[" Rs ",m.total_value.toLocaleString("en")," "]})]})})]}),Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Additional Notes"})}),Object(r.jsx)("textarea",{className:"form-control",value:m.note})]})}):Object(r.jsxs)("div",{className:"purchase_requisition_details_2",id:"accordion",children:[Object(r.jsx)("h6",{className:"collapse_toogle","data-toggle":"collapse","data-target":"#general_details","aria-expanded":"false","aria-controls":"general_details",children:"General Detail"}),Object(r.jsx)("div",{className:"collapse show",id:"general_details","data-parent":"#accordion",children:Object(r.jsx)("table",{className:"table table-bordered popUps",children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Requisition"}),Object(r.jsxs)("td",{children:[m.requested_employee_name," ",Object(r.jsx)("br",{}),new Date(m.requested_date).toDateString()," ",Object(r.jsx)("br",{}),m.requested_time]}),Object(r.jsx)("th",{children:"Employee Name (In Behalf Of)"}),Object(r.jsxs)("td",{children:[" ",m.behalf_employee_name?m.behalf_employee_name:"Requested By The Employee Itself"," "]}),Object(r.jsx)("th",{children:"Inventory Vision"}),Object(r.jsx)("td",{children:m.view_date?Object(r.jsxs)(r.Fragment,{children:[new Date(m.view_date).toDateString()," ",Object(r.jsx)("br",{}),m.view_time]}):Object(r.jsx)("span",{className:m.status+" text-white status_div",children:"Not Viewed"})})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Submit To (Employee)"}),Object(r.jsx)("td",{children:m.submit_to_employee_name}),Object(r.jsx)("th",{children:"Request Status"}),Object(r.jsxs)("td",{children:[" ",Object(r.jsx)("span",{className:m.status+" text-white status_div",children:m.status})," "]}),Object(r.jsx)("th",{children:"No of Items Requested"}),Object(r.jsxs)("td",{children:[" ",m.no_items_requested," "]})]}),Object(r.jsx)("tr",{children:null!=m.remarks?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"canceled"===m.status?"Reason To Cancel":"Inventory's Remarks"}),Object(r.jsx)("td",{colSpan:5,children:m.remarks})]}):null}),Object(r.jsx)("tr",{children:null!=m.hod_employee_name?"rejected"===m.status?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"Rejected By"}),Object(r.jsx)("td",{children:m.hod_employee_name}),Object(r.jsx)("th",{children:"Rejection"}),Object(r.jsxs)("td",{children:[new Date(m.act_date).toDateString()," at ",m.act_time]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"canceled"===m.status?"Canceled By":"Proceed To"}),Object(r.jsx)("td",{children:m.hod_employee_name}),"approved"===m.status?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("th",{children:"Approval"}),Object(r.jsxs)("td",{children:[new Date(m.act_date).toDateString()," at ",m.act_time]}),Object(r.jsx)("th",{children:"H.O.D's Remarks"}),Object(r.jsx)("td",{children:m.remarks_from_hod})]}):null]}):null})]})})}),Object(r.jsxs)("div",{className:"collapse_toogle d-flex justify-content-between","data-toggle":"collapse","data-target":"#attached_quotations","aria-expanded":"false","aria-controls":"attached_quotations",children:[Object(r.jsx)("h6",{className:"mb-0",children:"Quotations Attached"}),Object(r.jsxs)("h6",{className:"mb-0",children:["(",j.length,")"]})]}),Object(r.jsx)("div",{className:"collapse",id:"attached_quotations","data-parent":"#accordion",children:0===j.length?Object(r.jsx)("h6",{className:"text-center",children:"No Quotation Attached"}):Object(r.jsx)("div",{className:"grid_container",children:j.map((function(e,t){return Object(r.jsx)("div",{className:"quotation_card",children:Object(r.jsx)("img",{src:"http://182.180.190.108:3443/"+e.quotation,alt:"quotation_preview"},t)})}))})})]})]})})},d=function(e){var t=e.pr_id,c=e.ApproveRequisition,s=e.submitted_to,i=e.requested_by;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{className:"pt-1",onSubmit:function(e){return c(e,t,i,s)},children:Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("h6",{className:"font-weight-bold",children:"Confirm Approval"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"alert alert-success d-none",id:"error_alert_approval"}),Object(r.jsx)("textarea",{placeholder:"Add Your Remarks...",name:"reason",cols:"30",rows:"5",className:"form-control",required:!0,minLength:30}),Object(r.jsx)("button",{className:"btn d-block ml-auto submit mt-3",children:"Confirm"})]})})})},b=function(e){var t=e.pr_id,c=e.CancelRequisition;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{className:"pt-1",onSubmit:function(e){return c(e,t)},children:Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("h6",{className:"font-weight-bold",children:"Confirm Cancellation"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"alert alert-warning d-none",id:"error_alert_cancelation"}),Object(r.jsx)("textarea",{placeholder:"Any Specific Reason...",name:"reason",cols:"30",rows:"5",className:"form-control",required:!0,minLength:30}),Object(r.jsx)("button",{className:"btn d-block ml-auto submit mt-3",children:"Confirm"})]})})})},u=function(e){var t=e.RequestDetails,c=e.Specifications,s=e.pr_id,i=e.RejectRequisition;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("form",{className:"pt-1",onSubmit:function(e){return i(e,s,t.requested_by,c)},children:Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("h6",{className:"font-weight-bold",children:"Confirm Rejection"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"alert alert-warning d-none",id:"error_alert_rejection"}),Object(r.jsx)("textarea",{placeholder:"Any Specific Reason...",name:"reason",cols:"30",rows:"5",className:"form-control",required:!0,minLength:30}),Object(r.jsx)("button",{className:"btn d-block ml-auto submit mt-3",children:"Confirm"})]})})})},h=function(e){var t=e.history,c=e.Requests,s=e.loadRequests;return Object(i.useEffect)((function(){s()}),[]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"purchase_requests",children:[Object(r.jsxs)("div",{className:"d-flex align-items-end justify-content-between",children:[Object(r.jsxs)("h3",{className:"heading",children:["Purchase Requisition",Object(r.jsx)("sub",{children:"Previous Requests"})]}),Object(r.jsx)("button",{className:"btn submit",onClick:function(){return t.replace("/purchase/requisition/form")},children:"New"})]}),Object(r.jsx)("hr",{}),c?0===c.length?Object(r.jsx)("h6",{className:"text-center",children:"No Request Found"}):Object(r.jsxs)("table",{className:"table table-hover popUps",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Sr.No"}),Object(r.jsx)("th",{children:"Company"}),Object(r.jsx)("th",{children:"Location"}),Object(r.jsx)("th",{children:"Items"}),Object(r.jsx)("th",{children:"Requisition"}),Object(r.jsx)("th",{children:"Status"}),Object(r.jsx)("th",{children:"Total Value"})]})}),Object(r.jsx)("tbody",{children:c.map((function(e,c){return Object(r.jsxs)("tr",{title:"Double Click To Enter",onDoubleClick:function(){return t.push("/purchase/requisition/details?pr_id="+e.pr_id)},children:[Object(r.jsx)("td",{children:c+1}),Object(r.jsx)("td",{children:e.company_name}),Object(r.jsx)("td",{children:e.location_name}),Object(r.jsx)("td",{children:e.no_items_requested>1?e.no_items_requested+" Items":e.no_items_requested+" Item"}),Object(r.jsxs)("td",{children:[new Date(e.requested_date).toDateString()," ",Object(r.jsx)("br",{}),e.requested_time]}),Object(r.jsx)("td",{children:Object(r.jsx)("span",{className:"status_div text-white "+e.status,children:"waiting_for_approval"===e.status&&parseInt(e.appr_rejct_by)===parseInt(sessionStorage.getItem("EmpID"))?"Pending":e.status.replace("_"," ")})}),Object(r.jsxs)("td",{children:["Rs ",e.total_value.toLocaleString("en")]})]},c)}))})]}):Object(r.jsx)("h6",{className:"text-center",children:"Please Wait...."})]})})},x=function(e){var t=e.PRSubmittion;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("h5",{children:"Confirmation"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("fieldset",{children:[Object(r.jsx)("label",{className:"mb-0",children:Object(r.jsx)("b",{children:"Any Additional Notes"})}),Object(r.jsx)("textarea",{className:"form-control",name:"notes",required:!0}),Object(r.jsx)("button",{className:"btn green d-block mx-auto mt-3",children:"Confirm & Submit"})]})]})})},m=function(e){var t=e.Quotations,c=e.setShowQuotationModal,s=e.onAttachQuotations;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"modal_content",children:[Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(r.jsx)("h4",{className:"mb-0",children:"Quotations"}),Object(r.jsx)("input",{type:"file",className:"quotations_file",onChange:s,multiple:!0,accept:"image/*"})]}),Object(r.jsx)("hr",{}),0===t.length?Object(r.jsx)("h6",{className:"text-center",children:"No Quotation Attached"}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"quotations_grid_container",children:t.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{src:URL.createObjectURL(e.file),alt:"attached_quotation"},t),Object(r.jsxs)("span",{children:[" ",e.name," "]})]})}))})}),Object(r.jsx)("button",{className:"btn submit d-block mx-auto mt-3",onClick:function(){return c(!1)},children:"Close"})]})})}},90:function(e,t,c){"use strict";c(1),c(91);var s=c(0);t.a=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"Attandence_Request_Div",style:{display:e.show?"flex":"none"},children:[Object(s.jsx)("div",{className:"dark",onClick:e.Hide}),Object(s.jsxs)("div",{style:{animationDelay:"0.1".toString()+"s"},className:e.show?"Attandence_Request_Div_Content Attandence_Request_Div_Content2":"Attandence_Request_Div_Content",children:[Object(s.jsx)("i",{className:"lar la-times-circle cross",onClick:e.Hide}),e.content]})]})})}},91:function(e,t,c){}}]);