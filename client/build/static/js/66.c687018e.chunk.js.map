{"version":3,"sources":["Components/AdminModule/Pages/Departments/Designations/Designations.jsx"],"names":["Designations","useState","setDesignations","department_code","designation_name","designation_code","Designation","setDesignation","AddDesignation","setAddDesignation","useEffect","GetAllDesignations","Data","FormData","append","window","location","href","split","pop","axios","post","then","response","data","catch","error","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","onChangeHandler","e","target","name","value","setVal","OnEdit","id","indexx","designation","filter","val","index","arr","setValues","$","trigger","className","onSubmit","preventDefault","err","type","onChange","placeholder","required","length","map","style","onClick","role","pattern","minLength"],"mappings":"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","file":"static/js/66.c687018e.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport './Designations.css';\r\n\r\nimport axios from '../../../../../axios';\r\nimport $ from 'jquery';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst Designations = () => {\r\n\r\n    const [ Designations, setDesignations ] = useState([]);\r\n    const [ Designation, setDesignation ] = useState(\r\n        {\r\n            department_code: '', designation_name: '', designation_code: ''\r\n        }\r\n    );\r\n    const [ AddDesignation, setAddDesignation ] = useState(\r\n        {\r\n            Designation: ''\r\n        }\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            GetAllDesignations();\r\n\r\n        }, []\r\n    );\r\n\r\n    const GetAllDesignations = () => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('departID', window.location.href.split('/').pop());\r\n        axios.post('/getdesignations', Data).then( response => {\r\n\r\n            setDesignations( response.data );\r\n\r\n        } ).catch( error => {\r\n\r\n            toast.dark(error, {\r\n                position: 'top-right',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n\r\n        } );\r\n\r\n    }\r\n\r\n    // Function onchange which is called to store data into usestate()\r\n    const onChangeHandler = ( e ) => {\r\n\r\n        const { name, value } = e.target;\r\n        const setVal = {\r\n            ...AddDesignation,\r\n            [name]: value\r\n        }\r\n        setAddDesignation( setVal );\r\n\r\n    }\r\n\r\n    const OnEdit = ( id, indexx ) => {\r\n\r\n        let designation = Designations.filter(\r\n            (val, index, arr) => {\r\n                return index === indexx;\r\n            }\r\n        );\r\n\r\n        const setValues = {\r\n            ...Designation,\r\n            designation_name: designation[0].designation_name,\r\n            designation_code: id,\r\n            department_code: designation[0].department_code\r\n        }\r\n\r\n        setDesignation(setValues);\r\n        $('.editModalBtn').trigger('click');\r\n\r\n    }\r\n\r\n    const AddDesignations = ( e ) => {\r\n\r\n        e.preventDefault();\r\n\r\n        const Data = new FormData();\r\n        Data.append('designation', AddDesignation.Designation);\r\n        Data.append('departID', window.location.href.split('/').pop());\r\n\r\n        axios.post('/adddesignation', Data).then( () => {\r\n\r\n            GetAllDesignations();\r\n\r\n        } ).catch( err => {\r\n\r\n            toast.dark( err , {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n        } );\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"Admin_Designations d-center\">\r\n\r\n                <div className=\"Admin_Designations-content\">\r\n                    <h3>Add New Designations</h3>\r\n\r\n                    <form className=\"addDesignations btn-group\" onSubmit={ AddDesignations }>\r\n                        <input type=\"text\" onChange={ onChangeHandler } className=\"form-control\" placeholder=\"Designation Name\" name=\"Designation\" required />\r\n                        <button className=\"btn\" type=\"submit\">Add Designation</button>\r\n                    </form>\r\n\r\n                    <h3>All Designations</h3>\r\n                    <div className=\"designations\">\r\n                        {\r\n                            Designations.length === 0\r\n                                ?\r\n                                <h3 className=\"text-center mb-0\">No Designation Found</h3>\r\n                                :\r\n                                Designations.map(\r\n                                    (val, index) => {\r\n                                        return (\r\n                                            <div className=\"d-flex align-items-center border-bottom mb-2\" key={index}>\r\n                                                <div className=\"index\"> { index + 1 } </div>\r\n                                                <div>\r\n                                                    <span style={{ 'color': 'rgb(128, 128, 128, .5)' }}>Designation Name</span>\r\n                                                    <h5> { val.designation_name } </h5>\r\n                                                </div>\r\n                                                <div className=\"ml-auto d-flex align-items-center operations\">\r\n                                                    <div className=\"px-3\">\r\n                                                        <button className=\"btn\" onClick={ () => OnEdit( val.designation_code, index ) } style={{ 'backgroundColor': '#1EC916' }}><i className=\"las la-edit\"></i> Edit</button>\r\n                                                    </div>\r\n                                                    <div className=\"px-3\">\r\n                                                        <button className=\"btn\" onClick={ () => OnEdit( val.designation_code, index ) } style={{ 'backgroundColor': '#FEC400' }}><i className=\"las la-trash\"></i> Remove</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                )\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <button type=\"button\" className=\"btn btn-primary d-none editModalBtn\" data-toggle=\"modal\" data-target=\"#departmentModal\">\r\n                    Launch demo modal\r\n                </button>\r\n                <div className=\"modal fade\" id=\"departmentModal\" role=\"dialog\" aria-labelledby=\"departmentModalLabel\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-body\">\r\n                                <input type=\"text\" value={Designation.designation_name} className=\"form-control mb-3\" placeholder=\"Category Name\" name=\"editCtgryName\" onChange={ onChangeHandler } pattern=\"[a-zA-Z][a-zA-Z\\s]*\" minLength=\"3\" required />\r\n                                <button data-dismiss=\"modal\" className=\"btn d-block ml-auto\">Update Department</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Designations;"],"sourceRoot":""}