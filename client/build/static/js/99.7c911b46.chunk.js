(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[99],{657:function(e,s,t){"use strict";t.r(s);var c=t(24),a=t(9),n=t(4),i=t(1),r=(t(658),t(17)),l=t(11),d=t(79),o=t.n(d),j=t(135),b=t(81),O=(t(82),t(0));s.default=function(){var e=Object(i.useState)(!1),s=Object(n.a)(e,2),t=s[0],d=s[1],m=Object(i.useState)(!1),u=Object(n.a)(m,2),x=u[0],_=u[1],v=Object(i.useState)([]),p=Object(n.a)(v,2),g=p[0],f=p[1],N=Object(i.useState)({asset_id:"",asset_code:"",asset_name:"",created_at:"",status:""}),C=Object(n.a)(N,2),A=C[0],k=C[1],w=Object(i.useState)(!1),y=Object(n.a)(w,2),F=y[0],S=y[1],D=Object(i.useState)("list"),L=Object(n.a)(D,2),G=L[0],H=L[1],B=Object(i.useState)({asset_code:"",asset_name:""}),V=Object(n.a)(B,2),I=V[0],J=V[1];Object(i.useEffect)((function(){E(),localStorage.getItem("inventoryAssetsView")&&(H(localStorage.getItem("inventoryAssetsView")),o()(".btn.icon1").removeClass("active"),o()(".btn#"+localStorage.getItem("inventoryAssetsView")).addClass("active"))}),[]),Object(i.useEffect)((function(){""!==A.asset_id?_(!0):(_(!1),d(!1)),j.a.rebuild()}),[A.asset_id]);var P=function(e){H(e),localStorage.setItem("inventoryAssetsView",e),o()(".btn-group.actions .btn").toggleClass("active")},E=function(){l.a.get("/getallassets").then((function(e){f(e.data)})).catch((function(e){console.log(e)}))},R=function(){S(!1),d(!1)},q=function(e){var s=e.target,t=s.checked,c=s.id;console.log(t),console.log(c);var a={};if(t){var n=c.split("check").pop(),i=g[n];console.log(i),i.check=c,a=i}k(a)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{}),Object(O.jsx)(b.a,{}),Object(O.jsxs)("div",{className:"Assets",children:[Object(O.jsxs)("div",{className:"Assets_Top",children:[Object(O.jsx)("div",{className:"Assets_Top_left",children:Object(O.jsx)("div",{className:"dropdown_filter",children:Object(O.jsx)("p",{children:"All Assets"})})}),Object(O.jsxs)("div",{className:"Assets_Top_right",children:[Object(O.jsxs)("button",{className:"btn New_button",onClick:function(){S(!0)},children:[" ",Object(O.jsx)("i",{class:"las la-plus"})," ",Object(O.jsx)("p",{children:"New"})]}),!0===x||""!==A.asset_id?Object(O.jsxs)("div",{className:"btn-group",children:[Object(O.jsx)("button",{"data-tip":"Edit",className:"btn icon1",onClick:function(){d(!0)},children:Object(O.jsx)("i",{class:"las la-edit"})}),Object(O.jsx)("button",{"data-tip":"Delete",className:"btn icon1",onClick:function(){var e=[A.asset_id];l.a.post("/deleteselectedassets",{assets:JSON.stringify(e)}).then((function(){b.b.dark("Assets Deleted",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(),k({asset_id:"",asset_code:"",asset_name:"",created_at:"",status:""}),o()("input[type=radio]").prop("checked",!1)})).catch((function(e){b.b.dark(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:Object(O.jsx)("i",{class:"las la-trash"})})]}):null,Object(O.jsxs)("div",{className:"btn-group actions",children:[Object(O.jsx)("button",{"data-tip":"List View",id:"list",className:"btn icon1 active",onClick:function(){return P("list")},children:Object(O.jsx)("i",{class:"las la-list-ul"})}),Object(O.jsx)("button",{"data-tip":"Box View",id:"box",className:"btn icon1",onClick:function(){return P("box")},children:Object(O.jsx)("i",{class:"las la-border-all"})})]}),Object(O.jsx)("div",{className:"list_button"})]})]}),t?Object(O.jsxs)("div",{className:"grid_parent",children:[Object(O.jsx)("div",{children:0===g.length?Object(O.jsx)("h4",{className:"text-center",children:"No Record Found"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"Assets_Grid changeOnCLick",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"text-left",children:"Assets Name"})})]}),g.map((function(e,s){return Object(O.jsxs)("div",{className:"Assets_Grid_list changeOnCLick",children:[Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:q})}),Object(O.jsx)(r.c,{to:"/inventory/asset/id="+e.asset_id+"&&name="+e.asset_name+"&&view=sub_assets",children:Object(O.jsx)("p",{className:"text-left",children:e.asset_name})})]},s)}))]})}),Object(O.jsx)(h,{submitAssetsForm:function(e){e.preventDefault(),l.a.post("/updateselectedasset",{assets:JSON.stringify(A)}).then((function(){b.b.dark("Assets Updated",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(),k({asset_id:"",asset_code:"",asset_name:"",created_at:"",status:""}),o()("input[type=radio]").prop("checked",!1)})).catch((function(e){b.b.dark(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},OnChangeHandler:function(e){var s=e.target,t=s.value,n=s.name,i=Object(a.a)(Object(a.a)({},A),{},Object(c.a)({},n,t));k(i)},CancleForm:R,Form:A,date:new Date(A.created_at)})]}):F?Object(O.jsxs)("div",{className:"grid_parent",children:[Object(O.jsx)("div",{children:0===g.length?Object(O.jsx)("h4",{className:"text-center",children:"No Record Found"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"Assets_Grid changeOnCLick",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"text-left",children:"Assets Name"})})]}),g.map((function(e,s){return Object(O.jsxs)("div",{className:"Assets_Grid_list changeOnCLick",children:[Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:q})}),Object(O.jsx)(r.c,{to:"/inventory/asset/id="+e.asset_id+"&&name="+e.asset_name+"&&view=sub_assets",children:Object(O.jsx)("p",{className:"text-left",children:e.asset_name})})]},s)}))]})}),Object(O.jsx)(h,{submitAssetsForm:function(e){e.preventDefault();for(var s=0;s<g.length;s++)if(I.asset_name.toLocaleLowerCase()===g[s].asset_name.toLocaleLowerCase()||I.asset_code.toLocaleLowerCase()===g[s].asset_code.toLocaleLowerCase())return alert("name and code should be unique"),!1;var t={asset_name:I.asset_name,asset_code:I.asset_code,date_time:new Date};l.a.post("/newasset",{data:JSON.stringify(t)}).then((function(){J({asset_code:"",asset_name:""}),E(),b.b.dark("New Asset Added",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.log(e)})),S(!1)},OnChangeHandler:function(e){var s=e.target,t=s.value,n=s.name,i=Object(a.a)(Object(a.a)({},I),{},Object(c.a)({},n,t));J(i)},CancleForm:R,Form:I,date:new Date})]}):"box"===G?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"Box",children:[0===g.length?Object(O.jsx)("h4",{className:"text-center",children:"No Record Found"}):null,Object(O.jsx)("div",{className:"Assets_Grid_box",children:g.map((function(e,s){var t=new Date(e.created_at);return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"Grid_box_div shadow-sm rounded",children:[Object(O.jsx)("div",{className:"CheckBox",children:Object(O.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:q})}),Object(O.jsxs)(r.c,{to:"/inventory/asset/id="+e.asset_id+"&&name="+e.asset_name+"&&view=sub_assets",className:"Grid_box_div_center",children:[Object(O.jsx)("div",{className:"Icon",children:Object(O.jsx)("i",{class:"las la-image"})}),Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)("p",{children:"Asset Name : "}),Object(O.jsx)("h6",{children:e.asset_name})]}),Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)("p",{children:"Asset Code : "}),Object(O.jsx)("h6",{children:e.asset_code})]}),Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)("p",{children:"Sub Assets : "}),Object(O.jsx)("h6",{children:e.count_sub_assets})]}),Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)("p",{children:"Date : "}),Object(O.jsx)("h6",{children:t?t.toDateString():null})]})]})]},s)})}))})]})}):Object(O.jsx)("div",{children:0===g.length?Object(O.jsx)("h4",{className:"text-center",children:"No Record Found"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"Assets_Grid",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"Assets Name"})}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"Assets Code"})}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"Sub Assets"})}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"Date"})})]}),g.map((function(e,s){var t=new Date(e.created_at);return Object(O.jsxs)("div",{className:"Assets_Grid_list",children:[Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"radio",name:"selection",id:"check"+s,onClick:q})}),Object(O.jsx)(r.c,{to:"/inventory/asset/id="+e.asset_id+"&&name="+e.asset_name+"&&view=sub_assets",children:Object(O.jsx)("p",{children:e.asset_name})}),Object(O.jsx)(r.c,{to:"/inventory/asset/id="+e.asset_id+"&&name="+e.asset_name+"&&view=sub_assets",children:Object(O.jsx)("p",{children:e.asset_code})}),Object(O.jsx)(r.c,{to:"/inventory/asset/id="+e.asset_id+"&&name="+e.asset_name+"&&view=sub_assets",children:Object(O.jsx)("p",{children:e.count_sub_assets})}),Object(O.jsx)(r.c,{to:"/inventory/asset/id="+e.asset_id+"&&name="+e.asset_name+"&&view=sub_assets",children:Object(O.jsx)("p",{children:t?t.toDateString():null})})]},s)}))]})})]})]})};var h=function(e){var s=Object(i.useState)({asset_name:"",asset_code:""}),t=Object(n.a)(s,2),c=t[0],a=t[1];return Object(i.useEffect)((function(){a({asset_name:e.Form.asset_name,asset_code:e.Form.asset_code})}),[e.Form]),Object(O.jsxs)("form",{className:"Assets_form",onSubmit:e.submitAssetsForm,id:"myForm",children:[Object(O.jsx)("h5",{className:"font-weight-bold",children:"Add New Assets"}),Object(O.jsxs)("div",{className:"Assets_form_grid",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Assets Name"}),Object(O.jsx)("input",{type:"text",onChange:e.OnChangeHandler,value:c.asset_name,className:" form-control form-control-sm",name:"asset_name",required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Assets Code"}),Object(O.jsx)("input",{type:"text",onChange:e.OnChangeHandler,value:c.asset_code,className:" form-control form-control-sm",name:"asset_code",required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Date"}),Object(O.jsx)("input",{type:"text",disabled:!0,value:e.date?e.date.toDateString():null,className:"form-control form-control-sm"})]})]}),Object(O.jsx)("div",{className:"Assets_form_button",children:Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)("button",{className:"btn btn-sm cancle",onClick:function(){return e.CancleForm()},type:"reset",children:"Cancle"}),Object(O.jsx)("button",{className:"btn btn-sm submit",type:"submit",children:"Submit"})]})})]},e.index)}},658:function(e,s,t){}}]);