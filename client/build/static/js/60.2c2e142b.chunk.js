(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[60],{159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),l=c(s),o=c(n(12));function c(e){return e&&e.__esModule?e:{default:e}}var r={table:o.default.string.isRequired,filename:o.default.string.isRequired,sheet:o.default.string.isRequired,id:o.default.string,className:o.default.string,buttonText:o.default.string},i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDownload=n.handleDownload.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var e=document.getElementById(this.props.table).outerHTML,n=String(this.props.sheet),a=String(this.props.filename)+".xls",s={worksheet:n||"Worksheet",table:e};if(window.navigator.msSaveOrOpenBlob){var l=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+e+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()((function(){window.navigator.msSaveOrOpenBlob(l,a)})),!0}var o=window.document.createElement("a");return o.href="data:application/vnd.ms-excel;base64,"+t.base64(t.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',s)),o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0}},{key:"render",value:function(){return l.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(e){return window.btoa(unescape(encodeURIComponent(e)))}},{key:"format",value:function(e,t){return e.replace(/{(\w+)}/g,(function(e,n){return t[n]}))}}]),t}(s.Component);i.propTypes=r,i.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},t.default=i},386:function(e,t,n){"use strict";n.r(t);var a=n(23),s=n(4),l=n(5),o=n(1),c=n.n(o),r=(n(387),n(11)),i=n(24),d=n(90),u=(n(91),n(159)),b=n.n(u),m=n(0);t.default=function(){var e=Object(i.c)((function(e){return e.EmpAuth.EmployeeData})),t=c.a.createRef(),n=Object(i.c)((function(e){return e.EmpAuth.EmployeeData})),u=Object(o.useState)(""),j=Object(l.a)(u,2),h=j[0],x=j[1],p=Object(o.useState)([]),O=Object(l.a)(p,2),f=O[0],g=O[1],y=Object(o.useState)([]),_=Object(l.a)(y,2),k=_[0],v=_[1],w=Object(o.useState)([]),N=Object(l.a)(w,2),E=N[0],F=N[1],D=Object(o.useState)({dateFrom:"",dateTo:"",company:null}),S=Object(l.a)(D,2),T=S[0],C=S[1];Object(o.useEffect)((function(){var t=null===T.company?e.company_code:T.company,n=T.dateFrom,a=T.dateTo;if(""!==n&&""!==a&&a<n)return d.b.dark("Date To should greater than Date From",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1;var s=new FormData;s.append("DateFrom",n),s.append("DateTo",a),s.append("CompanyCode",t),r.a.post("/allemployeesattcompanywiseaccordingtodate",s).then((function(e){v(e.data)})).catch((function(e){d.b.dark(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}),[T.dateFrom,T.dateTo,T.company]),Object(o.useEffect)((function(){r.a.get("/getcompaniescodes").then((function(e){F(e.data)})).catch((function(e){d.b.dark(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}),[]),Object(o.useEffect)((function(){for(var e=[],t=0;t<k.length;t++)e.includes(k[t].name)||e.push(k[t].name);g(e)}),[k.length]);var W=function(e){var t=e.target,n=t.name,l=t.value,o=Object(s.a)(Object(s.a)({},T),{},Object(a.a)({},n,l));C(o)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{}),Object(m.jsxs)("div",{className:"View_Employee_Attendance",children:[Object(m.jsx)("div",{className:"DivFirst",children:Object(m.jsxs)("div",{className:"Filters",children:[Object(m.jsxs)("div",{className:"d-flex align-items-center",children:[n.access&&(JSON.parse(n.access).includes(502)||JSON.parse(n.access).includes(1))?Object(m.jsxs)("div",{className:"w-100 px-1",children:[Object(m.jsx)("label",{className:"mb-0",children:"Company"}),Object(m.jsxs)("select",{className:"form-control bg-light",variant:"standard",style:{width:"100%",fontSize:"12px",fontFamily:"Quicksand"},onChange:W,name:"company",children:[Object(m.jsx)("option",{value:"",children:"Select the Option"}),E.map((function(e,t){var n=Object(m.jsx)(m.Fragment,{});return"Y"===e.Status_View&&(n=Object(m.jsx)("option",{value:e.company_code,children:e.company_name},t)),n}))]})]}):null,Object(m.jsxs)("div",{className:"w-100 px-1",children:[Object(m.jsx)("label",{className:"mb-0",children:"Date From"}),Object(m.jsx)("input",{className:"form-control form-control-sm bg-light",name:"dateFrom",onChange:W,type:"date",variant:"standard",style:{marginBottom:"10px"},fullWidth:!0})]}),Object(m.jsxs)("div",{className:"w-100 px-1",children:[Object(m.jsx)("label",{className:"mb-0",children:"Date To"}),Object(m.jsx)("input",{className:"form-control form-control-sm bg-light",name:"dateTo",onChange:W,type:"date",variant:"standard",style:{marginBottom:"10px"},fullWidth:!0})]}),f.length>0?Object(m.jsxs)("div",{className:"w-100 px-1",children:[Object(m.jsx)("label",{className:"mb-0",children:"Employees"}),Object(m.jsxs)("select",{className:"form-control bg-light",variant:"standard",style:{width:"100%",fontSize:"12px",fontFamily:"Quicksand"},onChange:function(e){return x(e.target.value)},name:"employee",children:[Object(m.jsx)("option",{value:"",children:"Select the Option"}),f.map((function(e,t){return Object(m.jsx)("option",{value:e,children:e},t)}))]})]}):null]}),k.length>0?Object(m.jsx)(b.a,{id:"test-table-xls-button",className:"download-table-xls-button",table:"table-to-xls",filename:e.company_name+"_Employees_Attendance_From_"+T.dateFrom+"_To_"+T.dateTo,sheet:["Employees","Employees","Employees","Employees"],buttonText:"Export in excel"}):null]})}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"Attendance",children:[Object(m.jsx)("h5",{className:"mb-4 font-weight-bolder",children:"Daily Attendance"}),Object(m.jsx)("div",{className:"attendance-content",children:0===k.length?Object(m.jsx)("h5",{className:"text-center font-weight-bolder",children:"No Record Found"}):Object(m.jsxs)("table",{className:"table table-sm",id:"table-to-xls",ref:t,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"d-none",children:"IDs"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"Date"}),Object(m.jsx)("th",{className:"d-none",children:"Day"}),Object(m.jsx)("th",{children:"Time In"}),Object(m.jsx)("th",{children:"Time Out"}),Object(m.jsx)("th",{children:"Break In"}),Object(m.jsx)("th",{children:"Break Out"}),Object(m.jsx)("th",{children:"Status"})]})}),Object(m.jsx)("tbody",{children:k.map((function(e,t){var n,a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e.emp_date.toString().substring(0,10)).getDay()];return h.length>0?e.name===h&&(n=Object(m.jsxs)("tr",{style:{backgroundColor:"Sunday"===a||"Holiday"===e.status||"OFF"===e.status?"#899499":"Absent"===e.status||"leave"===e.status||"Late"===e.status?"#D3D3D3":"#fff"},children:[Object(m.jsxs)("td",{className:"d-none",children:[" ",e.emp_id," "]}),Object(m.jsxs)("td",{children:[" ",e.name," "]}),Object(m.jsxs)("td",{children:[" ",e.emp_date.toString().substring(0,10)," "]}),Object(m.jsxs)("td",{className:"d-none",children:[" ",a," "]}),"leave"===e.status&&null===e.time_in&&null===e.time_out&&null===e.break_in&&null===e.break_out?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("td",{}),Object(m.jsx)("td",{}),Object(m.jsx)("td",{}),Object(m.jsx)("td",{})]}):("leave"!==e.status||null===e.time_in&&null===e.time_out&&null===e.break_in&&e.break_out,Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("td",{children:[" ",null===e.time_in?Object(m.jsx)("span",{}):e.time_in," "]}),Object(m.jsxs)("td",{children:[" ",null===e.time_out?Object(m.jsx)("span",{}):e.time_out," "]}),Object(m.jsxs)("td",{children:[" ",null===e.break_in?Object(m.jsx)("span",{}):e.break_in," "]}),Object(m.jsxs)("td",{children:[" ",null===e.break_out?Object(m.jsx)("span",{}):e.break_out," "]})]})),Object(m.jsx)("td",{children:"leave"===e.status&&null===e.time_in&&null===e.time_out&&null===e.break_in&&null===e.break_out||"leave"!==e.status||null===e.time_in&&null===e.time_out&&null===e.break_in&&null===e.break_out?Object(m.jsx)(m.Fragment,{children:e.status}):Object(m.jsx)(m.Fragment,{children:"Short Leave"})})]},t)):n=Object(m.jsxs)("tr",{style:{backgroundColor:"Sunday"===a||"Holiday"===e.status||"OFF"===e.status?"#899499":"Absent"===e.status||"leave"===e.status||"Late"===e.status?"#D3D3D3":"#fff"},children:[Object(m.jsxs)("td",{className:"d-none",children:[" ",e.emp_id," "]}),Object(m.jsxs)("td",{children:[" ",e.name," "]}),Object(m.jsxs)("td",{children:[" ",e.emp_date.toString().substring(0,10)," "]}),Object(m.jsxs)("td",{className:"d-none",children:[" ",a," "]}),"leave"===e.status&&null===e.time_in&&null===e.time_out&&null===e.break_in&&null===e.break_out?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("td",{}),Object(m.jsx)("td",{}),Object(m.jsx)("td",{}),Object(m.jsx)("td",{})]}):("leave"!==e.status||null===e.time_in&&null===e.time_out&&null===e.break_in&&e.break_out,Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("td",{children:[" ",null===e.time_in?Object(m.jsx)("span",{}):e.time_in," "]}),Object(m.jsxs)("td",{children:[" ",null===e.time_out?Object(m.jsx)("span",{}):e.time_out," "]}),Object(m.jsxs)("td",{children:[" ",null===e.break_in?Object(m.jsx)("span",{}):e.break_in," "]}),Object(m.jsxs)("td",{children:[" ",null===e.break_out?Object(m.jsx)("span",{}):e.break_out," "]})]})),Object(m.jsx)("td",{children:"leave"===e.status&&null===e.time_in&&null===e.time_out&&null===e.break_in&&null===e.break_out||"leave"!==e.status||null===e.time_in&&null===e.time_out&&null===e.break_in&&null===e.break_out?Object(m.jsx)(m.Fragment,{children:e.status}):Object(m.jsx)(m.Fragment,{children:"Short Leave"})})]},t),n}))})]})})]})})]})]})}},387:function(e,t,n){}}]);