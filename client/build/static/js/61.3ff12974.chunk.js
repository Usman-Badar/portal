(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[61],{575:function(e,t,a){"use strict";a.r(t);var n=a(24),s=a(9),r=a(4),c=a(1),d=(a(576),a(11)),o=a(3),l=a(79),i=a.n(l),m=a(81),b=(a(82),a(0));t.default=function(){var e=Object(o.g)(),t=Object(c.useState)([]),a=Object(r.a)(t,2),l=a[0],p=a[1],j=Object(c.useState)({department_code:"",department_name:""}),u=Object(r.a)(j,2),h=u[0],O=u[1],g=Object(c.useState)({DepartName:""}),x=Object(r.a)(g,2),v=x[0],N=x[1];Object(c.useEffect)((function(){f()}),[]);var f=function(){d.a.get("/getalldepartments").then((function(e){p(e.data)})).catch((function(e){m.b.dark(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},D=function(e){var t=e.target,a=t.name,r=t.value,c=Object(s.a)(Object(s.a)({},v),{},Object(n.a)({},a,r));N(c)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{}),Object(b.jsxs)("div",{className:"Admin_Departments d-center",children:[Object(b.jsxs)("div",{className:"Admin_Departments-content",children:[Object(b.jsx)("h3",{children:"Add New Departments"}),Object(b.jsxs)("form",{className:"addDepartments btn-group",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("depart",v.DepartName),d.a.post("/adddepartment",t).then((function(){f(),i()("input[name='DepartName']").val("")})).catch((function(e){m.b.dark(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:[Object(b.jsx)("input",{onChange:D,type:"text",className:"form-control",placeholder:"Department Name",name:"DepartName",required:!0}),Object(b.jsx)("button",{className:"btn",type:"submit",children:"Add Department"})]}),Object(b.jsx)("h3",{children:"All Departments"}),Object(b.jsx)("div",{className:"departments",children:0===l.length?Object(b.jsx)("h3",{className:"text-center mb-0",children:"No Department Found"}):l.map((function(t,a){return Object(b.jsxs)("div",{className:"d-flex align-items-center border-bottom mb-2",children:[Object(b.jsxs)("div",{className:"index",children:[" ",a+1," "]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{style:{color:"rgb(128, 128, 128, .5)"},children:"Department Name"}),Object(b.jsxs)("h5",{children:[" ",t.department_name," "]})]}),Object(b.jsxs)("div",{className:"ml-auto d-flex align-items-center operations",children:[Object(b.jsx)("div",{className:"px-3",children:Object(b.jsxs)("button",{onClick:function(){return a=t.department_code,void e.replace("/admin_departments/admin_designations/"+a);var a},className:"btn",style:{backgroundColor:"#1A7DEC"},children:[Object(b.jsx)("i",{className:"las la-users"})," Designations"]})}),Object(b.jsx)("div",{className:"px-3",children:Object(b.jsxs)("button",{className:"btn",onClick:function(){return function(e,t){var a=l.filter((function(e,a,n){return a===t})),n=Object(s.a)(Object(s.a)({},h),{},{department_name:a[0].department_name,department_code:e});O(n),i()(".editModalBtn").trigger("click")}(t.department_code,a)},style:{backgroundColor:"#1EC916"},children:[Object(b.jsx)("i",{className:"las la-edit"})," Edit"]})}),Object(b.jsx)("div",{className:"px-3",children:Object(b.jsxs)("button",{className:"btn",onClick:function(){return function(e){var t=new FormData;t.append("departID",e),d.a.post("/deletedepartmentname",t).then((function(){f(),O({department_code:"",department_name:""}),m.b.dark("Department Deleted",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){m.b.dark(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}(t.department_code)},style:{backgroundColor:"#FEC400"},children:[Object(b.jsx)("i",{className:"las la-trash"})," Remove"]})})]})]},a)}))})]}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary d-none editModalBtn","data-toggle":"modal","data-target":"#departmentModal",children:"Launch demo modal"}),Object(b.jsx)("div",{className:"modal fade",id:"departmentModal",role:"dialog","aria-labelledby":"departmentModalLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(b.jsx)("div",{className:"modal-content",children:Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsx)("input",{type:"text",value:h.department_name,className:"form-control mb-3",placeholder:"Category Name",name:"editCtgryName",onChange:D,pattern:"[a-zA-Z][a-zA-Z\\s]*",minLength:"3",required:!0}),Object(b.jsx)("button",{"data-dismiss":"modal",className:"btn d-block ml-auto",children:"Update Department"})]})})})})]})]})}},576:function(e,t,a){}}]);