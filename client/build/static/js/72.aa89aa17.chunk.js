(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[72],{632:function(e,t,s){},692:function(e,t,s){"use strict";s.r(t);var c=s(1),a=(s(632),s(79)),n=s.n(a),i=s(3),l=s(0);t.default=function(e){var t=e.Data,s=e.Tickets,a=e.Employees,d=e.Keyword,o=e.searchEmployees,m=e.generateTicket,b=e.getIssuedTickets,h=e.getEmployees,x=e.setEmployee,O=e.setTicket;return Object(c.useLayoutEffect)((function(){n()(".EmpTickets_container .tickets__selection_container .ticket").on("click",(function(e){n()(".EmpTickets_container .tickets__selection_container .ticket").removeClass("active"),n()(".EmpTickets_container .tickets__selection_container .ticket .la-check").remove();var t=document.createElement("i");t.className="las la-check","ticket"===e.target.className?(n()(e.target).addClass("active"),n()(e.target).append(t)):(n()(e.target.parentElement).addClass("active"),n()(e.target.parentElement).append(t))}))}),[]),Object(l.jsx)("div",{className:"emp_tickets_container",children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/employeestickets/form",render:function(){return Object(l.jsx)(j,{Employees:a,Keyword:d,searchEmployees:o,generateTicket:m,getEmployees:h,setEmployee:x,setTicket:O})}}),Object(l.jsx)(i.b,{exact:!0,path:"/employeestickets",render:function(){return Object(l.jsx)(r,{Tickets:s,Data:t,getIssuedTickets:b})}})]})})};var r=function(e){var t=e.Data,s=e.Tickets,a=e.getIssuedTickets;return Object(c.useEffect)((function(){a(sessionStorage.getItem("EmpID"))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"grid_container",children:[window.screen.availWidth<=800?Object(l.jsx)("div",{className:"bar_container",children:Object(l.jsxs)("div",{className:"bar_container_content",children:[Object(l.jsx)("h6",{className:"text-center font-weight-bold",children:"Overview"}),Object(l.jsx)("hr",{}),0===t.length?Object(l.jsx)("h6",{className:"text-center",children:"No Ticket Issued"}):t.map((function(e,t){var s=e.y/e.total_tickets_issued*100;return Object(l.jsx)("div",{className:"bar",children:Object(l.jsxs)("div",{style:{width:s+"%"},className:e.indexLabel+" bar_filled",children:[s," %"]})},t)}))]})}):null,Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"tickets_issued",children:[Object(l.jsxs)("div",{className:"d-flex align-items-center justify-content-between head",children:[Object(l.jsxs)("h3",{className:"heading",children:["Tickets Issued",Object(l.jsx)("sub",{children:"To Employees"})]}),Object(l.jsxs)("div",{className:"d-flex align-items-center justify-content-center counts",children:[Object(l.jsx)("div",{className:"green",children:0!==t.length&&t[0]?t[0].y:"0"}),Object(l.jsx)("div",{className:"yellow",children:0!==t.length&&t[2]?t[2].y:"0"}),Object(l.jsx)("div",{className:"red",children:0!==t.length&&t[1]?t[1].y:"0"})]})]}),Object(l.jsx)("hr",{}),s?0===s.length?Object(l.jsx)("h6",{className:"text-center",children:"No Ticket Found"}):Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Sr.No"}),Object(l.jsx)("th",{children:"Ticket"}),Object(l.jsx)("th",{children:"Employee"}),Object(l.jsx)("th",{children:"Remarks"}),Object(l.jsx)("th",{children:"Generate Date"})]})}),Object(l.jsx)("tbody",{children:s.map((function(e,t){return Object(l.jsxs)("tr",{title:e.remarks,children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:"green"===e.ticket?Object(l.jsx)("i",{className:"las green la-trophy"}):"yellow"===e.ticket?Object(l.jsx)("i",{className:"las yellow la-star-half-alt"}):Object(l.jsx)("i",{className:"las red la-exclamation"})}),Object(l.jsxs)("td",{children:[Object(l.jsx)("b",{children:e.name}),Object(l.jsx)("br",{}),e.designation_name]}),Object(l.jsxs)("td",{children:[e.remarks.substring(0,50)+"...",Object(l.jsxs)("div",{className:"date_column",children:[Object(l.jsx)("b",{children:"Generate Date:"})," ",Object(l.jsx)("br",{}),new Date(e.generated_date).toDateString()]})]}),Object(l.jsxs)("td",{children:[new Date(e.generated_date).toDateString()," ",Object(l.jsx)("br",{}),e.generated_time]})]},t)}))})]}):Object(l.jsx)("h6",{className:"text-center",children:"Loading The List..."})]})}),window.screen.availWidth>800?Object(l.jsx)("div",{className:"bar_container",children:Object(l.jsxs)("div",{className:"bar_container_content",children:[Object(l.jsx)("h6",{className:"text-center font-weight-bold",children:"Overview"}),Object(l.jsx)("hr",{}),0===t.length?Object(l.jsx)("h6",{className:"text-center",children:"No Ticket Issued"}):t.map((function(e,t){var s=e.y/e.total_tickets_issued*100;return Object(l.jsx)("div",{className:"bar",children:Object(l.jsxs)("div",{style:{width:s+"%"},className:e.indexLabel+" bar_filled",children:[s," %"]})},t)}))]})}):null]})})},j=function(e){var t=e.Employees,s=e.Keyword,c=e.searchEmployees,a=e.generateTicket,n=e.getEmployees,i=e.setEmployee,r=e.setTicket;return Object(l.jsx)("form",{className:"EmpTickets_container container-fluid",id:"ticket_form",onSubmit:a,children:Object(l.jsxs)("fieldset",{children:[Object(l.jsxs)("h3",{className:"heading",children:["Performance Tickets",Object(l.jsx)("sub",{children:"For Employees"})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"tickets__selection_container mb-5",children:[Object(l.jsx)("div",{className:"ticket",onClick:function(){return r("green")},children:Object(l.jsx)("i",{className:"las la-trophy"})}),Object(l.jsx)("div",{className:"ticket",onClick:function(){return r("yellow")},children:Object(l.jsx)("i",{className:"las la-star-half-alt"})}),Object(l.jsx)("div",{className:"ticket",onClick:function(){return r("red")},children:Object(l.jsx)("i",{className:"las la-exclamation"})})]}),Object(l.jsxs)("div",{className:"row mb-3",children:[Object(l.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:[Object(l.jsx)("label",{className:"mb-0",children:"Employee"}),Object(l.jsxs)("div",{className:"search_container",children:[Object(l.jsx)("input",{type:"search",required:!0,className:"form-control search_employees",placeholder:"Seach employees...",onFocus:n,onChange:c}),s?Object(l.jsx)("div",{className:"employees_list",children:t?t.map((function(e,t){var c=Object(l.jsx)(l.Fragment,{});return e.name.toLowerCase().includes(s.toLowerCase())&&(c=Object(l.jsxs)("div",{className:"employee",onClick:function(){return i(e.emp_id)},children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:"images/employees/"+e.emp_image,alt:"emp_photo",width:"35",height:"35",className:"rounded-circle"})}),Object(l.jsxs)("div",{className:"ml-2",children:[Object(l.jsxs)("p",{className:"font-weight-bold mb-0",children:[" ",e.name," "]}),Object(l.jsxs)("p",{className:"mb-0",children:[" ",e.designation_name," at ",e.company_name]})]})]},t)),c})):Object(l.jsx)("p",{className:"text-center mb-0",children:"Loading employees list..."})}):null]})]}),Object(l.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:[Object(l.jsx)("label",{className:"mb-0",children:"Generate Date"}),Object(l.jsx)("input",{type:"text",className:"form-control",value:(new Date).toDateString(),disabled:!0})]})]}),Object(l.jsxs)("div",{className:"reason",children:[Object(l.jsx)("label",{className:"mb-0",children:"Give Remarks"}),Object(l.jsx)("textarea",{name:"remarks",required:!0,id:"",rows:"3",className:"form-control",placeholder:"Suitable remarks according to the given task..."})]}),Object(l.jsx)("div",{className:"d-flex justify-content-end mt-3",children:Object(l.jsx)("button",{className:"btn submit",type:"submit",children:"Submit"})})]})})}}}]);