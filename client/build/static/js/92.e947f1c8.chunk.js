(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[92],{631:function(e,t,s){},692:function(e,t,s){"use strict";s.r(t);s(1),s(631);var n=s(79),c=s.n(n),i=s(27),a=s(28),l=s(0);t.default=function(e){var t=e.StartLoading,s=e.Requests,n=e.Details,c=e.Comments,i=e.OpenRequest,a=e.newComment,r=e.CloseRequest,b=e.issueToInventory;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"inventory_requests_page",children:Object(l.jsxs)("div",{className:"left requests request_details",children:[Object(l.jsx)("h2",{children:"Inventory Requests"}),Object(l.jsx)("hr",{}),n?Object(l.jsx)(d,{details:n[0][0],specifications:n[1],Comments:c,Details:n,newComment:a,issueToInventory:b,CloseRequest:r}):Object(l.jsx)(j,{Requests:s,StartLoading:t,OpenRequest:i})]})})})};var r=function(e){var t=e.Comments,s=e.newComment;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"commentBox not_fixed",children:[Object(l.jsxs)("div",{className:"header",onClick:function(){return c()(".commentBox").toggleClass("open")},children:["Comment Section",0===t.length?null:Object(l.jsx)("span",{className:"counting",children:t.length})]}),Object(l.jsx)("div",{className:"comments_content",id:"comments_content",children:0===t.length?Object(l.jsx)("div",{className:"text-center",children:"No Comments"}):t.map((function(e){return Object(l.jsxs)("div",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"comment mine":"comment",children:[Object(l.jsxs)("small",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"mine":"",children:[" ",Object(l.jsx)("b",{children:e.name})," "]}),Object(l.jsxs)("p",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"mine":"",children:[" ",e.comment," "]}),Object(l.jsxs)("small",{className:parseInt(e.sender_id)===parseInt(sessionStorage.getItem("EmpID"))?"mine":"",children:[" ",new Date(e.send_date).toDateString()," at ",e.send_time," "]})]})}))}),Object(l.jsxs)("form",{className:"newComment",id:"commentForm",onSubmit:s,children:[Object(l.jsx)("input",{required:!0,type:"text",name:"comment"}),Object(l.jsx)("button",{children:Object(l.jsx)("i",{className:"las la-paper-plane"})})]})]})})},d=function(e){var t=e.details,s=e.specifications,n=e.Comments,c=e.Details,i=e.newComment,a=e.issueToInventory,d=e.CloseRequest;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"details",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(l.jsx)("h5",{className:"mb-0",children:"Request Details"}),Object(l.jsx)("i",{className:"la-2x las la-times-circle",onClick:d})]}),Object(l.jsx)("br",{}),Object(l.jsx)("table",{className:"table table-sm table-bordered",children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"bg-light",children:"Requested By"}),Object(l.jsx)("td",{children:t.sender_name})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"bg-light",children:"Request Date/Time"}),Object(l.jsx)("td",{children:new Date(t.request_date).toDateString()+" at "+t.request_time})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"bg-light",children:"Accepted By"}),Object(l.jsx)("td",{children:t.receiver_name?t.receiver_name:"N"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"bg-light",children:"Accept Date/Time"}),Object(l.jsx)("td",{children:t.accept_date?new Date(t.accept_date).toDateString()+" at "+t.accept_time:"N"})]})]})}),Object(l.jsx)("br",{}),Object(l.jsxs)("table",{className:"table table-bordered",children:[Object(l.jsx)("thead",{className:"thead-light",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Sr.No"}),Object(l.jsx)("th",{children:"Product"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Required Quantity"})]})}),Object(l.jsx)("tbody",{children:s.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.description}),Object(l.jsx)("td",{children:e.assigned_quantity})]},t)}))})]}),t.issued?null:Object(l.jsx)("button",{className:"btn btn-sm d-block mx-auto btn-danger rounded-pill px-4",onDoubleClick:function(){return a(t.request_id,t.id)},title:"Double click to enter",children:"Issue To Inventory"})]}),Object(l.jsx)("div",{children:n.length>0||c?Object(l.jsx)(r,{Comments:n,newComment:i}):null})]})})},j=function(e){var t=e.Requests,s=e.StartLoading,n=e.OpenRequest;return Object(l.jsxs)("div",{className:"list",children:[Object(l.jsx)(i.a,{display:s,styling:{zIndex:1e5,position:"absolute"},icon:Object(l.jsx)("img",{src:a.a,className:"LoadingImg",alt:"LoadingIcon"}),txt:"Please Wait"}),t?0===t.length?Object(l.jsx)("p",{className:"text-center",children:"No Request Found"}):Object(l.jsxs)("table",{className:"table table-bordered",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Request ID"}),Object(l.jsx)("th",{children:"Requested By"}),Object(l.jsx)("th",{children:"Request Date/Time"}),Object(l.jsx)("th",{children:"Accepted (Y/N)"}),Object(l.jsx)("th",{children:"Action"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.id}),Object(l.jsx)("td",{children:Object(l.jsxs)("div",{className:"d-flex align-items-center justify-content-start font-italic employee",children:[Object(l.jsx)("img",{src:"/images/employees/"+e.sender_image,alt:"emp"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"font-weight-bold",children:e.sender_name}),Object(l.jsx)("span",{className:"text-secondary",children:e.sender_designation})]})]})}),Object(l.jsxs)("td",{children:[new Date(e.request_date).toDateString()," ",Object(l.jsx)("br",{}),e.request_time]}),Object(l.jsx)("td",{children:e.accepted_by?"Y":"N"}),Object(l.jsx)("td",{children:e.accepted_by?Object(l.jsx)("button",{className:"btn btn-sm btn-outline-primary rounded-pill px-3",onClick:function(){return n(t)},children:"Details"}):Object(l.jsx)("button",{className:"btn btn-sm btn-outline-success rounded-pill px-3",onClick:function(){return n(t)},children:"Accept"})})]},t)}))})]}):Object(l.jsx)(i.a,{display:!0,styling:{zIndex:1e5,position:"absolute"},icon:Object(l.jsx)("img",{src:a.a,className:"LoadingImg",alt:"LoadingIcon"}),txt:"Please Wait"})]})}}}]);