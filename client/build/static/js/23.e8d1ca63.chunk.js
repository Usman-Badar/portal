(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[23],{396:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){},646:function(e,t,a){"use strict";a.r(t);var n=a(94),c=a(24),i=a(9),s=a(4),r=a(1),o=a(3),l=(a(396),a(17)),d=(a(397),a(0)),j=function(e){return Object(d.jsxs)("div",{className:"PreviousPORequest",children:[Object(d.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(d.jsxs)("div",{className:"d-flex align-items-center w-75",children:[Object(d.jsx)("img",{src:"images/employees/"+e.data.emp_image,alt:"employeeImg"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"font-weight-bolder",children:[" ",e.data.name," "]}),Object(d.jsxs)("p",{children:[" ",e.data.designation_name," in ",e.data.department_name,", ",e.data.company_name," "]})]})]}),Object(d.jsxs)("div",{className:"w-25",children:[Object(d.jsx)("p",{className:"font-weight-bolder",children:"Total"}),Object(d.jsxs)("p",{children:[" Rs ",e.data.total.toLocaleString("en-US")]})]})]}),Object(d.jsx)("div",{className:"py-3",children:Object(d.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"font-weight-bolder",children:"Date"}),Object(d.jsxs)("p",{children:[" ",e.d.toDateString()," "]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"font-weight-bolder",children:"Status"}),Object(d.jsxs)("p",{style:{backgroundColor:e.bgColor,fontSize:"10px"},className:"text-white text-center rounded-pill px-2",children:[" ",e.txt," "]})]})]})}),Object(d.jsxs)("div",{className:"d-flex align-items-center",children:[Object(d.jsx)("i",{className:"las la-map-marker-alt"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"font-weight-bolder",children:[" ",e.data.company_name," "]}),Object(d.jsxs)("p",{children:[" ",e.data.location_name," "]})]})]}),Object(d.jsx)("div",{className:"ViewPrRequests_button",children:Object(d.jsx)(l.b,{to:"/purchaseorder/view=previousrequests/"+e.data.pr_id+"/"+e.data.po_id,children:Object(d.jsx)("button",{className:"btn",children:"View"})})})]})},b=a(92),u=a(25),p=a(11),h=a(98),O=a(79),m=a.n(O),x=a(82),f=(a(83),a(88)),v=(a(398),a.p+"static/media/QFS-LOGO.a4ccc54a.PNG"),g=a.p+"static/media/SEABOARD-SERVICES.b1cc0596.PNG",_=a.p+"static/media/SBL-LOGO.3e8ecf8d.PNG",N=function(e){var t=Object(r.useState)({info:[],specifications:[]}),a=Object(s.a)(t,2),n=a[0],c=a[1];Object(r.useEffect)((function(){var t=e.PrID;p.a.post("/getpurchaseorderdetails",{pr_id:t,po_id:null}).then((function(e){c({info:e.data[4],specifications:e.data[5]})})).catch((function(e){console.log(e)}))}),[e.PrID]);for(var i=[],o=1;o<=12;o++)i.push(20*o);return Object(d.jsx)(d.Fragment,{children:n.info.map((function(e,t){var a=new Date(e.approve_date),c=new Date(e.discard_date),i=new Date(e.request_date);return Object(d.jsx)("div",{className:"PR_printUI",children:Object(d.jsxs)("div",{className:"PR_printUI_Div",children:[Object(d.jsx)("h1",{className:" font-weight-bolder text-center",children:"Seaboard Group"}),Object(d.jsxs)("div",{className:"PR_printUI_Logos",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:v,alt:"QFS Logo"})}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:g,alt:"SBS Logo"})}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:_,alt:"SBL Logo"})})]}),Object(d.jsx)("h3",{className:"font-weight-bolder text-center",children:"Purchase Requisition"}),Object(d.jsxs)("div",{className:"PR_printUI_Top mt-5",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)("p",{className:"font-weight-bolder mr-3",children:"Comapny Name : "}),Object(d.jsxs)("p",{children:[" ",e.pr_company_name," "]})]}),Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)("p",{className:"font-weight-bolder mr-3",children:"Delivery / Work Location : "}),Object(d.jsxs)("p",{children:[" ",e.location_name," "]})]})]}),Object(d.jsxs)("div",{style:{width:"40%"},children:[Object(d.jsxs)("div",{className:"d-flex border py-1",children:[Object(d.jsx)("div",{className:"border-right w-50 text-center",children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"PR Number  "})}),Object(d.jsx)("div",{className:"text-center w-50",children:Object(d.jsxs)("p",{children:[" ",e.pr_code," "]})})]}),Object(d.jsxs)("div",{className:"d-flex border py-1",children:[Object(d.jsx)("div",{className:"border-right w-50 text-center",children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Date  "})}),Object(d.jsx)("div",{className:"text-center w-50",children:Object(d.jsxs)("p",{children:[" ",a?a.toString().substring(0,15):null," "]})})]})]})]}),Object(d.jsxs)("div",{className:"PR_printUI_Middle",children:[Object(d.jsxs)("div",{className:"PR_printUI_Grid",style:{backgroundColor:"rgb(243, 243, 243)"},children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Sr: No:"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Description"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Quantity"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Estimated Cost"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Tax"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Total Cost"})})]}),n.specifications.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"PR_printUI_Grid",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:t+1})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:e.description})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:e.quantity})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:e.price})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:e.tax+"%"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Rs "+e.amount.toLocaleString("en-US")})})]})})})),Object(d.jsxs)("div",{className:"PR_printUI_Grid",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{style:{backgroundColor:"rgb(243, 243, 243)"},children:Object(d.jsx)("p",{className:"font-weight-bolder text-right mr-2",children:"Total :"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:["Rs ",e.total.toLocaleString("en-US")," "]})})]})]}),Object(d.jsxs)("div",{className:"PR_printUI_Bottom",children:[Object(d.jsxs)("div",{className:"PR_printUI_Grid1",style:{backgroundColor:"rgb(243, 243, 243)"},children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Sr: No:"})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Reason"})})]}),n.specifications.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"PR_printUI_Grid1",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:t+1})}),Object(d.jsx)("div",{className:"text-justify px-2",children:Object(d.jsx)("p",{children:e.reason})})]})})})),Object(d.jsxs)("div",{className:"PR_printUI_Remarks mt-4",style:{backgroundColor:"rgb(243, 243, 243)"},children:[Object(d.jsx)("div",{className:"DIVS",children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Sumbitted By"})}),Object(d.jsx)("div",{className:"DIVS",children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Approved By"})}),Object(d.jsx)("div",{className:"DIVS",children:Object(d.jsx)("p",{className:"font-weight-bolder",children:"Submitted To"})})]}),Object(d.jsxs)("div",{className:"PR_printUI_Remarks PR_printUI_Remark",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"DIVS",children:[Object(d.jsx)("p",{className:"font-weight-bolder mr-3",children:"Name : "}),Object(d.jsxs)("p",{children:[" ",e.sender_name," "]})]}),Object(d.jsxs)("div",{className:"DIVS",children:[Object(d.jsx)("p",{className:"font-weight-bolder",children:"Date : "}),Object(d.jsx)("p",{children:a?a.toString().substring(0,15):null})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"DIVS",children:[Object(d.jsx)("p",{className:"font-weight-bolder mr-3",children:"Name : "}),Object(d.jsxs)("p",{children:[" ",e.approve_emp_name," "]})]}),Object(d.jsxs)("div",{className:"DIVS",children:[Object(d.jsx)("p",{className:"font-weight-bolder",children:"Date : "}),Object(d.jsx)("p",{children:c?c.toString().substring(0,15):null})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"DIVS",children:[Object(d.jsx)("p",{className:"font-weight-bolder mr-3",children:"Name : "}),Object(d.jsxs)("p",{children:[" ",e.handle_emp_name," "]})]}),Object(d.jsxs)("div",{className:"DIVS",children:[Object(d.jsx)("p",{className:"font-weight-bolder",children:"Date : "}),Object(d.jsx)("p",{children:i?i.toString().substring(0,15):null})]})]})]})]})]})},t)}))})},S=Object(r.lazy)((function(){return Promise.all([a.e(5),a.e(75)]).then(a.bind(null,679))})),y=Object(r.lazy)((function(){return a.e(35).then(a.bind(null,697))})),w=Object(r.lazy)((function(){return a.e(36).then(a.bind(null,701))})),I=Object(r.lazy)((function(){return a.e(74).then(a.bind(null,680))}));t.default=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],O=Object(r.useState)(!1),v=Object(s.a)(O,2),g=v[0],_=v[1],P=Object(r.useState)(!1),R=Object(s.a)(P,2),C=R[0],D=(R[1],Object(r.useState)([])),q=Object(s.a)(D,2),F=q[0],k=q[1],T=Object(r.useState)([]),A=Object(s.a)(T,2),B=A[0],M=A[1],E=Object(r.useState)([]),U=Object(s.a)(E,2),G=U[0],L=U[1],V=Object(r.useState)([]),Y=Object(s.a)(V,2),H=Y[0],z=Y[1],J=Object(r.useState)(""),Q=Object(s.a)(J,2),W=Q[0],X=Q[1],K=Object(r.useState)([]),Z=Object(s.a)(K,2),$=Z[0],ee=Z[1],te=Object(r.useState)(0),ae=Object(s.a)(te,2),ne=ae[0],ce=ae[1],ie=Object(r.useState)(0),se=Object(s.a)(ie,2),re=se[0],oe=se[1],le=Object(r.useState)(""),de=Object(s.a)(le,2),je=de[0],be=de[1],ue=Object(r.useState)({company:{company_code:0,company_name:"",company_website:""},location:{location_code:0,location_name:"",location_phone:"",location_address:""},ShipTo:{company:{company_code:0,company_name:"",company_website:""},location:{location_code:0,location_name:"",location_phone:"",location_address:""}},venders:[],comments:"",gst:0,cartage:0,others:0,total:0}),pe=Object(s.a)(ue,2),he=pe[0],Oe=pe[1],me=Object(r.useState)([]),xe=Object(s.a)(me,2),fe=xe[0],ve=xe[1],ge=Object(r.useState)(0),_e=Object(s.a)(ge,2),Ne=_e[0],Se=_e[1],ye=Object(r.useState)(0),we=Object(s.a)(ye,2),Ie=we[0],Pe=we[1],Re=Object(r.useState)(),Ce=Object(s.a)(Re,2),De=Ce[0],qe=Ce[1],Fe=Object(r.useState)(!1),ke=Object(s.a)(Fe,2),Te=ke[0],Ae=ke[1],Be=Object(r.useState)({description:"",reason:"",price:0,taxRequired:"NO",tax:"",quantity:1}),Me=Object(s.a)(Be,2),Ee=Me[0],Ue=Me[1],Ge=Object(r.useState)("exclusive"),Le=Object(s.a)(Ge,2),Ve=Le[0],Ye=Le[1],He=Object(r.useState)(!1),ze=Object(s.a)(He,2),Je=ze[0],Qe=ze[1],We=Object(r.useState)({info:[],specifications:[],venders:[]}),Xe=Object(s.a)(We,2),Ke=Xe[0],Ze=Xe[1],$e=Object(r.useState)(0),et=Object(s.a)($e,2),tt=(et[0],et[1]),at=Object(r.useState)([]),nt=Object(s.a)(at,2),ct=nt[0],it=nt[1],st=Object(r.useState)([]),rt=Object(s.a)(st,2),ot=rt[0],lt=rt[1],dt=Object(r.useState)([]),jt=Object(s.a)(dt,2),bt=jt[0],ut=jt[1],pt=Object(u.c)((function(e){return e.EmpAuth.EmployeeData})),ht=Object(o.g)();Object(r.useEffect)((function(){je.length>0&&m()(".prNumber").val(je),he.comments.length>0&&m()("#requestComments").val(he.comments);var e=window.location.href.split("/").pop().split("id=").pop();isNaN(parseInt(e))||p.a.post("/getpridfrompo",{po_id:e}).then((function(t){p.a.post("/getpurchaseorderdetails",{pr_id:t.data[0]?t.data[0].pr_id:null,po_id:e}).then((function(t){it(t.data[4]);var a=t.data[0];t.data[4][0]&&(a[0].pr_code=t.data[4][0].pr_code),Ze(Object(i.a)(Object(i.a)({},Ke),{},{info:a,specifications:t.data[1],venders:t.data[3]})),t.data[2][0]&&lt(t.data[2]),tt(parseInt(e))})).catch((function(e){console.log(e)}))})),pt.emp_id&&(vt(pt.emp_id),ft());var t=window.location.href.split("/")[window.location.href.split("/").length-3].split("view=").pop();"form"===window.location.href.split("/").pop().split("view=").pop()?l([{icon:"las la-hand-holding-usd",txt:"Dashboard",link:!0,href:"/purchaseorder/view=home"},{icon:"las la-hand-holding-usd",txt:"Purchase Order",link:!1,func:function(){return mt()}},{icon:"las la-hand-holding-usd",txt:"Bills",link:!1,func:function(){return Ot()}}]):l("previousrequests"===t||"attached_bills"===t?[{icon:"las la-hand-holding-usd",txt:"Dashboard",link:!0,href:"/purchaseorder/view=home"},{icon:"las la-hand-holding-usd",txt:"Purchase Order",link:!1,func:function(){return mt()}},{icon:"las la-hand-holding-usd",txt:"Attached Bills",link:!1,func:function(){return xt()}}]:[{icon:"las la-hand-holding-usd",txt:"Dashboard",link:!0,href:"/purchaseorder/view=home"},{icon:"las la-hand-holding-usd",txt:"Purchase Order",link:!1,func:function(){return mt()}}])}),[window.location.href]),Object(r.useEffect)((function(){pt.company_code&&h.a.on("newpurchaseorder",(function(){vt(pt.emp_id)}))}),[pt.company_code,pt.emp_id,C]),Object(r.useEffect)((function(){var e=""===he.cartage?0:parseFloat(he.cartage),t=""===he.others?0:parseFloat(he.others),a=""===Ie?0:parseFloat(Ie),n=Object(i.a)(Object(i.a)({},he),{},{total:e+t+a});Oe(n)}),[he.cartage,he.others,Ie]),Object(r.useEffect)((function(){var e=parseFloat(Ee.price),t=parseInt(Ee.quantity),a=parseFloat(Ee.tax);((isNaN(e)||e<0)&&(e=0,Ue(Object(i.a)(Object(i.a)({},Ee),{},{price:0}))),(isNaN(t)||t<0)&&(t=0,Ue(Object(i.a)(Object(i.a)({},Ee),{},{quantity:0}))),(isNaN(a)||a<0)&&(a=0,Ue(Object(i.a)(Object(i.a)({},Ee),{},{tax:""}))),"YES"===Ee.taxRequired&&"exclusive"===Ve)?Se(e*t/100*a+e*t):Se(t*e)}),[Ee.tax,Ee.quantity,Ee.price,Ve]),Object(r.useEffect)((function(){var e=parseFloat(Ie),t=parseFloat(he.cartage),a=parseFloat(he.others),n=parseFloat(he.gst);isNaN(e)&&Pe(e=0),isNaN(t)&&(t=0,Oe(Object(i.a)(Object(i.a)({},he),{},{cartage:0}))),isNaN(a)&&(a=0,Oe(Object(i.a)(Object(i.a)({},he),{},{others:0}))),isNaN(n)&&(n=0,Oe(Object(i.a)(Object(i.a)({},he),{},{gst:""})));var c=e/100*n;Oe(Object(i.a)(Object(i.a)({},he),{},{total:e+c+a+t}))}),[he.gst,he.cartage,he.others,Ie]);var Ot=function(){ht.replace("/purchaseorder/view=bills")},mt=function(){ht.replace("/purchaseorder/view=form")},xt=function(){var e=window.location.href.split("/"),t=e[6],a=e[7];ht.replace("/purchaseorder/view=attached_bills/"+t+"/"+a)},ft=function(){var e=new FormData;p.a.get("/getallcompanies",e).then((function(e){M(e.data)})).catch((function(e){console.log(e)}))},vt=function(e){var t=new FormData;t.append("empID",e),p.a.post("/getthatempinvtrypos",t).then((function(e){k(e.data);for(var t=[],a=0;a<e.data.length;a++)t.push(e.data[a].status);ee(t)})).catch((function(e){console.log(e)}))},gt=function(e){var t="",a="",n="",c=new Date;n=c.getMonth()>6?c.getFullYear().toString().substring(2,4)+"/"+(c.getFullYear()+1).toString().substring(2,4):(c.getFullYear()-1).toString().substring(2,4)+"/"+c.getFullYear().toString().substring(2,4),p.a.post("/getshortcompanyname",{company_code:e}).then((function(c){c.data.length>0&&(t=c.data[0].code),p.a.post("/getpocode",{company_code:e}).then((function(e){if(e.data.length>0){var c=(parseInt(e.data[0].po_code.split("-")[1])+1).toString();1===c.length&&(c="0"+c),a=c}else a="01";X(t+"-"+a+"-"+n)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},_t=function(e){var t,a=e.target.value,n=B.filter((function(e){return e.company_code===parseInt(a)}));n[0]&&(Oe(Object(i.a)(Object(i.a)({},he),{},{company:{company_code:n[0].company_code,company_name:n[0].company_name,company_website:n[0].website}})),t=n[0].company_code,p.a.post("/getcompanylocations",{company_code:t||pt.company_code}).then((function(e){gt(t),L(e.data)})).catch((function(e){console.log(e)})))},Nt=function(e){var t=e.target.value,a=G.filter((function(e){return e.location_code===parseInt(t)}));Oe(Object(i.a)(Object(i.a)({},he),{},{location:{location_code:a[0].location_code,location_name:a[0].location_name,location_address:a[0].address,location_phone:a[0].location_phone}}))},St=function(e){var t=e.target.value,a=B.filter((function(e){return e.company_code===parseInt(t)}));p.a.post("/getcompanylocations",{company_code:a[0].company_code}).then((function(e){Oe(Object(i.a)(Object(i.a)({},he),{},{ShipTo:Object(i.a)(Object(i.a)({},he.ShipTo),{},{company:{company_code:a[0].company_code,company_name:a[0].company_name,company_website:a[0].website}})})),z(e.data)})).catch((function(e){console.log(e)}))},yt=function(e){var t=e.target.value,a=H.filter((function(e){return e.location_code===parseInt(t)}));Oe(Object(i.a)(Object(i.a)({},he),{},{ShipTo:Object(i.a)(Object(i.a)({},he.ShipTo),{},{location:{location_code:a[0].location_code,location_name:a[0].location_name,location_address:a[0].address,location_phone:a[0].location_phone}})}))},wt=function(e){var t=he.venders;t.push(e),Oe(Object(i.a)(Object(i.a)({},he),{},{venders:t}))},It=function(e){var t=he.venders.filter((function(t){return t.VenderName!==e}));Oe(Object(i.a)(Object(i.a)({},he),{},{venders:t}))},Pt=function(e){var t=e.target.value,a=Object(i.a)(Object(i.a)({},he),{},{comments:t});Oe(a)},Rt=function(e){var t=e.target,a=t.name,n=t.value,s=!0;if("quantity"!==a&&"price"!==a&&"tax"!==a||(n<0||-0===n||"-0"===n)&&(Mt("value should be greater than 0","top-center"),s=!1),s){var r=Object(i.a)(Object(i.a)({},Ee),{},Object(c.a)({},a,n));if(Ue(r),"taxRequired"===a){var o=document.getElementById("TAX");"YES"===n?(o.disabled=!1,Qe(!0),Oe(Object(i.a)(Object(i.a)({},he),{},{gst:"",total:isNaN(parseFloat(Ie))?0:parseFloat(Ie)}))):(Ue(Object(i.a)(Object(i.a)({},Ee),{},{taxRequired:"NO",tax:""})),o.disabled=!0,Qe(!1))}}},Ct=function(e){if(13===e.keyCode&&""!==Ee.description&&""!==Ee.reason&&Ee.quantity>0&&Ee.price>0)if(Ee.reason.length<20){var t=m()(".err_reason").val(),a=0,c="Reason must contain 20 characters minimum!!!",i=50;t="",function e(){a<c.length&&(t+=c.charAt(a),m()(".err_reason").html(t),a++,setTimeout(e,i))}(),setTimeout((function(){m()(".err_reason").html("")}),5e3)}else if("YES"===Ee.taxRequired&&"0"===Ee.tax.toString())Mt("Tax required","top-center");else{if(Te){var s=fe,r={};r=Ee.id?{id:Ee.id,pr_id:Ee.pr_id,description:Ee.description,reason:Ee.reason,price:Ee.price,quantity:Ee.quantity,taxRequired:Ee.taxRequired,tax:Ee.tax,amount:Ne}:{description:Ee.description,reason:Ee.reason,price:Ee.price,quantity:Ee.quantity,taxRequired:Ee.taxRequired,tax:Ee.tax,amount:Ne},Pe(Ie-s[De].amount+Ne),s[De]=r,ve(s),Se(0),m()("select").val("NO"),Ue({description:"",reason:"",price:0,taxRequired:"NO",tax:"",quantity:1}),Ae(!1),qe(),m()(".POForm .PO_printUI_Middle .PO_printUI_Grid.MyItems").removeClass("d-none"),document.getElementById("TAX").disabled=!0}else{var o={description:Ee.description,reason:Ee.reason,price:Ee.price,quantity:Ee.quantity,taxRequired:Ee.taxRequired,tax:Ee.tax,amount:Ne};ve([].concat(Object(n.a)(fe),[o])),Se(0),m()("select").val("NO"),Ue({description:"",reason:"",price:0,taxRequired:"NO",tax:"",quantity:1});var l=Ie;Pe(l+=Ne);var d=document.getElementById("ItemsLIst");null!==d&&(d.scrollTop=d.scrollHeight),document.getElementById("TAX").disabled=!0}m()("textarea, input, select").blur(),m()("textarea[name=description]").focus()}},Dt=function(e){Ae(!0),qe(e),""!==fe[e].tax&&m()("select").val("YES"),Se(fe[e].amount),Ue(fe[e]),m()(".POForm .PO_printUI_Middle .PO_printUI_Grid.MyItems").removeClass("d-none"),m()(".POForm .PO_printUI_Middle .PO_printUI_Grid.MyItems"+e).toggleClass("d-none")},qt=function(e){ve(fe.filter((function(t,a){return a!==e}))),Pe(Ie-fe[e].amount)},Ft=function(){var e=!0;if(0===he.company.company_code?(Mt("No Company Selected","top-center"),e=!1):0===he.location.location_code?(Mt("No location Selected","top-center"),e=!1):0===he.ShipTo.company.company_code?(Mt("No Ship To Company Selected","top-center"),e=!1):0===he.ShipTo.location.location_code?(Mt("No Ship To Location Selected","top-center"),e=!1):0===he.venders.length?(Mt("No vender added","top-center"),e=!1):0===fe.length?(Mt("No Items added","top-center"),e=!1):0===he.comments.length?(Mt("Please enter comments","top-center"),e=!1):0===ot.length?(Mt("Please attach at least one bill document.","top-center"),e=!1):Te&&(Mt("The request is in edit mode, please press enter on the specification fields to get out of it.","top-center"),e=!1),e){var t={RequestInfo:he,specifications:fe,SenderInfo:pt.emp_id,code:W,TaxMode:Ve,PrID:ne},a=new FormData;a.append("data",JSON.stringify(t)),ot.forEach((function(e){a.append("Attachments",e.file)})),p.a.post("/purchase_order/new",a).then((function(){Mt("Request Submitted","top-center"),setTimeout((function(){ht.replace("/purchaseorder/"),setTimeout((function(){ht.replace("/purchaseorder/view=form")}),100)}),1e3),h.a.emit("newpurchaseorder");var e=new FormData;e.append("access",JSON.stringify([523,524,1])),p.a.post("/getemployeeaccesslike",e).then((function(e){if(e.data[0])for(var t=function(t){h.a.emit("NewNotification",e.data[t].emp_id);var a=new FormData;a.append("eventID",3),a.append("link",""),a.append("receiverID",e.data[t].emp_id),a.append("senderID",sessionStorage.getItem("EmpID")),a.append("Title",sessionStorage.getItem("name")),a.append("NotificationBody",sessionStorage.getItem("name")+" post a new purchase order request on the portal with id# "+W),p.a.post("/newnotification",a).then((function(){p.a.post("/sendmail",a).then((function(){}))}))},a=0;a<e.data.length;a++)t(a)}))})).catch((function(e){console.log(e),Mt("Request Failed","top-center")}))}},kt=function(e){if(13===e.keyCode){var t=e.target.value;p.a.post("/getprforpo",{pr_code:t}).then((function(e){var a=function(){Mt("Not Found","top-center"),ve([]),Pe(0),ce(0),be("")};e.data.length>0&&e.data[1].length>0?(ve(e.data[0]),Pe(e.data[1][0].total),Oe(Object(i.a)(Object(i.a)({},he),{},{total:e.data[1][0].total})),ce(e.data[1][0].pr_id),be(t),Mt("Connected","top-center")):a()})).catch((function(e){console.log(e)}))}},Tt=function(e){var t=e.target,a=t.name,n=t.value,s=Object(i.a)(Object(i.a)({},he),{},Object(c.a)({},a,n));Oe(s)},At=function(e){var t=e.target.value,a=parseFloat(Ie),n=parseFloat(he.gst),c=""===he.cartage?0:parseFloat(he.cartage),s=""===he.others?0:parseFloat(he.others);if("exclusive"===t){if(isNaN(a)&&(a=0,Pe(0)),isNaN(n)&&(n=0,Oe(Object(i.a)(Object(i.a)({},he),{},{gst:""}))),"NO"===Ee.taxRequired){var r=a/100*n;Oe(Object(i.a)(Object(i.a)({},he),{},{total:r+a+c+s}))}}else{var o=""===Ie?0:parseFloat(Ie),l=Object(i.a)(Object(i.a)({},he),{},{total:c+s+o});Oe(l)}},Bt=function(e){var t=e.target.value;Ye(t)},Mt=function(e,t){x.b.dark(e.toString(),{position:t,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Et=function(e){var t=new FileReader,a=e.target.files;t.onload=function(){if(2===t.readyState){for(var e=[],n=0;n<a.length;n++)e.push({name:a[n].name,file:a[n]});lt(e)}},a[0]&&t.readAsDataURL(a[0])},Ut=function(e){var t=[];t=ot[0].image?ot.filter((function(t,a,n){return n[a].image===n[e].image})):ot.filter((function(t,a,n){return n[a].name===n[e].name})),ut(t)},Gt=function(e){var t=ot.filter((function(t,a,n){return n[a].name!==n[e].name}));lt(t),ut([])},Lt=function(e){oe(e),_(!g)},Vt=function(){m()(".PurchaseOrderContainer .PurchaseOrderGrid").toggleClass("d-block"),m()(".openCollapseBtn").toggleClass("d-block"),m()(".PurchaseOrderContainer .PurchaseOrderGrid .Left.PreviousPurchaseOrders").toggle("slow")};return Object(d.jsxs)("div",{className:"PurchaseOrderContainer",children:[Object(d.jsx)(x.a,{}),Object(d.jsx)(f.a,{show:g,Hide:function(){_(!g),oe(0)},content:0===re?0===ne?null:Object(d.jsx)(N,{PrID:ne}):Object(d.jsx)(N,{PrID:re})}),Object(d.jsx)("div",{style:{height:"50px"},children:Object(d.jsx)(b.a,{data:a})}),Object(d.jsxs)("div",{className:"PurchaseOrderGrid",children:[Object(d.jsxs)("div",{className:"Left PreviousPurchaseOrders",children:[Object(d.jsx)("button",{className:"btn btn-sm btn-dark",onClick:Vt,children:Object(d.jsx)("i",{className:"las la-compress"})}),0===F.length?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h5",{className:"text-center",children:"No Request Found"})}):F.map((function(e,t){var a=new Date(e.request_date),n=e.status,c="var(--blue)";return"Approved"!==e.status&&"Delivered"!==e.status||(c="var(--success)",n="Approved By accounts"),"Rejected"===e.status&&(c="var(--orange)",n="Rejected by accounts"),"Waiting For Approval"===e.status&&(c="var(--c-green)"),Object(d.jsx)(j,{index:t,data:e,d:a,txt:n,bgColor:c})}))]}),Object(d.jsxs)("div",{className:"Right MainContentWindow",children:[Object(d.jsx)("button",{className:"btn btn-sm btn-dark d-none openCollapseBtn",onClick:Vt,children:Object(d.jsx)("i",{className:"las la-external-link-alt"})}),Object(d.jsxs)(r.Suspense,{fallback:Object(d.jsx)("div",{children:"Loading...."}),children:[Object(d.jsx)(o.b,{exact:!0,path:"/purchaseorder/view=home",render:function(){return Object(d.jsx)(S,{ViewRequest:F,CountRequests:F.length,CountStatus:$,EmpData:pt})}}),Object(d.jsx)(o.b,{exact:!0,path:"/purchaseorder/view=form",render:function(){return Object(d.jsx)(y,{Companies:B,Locations:G,ShiptoLocations:H,RequestInformation:he,Data:pt,Items:fe,Item:Ee,Total:Ie,Amount:Ne,PurchaseOrderCode:W,TaxMode:Ve,IndividualTax:Je,PRCode:je,Index:De,AddItem:Ct,OnEdit:Dt,onDelete:qt,OnChangeCompany:_t,OnChangeLocation:Nt,OnChangeShipToCompany:St,OnChangeShipToLocation:yt,AddVender:wt,RemoveVender:It,OnComments:Pt,OnChangeHandler:Rt,SubmitPurchaseOrder:Ft,OnChangePrNumber:kt,FinalValuesChangeHandler:Tt,ExclusiveInclusiveTax:At,IndividualTaxMode:Bt,ShowHide:function(){return _(!g)}})}}),Object(d.jsx)(o.b,{exact:!0,path:"/purchaseorder/view=previousrequests/:id/:id",render:function(){return Object(d.jsx)(w,{PurchaseOrderDetails:Ke,ShowModal:Lt})}}),Object(d.jsx)(o.b,{exact:!0,path:"/purchaseorder/view=bills",render:function(){return Object(d.jsx)(I,{Details:ct,AttachBills:ot,BillPreview:bt,onAttachBills:Et,PreviewBill:Ut,RemoveBill:Gt})}}),Object(d.jsx)(o.b,{exact:!0,path:"/purchaseorder/view=attached_bills/:id/:id",render:function(){return Object(d.jsx)(I,{Details:ct,AttachBills:ot,BillPreview:bt,onAttachBills:Et,PreviewBill:Ut,RemoveBill:Gt})}})]})]})]})]})}},88:function(e,t,a){"use strict";a(1),a(89);var n=a(0);t.a=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"Attandence_Request_Div",style:{display:e.show?"flex":"none"},children:[Object(n.jsx)("div",{className:"dark",onClick:e.Hide}),Object(n.jsx)("div",{style:{animationDelay:"0.1".toString()+"s"},className:e.show?"Attandence_Request_Div_Content Attandence_Request_Div_Content2":"Attandence_Request_Div_Content",children:e.content})]})})}},89:function(e,t,a){},92:function(e,t,a){"use strict";var n=a(1),c=(a(93),a(79)),i=a.n(c),s=a(17),r=a(0);t.a=function(e){Object(n.useEffect)((function(){i()(".Speeddail_Grid").slideToggle(0)}),[]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"Menu",children:e.data.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"Menu_Grid",children:e.data.map((function(e,t){return Object(r.jsx)(r.Fragment,{children:e&&e.txt?e.link?Object(r.jsx)(s.b,{to:e.href,children:Object(r.jsx)("button",{children:Object(r.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})})}):Object(r.jsx)("button",{onClick:function(){return e.func()},children:Object(r.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})}):null})}))}),Object(r.jsxs)("div",{className:"Menu_Speeddail",children:[Object(r.jsx)("div",{className:"Menu_Speeddail_circle",onClick:function(){i()(".Menu_Speeddail .Speeddail_Grid").slideToggle(200),i()(".Menu_Speeddail .Menu_Speeddail_circle .las").hasClass("la-bars")?(i()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-bars"),i()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-times")):(i()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-times"),i()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-bars"))},children:Object(r.jsx)("i",{class:"las la-times"})}),Object(r.jsx)("div",{className:"Speeddail_Grid",children:e.data.map((function(e,t){return Object(r.jsx)(r.Fragment,{children:e&&e.txt?e.link?Object(r.jsx)(s.b,{to:e.href,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(r.jsx)("i",{className:e.icon})}),Object(r.jsx)("p",{children:e.txt})]},t)}):Object(r.jsxs)("div",{className:"clicks",onClick:function(){return e.func()},children:[Object(r.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(r.jsx)("i",{className:e.icon})}),Object(r.jsx)("p",{children:e.txt})]},t):null})}))})]})]}):null})})}},93:function(e,t,a){},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(19);var c=a(26);function i(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);