{"version":3,"sources":["images/loadingIcons/icons8-iphone-spinner.gif","Components/EmployeeProtal/Dashboard/Pages/Chat/Components/Drive/Drive.jsx","images/nochat.png","Components/EmployeeProtal/Dashboard/Pages/Chat/Employee_Chat.jsx","Components/UI/Modal/Modal.jsx"],"names":["Drive","props","useState","Data","setData","useEffect","data","className","map","val","index","style","backgroundImage","name","onClick","AttachDrive","EmployeesList","lazy","DailyChat","Employee_Chat","Date","Calender","setCalender","encryptor","require","Employees","setEmployees","EmployeesLastChat","setEmployeesLastChat","LoadingState","setLoadingState","EmployeeStatus","setEmployeeStatus","Chat","setChat","ChatEmployee","setChatEmployee","ShowChat","setShowChat","Show","setShow","DriveContent","setDriveContent","EmpID","setEmpID","EmpIndex","setEmpIndex","CurrentEmployeeData","useSelector","state","EmpAuth","EmployeeData","GetAllEmployees","parseInt","sessionStorage","getItem","useMemo","window","screen","width","$","show","hide","socket","on","res","rslt","app_status","emp_id","receiver","undefined","sender","trigger","mode","FormData","append","axios","post","then","arr","x","length","push","arr1","y","catch","err","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","GetThatEmpChat","id","toString","emit","setTimeout","objDiv","document","getElementById","scrollTop","scrollHeight","OnChat","e","preventDefault","encrypt","chat_body","tConvert","time","match","slice","join","OpenDriveModal","console","log","ShowHide","showCalender","Modal","Hide","content","txt","body","fallback","src","loading","alt","height","emp_image","designation_name","company_name","toDateString","onSubmit","borderRadius","color","placeholder","title","type","NoCHat","onChange","value","fontWeight","display","animationDelay"],"mappings":"mGAAe,QAA0B,mD,8KC0C1BA,EAtCD,SAAEC,GAEZ,MAA0BC,mBAAS,IAAnC,mBAAQC,EAAR,KAAcC,EAAd,KAUA,OARAC,qBACI,WAEID,EAASH,EAAMK,QAEhB,CAAEL,EAAMK,OAIX,qBAAKC,UAAU,iBAAf,SAEQJ,EAAKK,KACD,SAAEC,EAAKC,GAEH,OACI,qBAEIH,UAAU,YACVI,MACI,CACIC,gBAAiB,qBAAuBH,EAAII,KAAO,MAG3DC,QAAU,kBAAMb,EAAMc,YAAaN,EAAII,QAPjCH,S,yBCxBvB,G,OAAA,IAA0B,oC,SCuBnCM,EAAgBC,gBAAK,kBAAM,kCAC3BC,EAAYD,gBAAK,kBAAM,kCAmlBdE,UAjlBO,WAElB,MAAgCjB,mBAAS,IAAIkB,MAA7C,mBAAOC,EAAP,KAAiBC,EAAjB,KAGMC,EAAYC,EAAQ,IAARA,CADR,8CAGV,EAAkCtB,mBAAS,IAA3C,mBAAOuB,EAAP,KAAkBC,EAAlB,KACA,EAAkDxB,mBAAS,IAA3D,mBAAOyB,EAAP,KAA0BC,EAA1B,KACA,EAAwC1B,oBAAS,GAAjD,mBAAO2B,EAAP,KAAqBC,EAArB,KACA,EAA4C5B,mBAAS,IAArD,mBAAO6B,EAAP,KAAuBC,EAAvB,KACA,EAAwB9B,mBAAS,IAAjC,mBAAO+B,EAAP,KAAaC,EAAb,KACA,EAAwChC,mBAAS,IAAjD,mBAAOiC,EAAP,KAAqBC,EAArB,KACA,EAAgClC,oBAAS,GAAzC,mBAAOmC,EAAP,KAAiBC,EAAjB,KACA,EAAwBpC,oBAAS,GAAjC,mBAAOqC,EAAP,KAAaC,EAAb,KACA,EAAwCtC,mBAAS,IAAjD,oBAAOuC,GAAP,MAAqBC,GAArB,MACA,GAA0BxC,qBAA1B,qBAAOyC,GAAP,MAAcC,GAAd,MACA,GAAgC1C,qBAAhC,qBAAO2C,GAAP,MAAiBC,GAAjB,MAEMC,GAAsBC,aAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQC,gBAEjE9C,qBACI,WAEI+C,GAAgB,QAChBR,GAASS,SAASC,eAAeC,QAAQ,aAE1C,IAGPC,mBACI,WAESC,OAAOC,OAAOC,MAAQ,MAEvBC,IAAE,WAAWC,OACbD,IAAE,SAASE,OACXF,IAAE,cAAcE,UAGrB,CAAEzC,IAGThB,qBACI,WAGI0D,IAAOC,GACH,cAAc,SAACC,GAEXjC,EAAkBiC,EAAIC,KAAK,GAAGC,eAMtCJ,IAAOC,GACH,eAAe,SAACC,GAERlB,GAAoBqB,SAAWf,SAASY,EAAII,gBAEhBC,IAAxBnC,EAAaiC,QACTjC,EAAaiC,SAAWf,SAASY,EAAIM,SAErCX,IAAE,sBAAsBY,QAAQ,cASrD,CAACrC,EAAcY,GAAoBqB,SAG1C,IAAMhB,GAAkB,SAACqB,GAErB,IAAMtE,EAAO,IAAIuE,SAEJ,SAATD,IAEA/C,EAAa,IACbvB,EAAKwE,OAAO,aAAcrB,eAAeC,QAAQ,UAEjDqB,IAAMC,KAAK,oBAAqB1E,GAAM2E,MAAK,SAAAb,GAGvC,IADA,IAAIc,EAAM,GACDC,EAAI,EAAGA,EAAIf,EAAI3D,KAAK,GAAG2E,OAAQD,IAE/Bf,EAAI3D,KAAK,GAAG0E,GAAGZ,SAAWf,SAASC,eAAeC,QAAQ,WAE3DwB,EAAIG,KAAMjB,EAAI3D,KAAK,GAAG0E,IAK9B,IADA,IAAIG,EAAO,GACFC,EAAI,EAAGA,EAAInB,EAAI3D,KAAK,GAAG2E,OAAQG,IAEZ,OAAnBnB,EAAI3D,KAAK,GAAG8E,IAEbD,EAAKD,KAAMjB,EAAI3D,KAAK,GAAG8E,IAI/B1D,EAAaqD,GACbnD,EAAqBuD,MAEtBE,OAAM,SAAAC,GAELC,IAAMC,KAAKF,EAAK,CACZG,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUzB,OAKdb,OAAOC,OAAOC,MAAQ,MACtBC,IAAE,WAAWE,OACbF,IAAE,SAASC,OACXD,IAAE,cAAcC,OAChBD,IAAE,UAAUE,SAWP,aAATW,IAEA/C,EAAa,IACbvB,EAAKwE,OAAO,aAAcrB,eAAeC,QAAQ,UAEjDqB,IAAMC,KAAK,mBAAoB1E,GAAM2E,MAAK,SAAAb,GAGtCvC,EAAauC,EAAI3D,KAAK,IACtBsB,EAAqBqC,EAAI3D,KAAK,OAE/B+E,OAAM,SAAAC,GAELC,IAAMC,KAAKF,EAAK,CACZG,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUzB,OAKdb,OAAOC,OAAOC,MAAQ,MACtBC,IAAE,WAAWE,OACbF,IAAE,SAASC,OACXD,IAAE,cAAcC,OAChBD,IAAE,UAAUE,UAYlBkC,GAAiB,SAACC,EAAIvF,GAExBoB,GAAgB,GAEhB,IAAM3B,EAAO,IAAIuE,SACjBvE,EAAKwE,OAAO,SAAUsB,GACtB9F,EAAKwE,OAAO,WAAYrB,eAAeC,QAAQ,UAC/CpD,EAAKwE,OAAO,WAAYtD,EAAS6E,YACjCtB,IAAMC,KAAK,uBAAwB1E,GAAM2E,MAAK,SAAAb,GAE1CnC,GAAgB,GAChBQ,GAAY,GACZF,EAAgBX,EAAUf,IAC1BqD,IAAOoC,KACH,aAAc1E,EAAUf,GAAO0D,QAGnCtB,GAAYpC,GAERuD,EAAI3D,KAAK2E,SAAWhD,EAAKgD,SAGzB/C,EAAQ+B,EAAI3D,MACZ8F,YAAW,WACP,IAAIC,EAASC,SAASC,eAAe,iBACjCF,IACAA,EAAOG,UAAYH,EAAOI,gBAE/B,SAIRpB,OAAM,SAAAC,GAELxD,GAAgB,GAChByD,IAAMC,KAAKF,EAAK,CACZG,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUzB,OAKdb,OAAOC,OAAOC,MAAQ,MACtBC,IAAE,WAAWC,OACbD,IAAE,SAASE,OACXF,IAAE,cAAcE,SASlB4C,GAAS,SAAEC,GAOb,GALKA,GAEDA,EAAEC,iBAGuB,KAAzBhD,IAAE,aAAanD,MAAc,CAE7B,IAAMN,EAAO,IAAIuE,SACjBvE,EAAKwE,OAAO,UAAW,GACvBxE,EAAKwE,OAAO,WAAYrB,eAAeC,QAAQ,UAC/CpD,EAAKwE,OAAO,aAAcxC,EAAaiC,QACvCjE,EAAKwE,OAAO,WAAYpD,EAAUsF,QAAQjD,IAAE,aAAanD,QACzDN,EAAKwE,OAAO,mBAAoBf,IAAE,aAAanD,OAC/CN,EAAKwE,OAAO,QAAS5B,GAAoBlC,MACzCV,EAAKwE,OAAO,YAAY,GACxBC,IAAMC,KAAK,cAAe1E,GAAM2E,MAAK,WAEjCkB,GAAe7D,EAAaiC,OAAQvB,IACpClB,EAAkBkB,IAAUiE,UAAYvF,EAAUsF,QAAQjD,IAAE,aAAanD,OAEzEmD,IAAE,aAAanD,IAAI,IACnB2F,YAAW,WACP,IAAIC,EAASC,SAASC,eAAe,iBACjCF,IACAA,EAAOG,UAAYH,EAAOI,gBAE/B,KAEH7B,IAAMC,KAAK,mBAAoB1E,GAAM2E,MAAK,WAEtCf,IAAOoC,KAAK,kBAAmBhE,EAAaiC,QAC5CL,IAAOoC,KAAK,UAAW,CAAE5B,OAAQxB,GAAoBqB,OAAQC,SAAUlC,EAAaiC,OAAQ1D,MAAOmC,QAEpGwC,OAAM,SAAAC,GACLC,IAAMC,KAAKF,EAAK,CACZG,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUzB,UAInBe,OAAM,SAAAC,GAELC,IAAMC,KAAKF,EAAK,CACZG,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUzB,YAMlBiB,IAAMC,KAAK,+BAAgC,CACvCC,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUzB,KAMtB,SAASyC,GAASC,GASd,OAPAA,EAAOA,EAAKd,WAAWe,MAAM,6CAA+C,CAACD,IAEpE/B,OAAS,KACd+B,EAAOA,EAAKE,MAAM,IACb,IAAMF,EAAK,GAAK,GAAK,KAAO,KACjCA,EAAK,IAAMA,EAAK,GAAK,IAAM,IAExBA,EAAKG,KAAK,IAIrB,IAAMC,GAAiB,WAEnBxC,IAAMC,KACF,eACA,CACIT,OAAQrB,GAAoBqB,SAElCU,MACE,SAAAb,GAEIvB,GACIuB,EAAI3D,SAId+E,OACE,SAAAC,GAEI+B,QAAQC,IAAIhC,MAIpBiC,MAIEA,GAAW,WAEb/E,GAASD,IAaPiF,GAAe,WACb/D,OAAOC,OAAOC,MAAQ,MACtBC,IAAE,WAAWE,OACbF,IAAE,SAASE,OACXF,IAAE,cAAcE,OAChBF,IAAE,UAAUC,SAQpB,OACI,mCACI,sBAAKtD,UAAU,eAAf,UACI,cAACkH,EAAA,EAAD,CAAO5D,KAAMtB,EAAMmF,KAAMH,GAAUI,QAAS,cAAC,EAAD,CAAO5G,YAzB3C,SAAC6G,GAEjB,IAAIC,EAAO,OAASD,EAAM,OAC1BhE,IAAE,aAAanD,IAAIoH,GACnBnB,KACAa,MAoBqFjH,KAAMmC,OAEnF,sBAAKlC,UAAU,OAAf,UAEI,sBAAKA,UAAU,YAAf,UACI,mBAAGA,UAAU,gBAAb,0BACA,8BAEQkB,EAAUwD,OAAS,EAEdxD,EAAUwD,OAAS,EAAK,IAEzBxD,EAAUwD,OANtB,gBAYJ,sBAAK1E,UAAU,OAAf,UACI,wBAAQO,QAAS,kBAAMsC,GAAgB,SAAvC,kBACA,wBAAQtC,QAAS,kBAAMsC,GAAgB,aAAvC,yBAKAI,mBACI,WAEI,OACI,cAAC,WAAD,CACIsE,SACI,sBAAKvH,UAAU,cAAf,UACI,qBACIwH,IAAKC,IACLC,IAAI,mBACJtE,MAAM,KACNuE,OAAO,KACP3H,UAAU,mBAEd,mBAAGA,UAAU,OAAb,gCAVZ,SAcI,cAACS,EAAD,CAAeO,UAAWA,EAAWI,kBAAmBA,EAAmBF,UAAWA,EAAWuE,eAAgBA,SAI1H,CAACvE,EAAWE,EAAmBJ,OAO1CiC,mBACI,WAEI,OACI,sBAAKjD,UAAU,SAAf,UAEQ8B,EAEI,qCACI,sBAAK9B,UAAU,sBAAf,UACI,qBACIwH,IAAK,oBAAsB5F,EAAagG,UACxCxE,MAAM,KACNuE,OAAO,KACPD,IAAI,oBACJ1H,UAAU,mBAEd,sBAAKA,UAAU,OAAf,UACI,oBAAGA,UAAU,mBAAb,cAAkC4B,EAAatB,KAA/C,OACA,kCAAKsB,EAAaiG,iBAAmB,OAASjG,EAAakG,aAA3D,aAIR,sBAAK9H,UAAU,qBAAqB0F,GAAG,gBAAvC,UAGQ5E,EAASiH,kBAAmB,IAAIlH,MAAOkH,eAEnC,oBAAG/H,UAAU,YAAb,cAA2Bc,EAASiH,kBAEpC,KAGJ,cAAC,WAAD,CACIR,SACI,qBAAKvH,UAAU,yDAAf,SACI,qBACIwH,IAAKC,IACLC,IAAI,mBACJtE,MAAM,KACNuE,OAAO,KACP3H,UAAU,qBAR1B,SAaI,cAACW,EAAD,CACIW,aAAcA,EACdN,UAAWA,EACXF,SAAUA,EACVsB,MAAOA,GACPI,oBAAqBA,GACrBgE,SAAUA,GACV9E,KAAMA,EACNE,aAAcA,SAQ9B,uBAAM5B,UAAU,kBAAkBgI,SAAU7B,GAA5C,UACI,sBACInG,UAAU,oDACVI,MACI,CACI6H,aAAc,OACdC,MAAO,yBALnB,UASI,uBACIlI,UAAU,qBACVmI,YAAY,yBACZzC,GAAG,aAEP,mBAAG1F,UAAU,mBAAmBoI,MAAM,wBAAwB7H,QAASsG,QAE3E,wBAAQwB,KAAK,SAAb,SACI,mBAAGrI,UAAU,sBAEjB,wBAAQqI,KAAK,SAASrI,UAAU,gCAAgCO,QAAS,kBAAMkF,GAAe7D,EAAaiC,OAAQvB,KAAnH,SAA8H,mBAAGtC,UAAU,4BAInJ,sBAAKA,UAAU,gBAAf,UAEI,qBACIwH,IAAKc,EACLlF,MAAM,OACNuE,OAAO,OACPD,IAAI,gBAGR,oBAAI1H,UAAU,wBAAd,qCAKZ,qBAAKA,UAAU,cAAcO,QAAS0G,GAAtC,SACI,mBAAGjH,UAAU,2BAO1B,CAACc,EAAUY,EAAME,EAAcQ,GAAOE,GAAUR,EAAUR,IAIrE,qBAAKtB,UAAU,eAAf,SAEI,sBAAKA,UAAU,WAAf,UACI,cAAC,IAAD,CACIuI,SAAUxH,EACVyH,MAAO1H,IAGX,sBAAKd,UAAU,UAAf,UACI,mBAAGA,UAAU,aAAb,oBACA,oBACII,MACI,CACIqI,WAAY,KAHxB,UAQQ3G,EAEAF,EAAatB,KAAO,OAEpB,uBAGAwB,EAEmB,KAAnBN,EAEA,sBAAMxB,UAAU,UAAhB,qBAEA,sBAAMA,UAAU,SAAhB,oBAEA,uB,gCC/lBpC,sBAkBekH,IAfD,SAAExH,GACZ,OACI,mCACI,sBAAKM,UAAU,yBAAyBI,MAAQ,CAAEsI,QAAShJ,EAAM4D,KAAO,OAAS,QAAjF,UACI,qBAAKtD,UAAU,OAAOO,QAAUb,EAAMyH,OAEtC,qBAAK/G,MAAQ,CAAEuI,eAAgB,MAAgBhD,WAAa,KAAQ3F,UAAYN,EAAM4D,KAAO,iEAAmE,iCAAhK,SAEQ5D,EAAM0H,iB","file":"static/js/34.48512b01.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icons8-iphone-spinner.e2bb0653.gif\";","import React, { useEffect, useState } from 'react';\r\n\r\nimport './Drive.css';\r\n\r\nconst Drive = ( props ) => {\r\n\r\n    const [ Data, setData ] = useState([]);\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            setData( props.data );\r\n\r\n        }, [ props.data ]\r\n    )\r\n\r\n    return (\r\n        <div className=\"DicussionDrive\">\r\n            {\r\n                Data.map(\r\n                    ( val, index ) => {\r\n\r\n                        return (\r\n                            <div \r\n                                key={ index } \r\n                                className=\"DriveItem\"\r\n                                style={\r\n                                    {\r\n                                        backgroundImage: \"url('images/drive/\" + val.name + \"')\"\r\n                                    }\r\n                                }\r\n                                onClick={ () => props.AttachDrive( val.name ) }\r\n                            ></div>\r\n                        )\r\n\r\n                    }\r\n                )\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Drive;","export default __webpack_public_path__ + \"static/media/nochat.9c364bd6.png\";","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { lazy, Suspense, useEffect, useMemo, useState } from 'react'\r\n\r\nimport './Employee_Chat.css';\r\nimport axios from '../../../../../axios';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport $ from 'jquery';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Drive from './Components/Drive/Drive';\r\nimport Modal from '../../../../UI/Modal/Modal';\r\n\r\nimport socket from '../../../../../io';\r\n\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\nimport NoCHat from '../../../../../images/nochat.png';\r\nimport loading from '../../../../../images/loadingIcons/icons8-iphone-spinner.gif';\r\n\r\nconst EmployeesList = lazy(() => import('./Components/EmployeesList/EmployeesList'));\r\nconst DailyChat = lazy(() => import('./Components/DailyChat/DailyChat'));\r\n\r\nconst Employee_Chat = () => {\r\n\r\n    const [Calender, setCalender] = useState(new Date());\r\n\r\n    let key = 'real secret keys should be long and random';\r\n    const encryptor = require('simple-encryptor')(key);\r\n\r\n    const [Employees, setEmployees] = useState([]);\r\n    const [EmployeesLastChat, setEmployeesLastChat] = useState([]);\r\n    const [LoadingState, setLoadingState] = useState(false);\r\n    const [EmployeeStatus, setEmployeeStatus] = useState('');\r\n    const [Chat, setChat] = useState([]);\r\n    const [ChatEmployee, setChatEmployee] = useState({});\r\n    const [ShowChat, setShowChat] = useState(false);\r\n    const [Show, setShow] = useState(false);\r\n    const [DriveContent, setDriveContent] = useState([]);\r\n    const [EmpID, setEmpID] = useState();\r\n    const [EmpIndex, setEmpIndex] = useState();\r\n\r\n    const CurrentEmployeeData = useSelector((state) => state.EmpAuth.EmployeeData);\r\n\r\n    useEffect( // component did mount\r\n        () => {\r\n\r\n            GetAllEmployees('chat');\r\n            setEmpID(parseInt(sessionStorage.getItem('EmpID')));\r\n\r\n        }, []\r\n    );\r\n\r\n    useMemo( // component did update\r\n        () => {\r\n\r\n            if ( window.screen.width < 750 ) {\r\n\r\n                $('.Center').show();\r\n                $('.List').hide();\r\n                $('.chatcount').hide();\r\n            }\r\n\r\n        }, [ Calender ]\r\n    );\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            // CHECK USER IS ONLINE OR NOT\r\n            socket.on(\r\n                'UserOnline', (res) => {\r\n\r\n                    setEmployeeStatus(res.rslt[0].app_status);\r\n\r\n                }\r\n            )\r\n\r\n            // WHEN NEW CHAT COMES\r\n            socket.on(\r\n                'UserNewChat', (res) => {\r\n\r\n                    if (CurrentEmployeeData.emp_id === parseInt(res.receiver)) {\r\n\r\n                        if (ChatEmployee.emp_id !== undefined) {\r\n                            if (ChatEmployee.emp_id === parseInt(res.sender)) {\r\n                                // GetThatEmpChat( ChatEmployee.emp_id, EmpIndex );\r\n                                $('.NewTweet .refresh').trigger('click');\r\n                            }\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n            )\r\n\r\n        }, [ChatEmployee, CurrentEmployeeData.emp_id]\r\n    )\r\n\r\n    const GetAllEmployees = (mode) => {\r\n\r\n        const Data = new FormData();\r\n\r\n        if (mode === 'chat') {\r\n\r\n            setEmployees([]);\r\n            Data.append('currentEmp', sessionStorage.getItem('EmpID'));\r\n\r\n            axios.post('/getchatemployees', Data).then(res => {\r\n                \r\n                let arr = [];\r\n                for( let x = 0; x < res.data[0].length; x++ )\r\n                {\r\n                    if ( res.data[0][x].emp_id !== parseInt(sessionStorage.getItem('EmpID')) )\r\n                    {\r\n                        arr.push( res.data[0][x] );\r\n                    }\r\n                }\r\n\r\n                let arr1 = [];\r\n                for( let y = 0; y < res.data[1].length; y++ )\r\n                {\r\n                    if ( res.data[1][y] !== null )\r\n                    {\r\n                        arr1.push( res.data[1][y] );\r\n                    }\r\n                }\r\n                \r\n                setEmployees(arr);\r\n                setEmployeesLastChat(arr1);\r\n\r\n            }).catch(err => {\r\n\r\n                toast.dark(err, {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n            });\r\n\r\n            if (window.screen.width < 750) {\r\n                $('.Center').hide();\r\n                $('.List').show();\r\n                $('.chatcount').show();\r\n                $('.Right').hide();\r\n            }\r\n            else {\r\n\r\n                // $('.Center').show();\r\n                // $('.List').hide();\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (mode === 'contacts') {\r\n\r\n            setEmployees([]);\r\n            Data.append('currentEmp', sessionStorage.getItem('EmpID'));\r\n\r\n            axios.post('/getallemployees', Data).then(res => {\r\n\r\n                \r\n                setEmployees(res.data[0]);\r\n                setEmployeesLastChat(res.data[1]);\r\n\r\n            }).catch(err => {\r\n\r\n                toast.dark(err, {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });;\r\n\r\n            });\r\n\r\n            if (window.screen.width < 750) {\r\n                $('.Center').hide();\r\n                $('.List').show();\r\n                $('.chatcount').show();\r\n                $('.Right').hide();\r\n            }\r\n            else {\r\n\r\n                // $('.Center').show();\r\n                // $('.List').hide();\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    const GetThatEmpChat = (id, index) => {\r\n\r\n        setLoadingState(true);\r\n\r\n        const Data = new FormData();\r\n        Data.append('sender', id);\r\n        Data.append('receiver', sessionStorage.getItem('EmpID'));\r\n        Data.append('chatDate', Calender.toString());\r\n        axios.post('/getemployeewithchat', Data).then(res => {\r\n\r\n            setLoadingState(false);\r\n            setShowChat(true);\r\n            setChatEmployee(Employees[index]);\r\n            socket.emit(\r\n                'UserOnline', Employees[index].emp_id\r\n            )\r\n\r\n            setEmpIndex(index);\r\n\r\n            if (res.data.length !== Chat.length) {\r\n\r\n                // setChat([]);\r\n                setChat(res.data);\r\n                setTimeout(() => {\r\n                    var objDiv = document.getElementById(\"ChatContainer\");\r\n                    if (objDiv) {\r\n                        objDiv.scrollTop = objDiv.scrollHeight;\r\n                    }\r\n                }, 300);\r\n\r\n            }\r\n\r\n        }).catch(err => {\r\n\r\n            setLoadingState(false);\r\n            toast.dark(err, {\r\n                position: 'top-right',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n\r\n        });\r\n\r\n        if (window.screen.width < 750) {\r\n            $('.Center').show();\r\n            $('.List').hide();\r\n            $('.chatcount').hide();\r\n        }\r\n        else {\r\n\r\n            // $('.List').show();\r\n        }\r\n\r\n    }\r\n\r\n    const OnChat = ( e ) => {\r\n\r\n        if ( e )\r\n        {\r\n            e.preventDefault()\r\n        }\r\n\r\n        if ($('#Sendtext').val() !== '') {\r\n\r\n            const Data = new FormData();\r\n            Data.append('eventID', 1);\r\n            Data.append('senderID', sessionStorage.getItem('EmpID'));\r\n            Data.append('receiverID', ChatEmployee.emp_id);\r\n            Data.append('ChatBody', encryptor.encrypt($('#Sendtext').val()));\r\n            Data.append('NotificationBody', $('#Sendtext').val());\r\n            Data.append('Title', CurrentEmployeeData.name);\r\n            Data.append('whatsapp', true);\r\n            axios.post('/insertchat', Data).then(() => {\r\n\r\n                GetThatEmpChat(ChatEmployee.emp_id, EmpIndex);\r\n                EmployeesLastChat[EmpIndex].chat_body = encryptor.encrypt($('#Sendtext').val());\r\n\r\n                $('#Sendtext').val('');\r\n                setTimeout(() => {\r\n                    var objDiv = document.getElementById(\"ChatContainer\");\r\n                    if (objDiv) {\r\n                        objDiv.scrollTop = objDiv.scrollHeight;\r\n                    }\r\n                }, 300);\r\n\r\n                axios.post('/newnotification', Data).then(() => {\r\n\r\n                    socket.emit('NewNotification', ChatEmployee.emp_id);\r\n                    socket.emit('NewChat', { sender: CurrentEmployeeData.emp_id, receiver: ChatEmployee.emp_id, index: EmpIndex });\r\n\r\n                }).catch(err => {\r\n                    toast.dark(err, {\r\n                        position: 'top-right',\r\n                        autoClose: 5000,\r\n                        hideProgressBar: false,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                    });\r\n                });\r\n\r\n            }).catch(err => {\r\n\r\n                toast.dark(err, {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            });\r\n\r\n        }else\r\n        {\r\n            toast.dark(\"Enter at least a single word\", {\r\n                position: 'top-center',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    function tConvert(time) {\r\n        // Check correct time format and split into components\r\n        time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\r\n\r\n        if (time.length > 1) { // If time format correct\r\n            time = time.slice(1);  // Remove full string match value\r\n            time[5] = +time[0] < 12 ? 'AM' : 'PM'; // Set AM/PM\r\n            time[0] = +time[0] % 12 || 12; // Adjust hours\r\n        }\r\n        return time.join(''); // return adjusted time or original string\r\n\r\n    }\r\n\r\n    const OpenDriveModal = () => {\r\n\r\n        axios.post(\r\n            '/getalldrive',\r\n            {\r\n                emp_id: CurrentEmployeeData.emp_id\r\n            }\r\n        ).then(\r\n            res => {\r\n\r\n                setDriveContent(\r\n                    res.data\r\n                );\r\n\r\n            }\r\n        ).catch(\r\n            err => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n        ShowHide();\r\n\r\n    }\r\n\r\n    const ShowHide = () => {\r\n\r\n        setShow(!Show);\r\n\r\n    }\r\n\r\n    const AttachDrive = (txt) => {\r\n\r\n        let body = '/***' + txt + '***/';\r\n        $('#Sendtext').val(body);\r\n        OnChat();\r\n        ShowHide();\r\n\r\n    }\r\n\r\n    const showCalender = () => {\r\n        if (window.screen.width < 750) {\r\n            $('.Center').hide();\r\n            $('.List').hide();\r\n            $('.chatcount').hide();\r\n            $('.Right').show();\r\n        }\r\n        else {\r\n\r\n            // $('.List').show();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"EmployeeChat\">\r\n                <Modal show={Show} Hide={ShowHide} content={<Drive AttachDrive={AttachDrive} data={DriveContent} />} />\r\n\r\n                <div className=\"Left\">\r\n\r\n                    <div className='chatcount'>\r\n                        <p className='color-c-green'>Chat Members</p>\r\n                        <p>\r\n                            {\r\n                                Employees.length > 0\r\n                                    ?\r\n                                    (Employees.length - 1) + ' '\r\n                                    :\r\n                                    Employees.length\r\n                            }\r\n                            members\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"tabs\">\r\n                        <button onClick={() => GetAllEmployees('chat')}>Chat</button>\r\n                        <button onClick={() => GetAllEmployees('contacts')}>contacts</button>\r\n                    </div>\r\n\r\n                    {/* EMPLOYEES LIST */}\r\n                    {\r\n                        useMemo(\r\n                            () => {\r\n\r\n                                return (\r\n                                    <Suspense\r\n                                        fallback={\r\n                                            <div className=\"text-center\">\r\n                                                <img\r\n                                                    src={loading}\r\n                                                    alt=\"Please wait.....\"\r\n                                                    width=\"50\"\r\n                                                    height=\"50\"\r\n                                                    className=\"rounded-circle\"\r\n                                                />\r\n                                                <p className=\"mb-0\">Please Wait....</p>\r\n                                            </div>\r\n                                        }\r\n                                    >\r\n                                        <EmployeesList encryptor={encryptor} EmployeesLastChat={EmployeesLastChat} Employees={Employees} GetThatEmpChat={GetThatEmpChat} />\r\n                                    </Suspense>\r\n                                )\r\n\r\n                            }, [Employees, EmployeesLastChat, encryptor]\r\n                        )\r\n                    }\r\n\r\n                </div>\r\n\r\n                {\r\n                    useMemo(\r\n                        () => {\r\n\r\n                            return (\r\n                                <div className=\"Center\">\r\n                                    {\r\n                                        ShowChat\r\n                                            ?\r\n                                            <>\r\n                                                <div className=\"ChatEmployee popUps\">\r\n                                                    <img\r\n                                                        src={'images/employees/' + ChatEmployee.emp_image}\r\n                                                        width='40'\r\n                                                        height='40'\r\n                                                        alt=\"chat employee img\"\r\n                                                        className='rounded-circle'\r\n                                                    />\r\n                                                    <div className=\"ml-2\">\r\n                                                        <p className='font-weight-bold'> {ChatEmployee.name} </p>\r\n                                                        <p> {ChatEmployee.designation_name + ' in ' + ChatEmployee.company_name} </p>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className=\"ChatContent popUps\" id=\"ChatContainer\">\r\n\r\n                                                    {\r\n                                                        Calender.toDateString() !== new Date().toDateString()\r\n                                                            ?\r\n                                                            <p className=\"TweetDate\"> {Calender.toDateString()}</p>\r\n                                                            :\r\n                                                            null\r\n                                                    }\r\n                                                    {\r\n                                                        <Suspense\r\n                                                            fallback={\r\n                                                                <div className=\"h-100 d-flex align-items-center justify-content-center\">\r\n                                                                    <img\r\n                                                                        src={loading}\r\n                                                                        alt=\"Please wait.....\"\r\n                                                                        width=\"40\"\r\n                                                                        height=\"40\"\r\n                                                                        className=\"rounded-circle\"\r\n                                                                    />\r\n                                                                </div>\r\n                                                            }\r\n                                                        >\r\n                                                            <DailyChat\r\n                                                                LoadingState={LoadingState}\r\n                                                                encryptor={encryptor}\r\n                                                                Calender={Calender}\r\n                                                                EmpID={EmpID}\r\n                                                                CurrentEmployeeData={CurrentEmployeeData}\r\n                                                                tConvert={tConvert}\r\n                                                                Chat={Chat}\r\n                                                                ChatEmployee={ChatEmployee}\r\n                                                            />\r\n                                                        </Suspense>\r\n                                                    }\r\n\r\n\r\n                                                </div>\r\n\r\n                                                <form className=\"NewTweet popUps\" onSubmit={OnChat}>\r\n                                                    <div\r\n                                                        className=\"d-flex align-content-center w-100 bg-white border\"\r\n                                                        style={\r\n                                                            {\r\n                                                                borderRadius: '10px',\r\n                                                                color: 'rgb(91, 109, 128, .5)'\r\n                                                            }\r\n                                                        }\r\n                                                    >\r\n                                                        <input\r\n                                                            className=\"form-control w-100\"\r\n                                                            placeholder=\"Type something here...\"\r\n                                                            id=\"Sendtext\"\r\n                                                        />\r\n                                                        <i className=\"las la-paperclip\" title=\"Attachment From Drive\" onClick={OpenDriveModal}></i>\r\n                                                    </div>\r\n                                                    <button type=\"submit\">\r\n                                                        <i className=\"las la-arrow-up\"></i>\r\n                                                    </button>\r\n                                                    <button type=\"button\" className=\"btn text-white refresh d-none\" onClick={() => GetThatEmpChat(ChatEmployee.emp_id, EmpIndex)}><i className=\"las la-redo-alt\"></i></button>\r\n                                                </form>\r\n                                            </>\r\n                                            :\r\n                                            <div className=\"NoChat popUps\">\r\n\r\n                                                <img\r\n                                                    src={NoCHat}\r\n                                                    width=\"100%\"\r\n                                                    height=\"auto\"\r\n                                                    alt=\"No CHat Img\"\r\n                                                />\r\n\r\n                                                <h3 className='font-weight-bold mt-3'>NO EMPLOYEE SELECTED</h3>\r\n\r\n                                            </div>\r\n                                    }\r\n\r\n                                    <div className='calenderdiv' onClick={showCalender}>\r\n                                        <i className=\"las la-calendar\"></i>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            )\r\n\r\n                        }, [Calender, Chat, ChatEmployee, EmpID, EmpIndex, ShowChat, LoadingState]\r\n                    )\r\n                }\r\n\r\n                <div className='Right popUps'>\r\n\r\n                    <div className='RightDiv'>\r\n                        <Calendar\r\n                            onChange={setCalender}\r\n                            value={Calender}\r\n                        />\r\n\r\n                        <div className=\"Details\">\r\n                            <p className=\"lightColor\">Status</p>\r\n                            <p\r\n                                style={\r\n                                    {\r\n                                        fontWeight: 500\r\n                                    }\r\n                                }\r\n                            >\r\n                                {\r\n                                    ShowChat\r\n                                    ?\r\n                                    ChatEmployee.name + ' is '\r\n                                    :\r\n                                    'No Employee Selected'\r\n                                }\r\n                                {\r\n                                    ShowChat\r\n                                    ?\r\n                                    EmployeeStatus === '' \r\n                                    ? \r\n                                    <span className=\"offline\">offline</span> \r\n                                    : \r\n                                    <span className=\"online\">online</span>\r\n                                    :\r\n                                    null\r\n                                }\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Employee_Chat;","import React from 'react'\r\nimport './Modal.css';\r\n\r\nconst Modal = ( props ) =>{\r\n    return (\r\n        <>\r\n            <div className=\"Attandence_Request_Div\" style={ { display: props.show ? 'flex' : 'none'  } }>\r\n                <div className=\"dark\" onClick={ props.Hide }>\r\n                </div>\r\n                <div style={ { animationDelay: ( 0 + '.' + 1 ).toString() + 's' } } className={ props.show ? \"Attandence_Request_Div_Content Attandence_Request_Div_Content2\" : \"Attandence_Request_Div_Content\" }>\r\n                    {\r\n                        props.content\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Modal;"],"sourceRoot":""}