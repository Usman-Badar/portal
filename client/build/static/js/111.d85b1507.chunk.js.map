{"version":3,"sources":["Components/EmployeeProtal/Dashboard/Pages/Forms/RepairRequest/Functions.js","Components/EmployeeProtal/Dashboard/Pages/Forms/RepairRequest/RepairRequest.jsx"],"names":["getRequests","axios","setRequestsList","post","request_by","sessionStorage","getItem","then","res","data","catch","err","console","log","UI","lazy","RepairRequest","useState","Locations","setLocations","RequestsList","useEffect","get","getLocations","fallback","newRequest","e","preventDefault","location","target","value","subject","description","$","prop","trigger","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","message"],"mappings":"sKA2FaA,EAAc,SAAEC,EAAOC,GAEhCD,EAAME,KACF,iCACA,CACIC,WAAYC,eAAeC,QAAQ,WAEzCC,MACE,SAAAC,GAEIN,EAAiBM,EAAIC,SAG3BC,OACE,SAAAC,GAEIC,QAAQC,IAAKF,O,OCpGnBG,EAAKC,gBAAM,kBAAM,kCAgCRC,UA9BO,WAElB,MAAoCC,mBAAS,IAA7C,mBAAQC,EAAR,KAAmBC,EAAnB,KACA,EAA0CF,mBAAS,IAAnD,mBAAQG,EAAR,KAAsBlB,EAAtB,KAWA,OATAmB,qBACI,YDwDoB,SAAEpB,EAAOkB,GAEjClB,EAAMqB,IACF,4BACFf,MACE,SAAAC,GAEIW,EAAcX,EAAIC,SAGxBC,OACE,SAAAC,GAEIC,QAAQC,IAAKF,MCnEbY,CAActB,IAAOkB,GACrBnB,EAAaC,IAAOC,KAErB,IAIH,qCACI,cAAC,WAAD,CAAUsB,SAAW,6CAArB,SACI,cAACV,EAAD,CACII,UAAYA,EACZE,aAAeA,EAEfK,WAAa,SAACC,GAAD,OD1BP,SAAEA,EAAGzB,EAAOC,GAElCwB,EAAEC,iBACF,IAAMC,EAAWF,EAAEG,OAAF,cAA0BC,MACrCC,EAAUL,EAAEG,OAAF,QAAoBC,MAC9BE,EAAcN,EAAEG,OAAF,YAAwBC,MAC5CG,IAAE,YAAYC,KAAK,WAAY,YAE/BjC,EAAME,KACF,gCACA,CACIyB,SAAUA,EACVG,QAASA,EACTC,YAAaA,EACb5B,WAAYC,eAAeC,QAAQ,WAEzCC,MACE,SAAAC,GAEIyB,IAAE,wBAAwBE,QAAQ,SAClCF,IAAE,iCAAiCC,KAAK,YAAY,GAClC,YAAb1B,EAAIC,MAELT,EAAYC,EAAOC,GACnBkC,IAAMC,KAAK,qBAAsB,CAC7BC,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KAIdT,IAAMC,KAAK,wBAAyB,CAChCC,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,OAKxBnC,OACE,SAAAC,GAEIsB,IAAE,YAAYC,KAAK,WAAY,SAC/BE,IAAMC,KAAK,UAAY1B,EAAImC,QAAS,CAChCR,SAAU,aACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEdjC,QAAQC,IAAKF,MClCec,CAAWC,EAAGzB,IAAOC,QAGjD,cAAC,IAAD","file":"static/js/111.d85b1507.chunk.js","sourcesContent":["import $ from 'jquery';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const newRequest = ( e, axios, setRequestsList ) => {\r\n\r\n    e.preventDefault();\r\n    const location = e.target['location_code'].value;\r\n    const subject = e.target['subject'].value;\r\n    const description = e.target['description'].value;\r\n    $('fieldset').prop('disabled', 'disabled');\r\n\r\n    axios.post(\r\n        '/inventory/new_repair_request',\r\n        {\r\n            location: location,\r\n            subject: subject,\r\n            description: description,\r\n            request_by: sessionStorage.getItem(\"EmpID\")\r\n        }\r\n    ).then(\r\n        res => {\r\n\r\n            $('#repair_request_form').trigger(\"reset\");\r\n            $('#repair_request_form fieldset').prop('disabled', false);\r\n            if ( res.data === 'success' )\r\n            {\r\n                getRequests(axios, setRequestsList);\r\n                toast.dark(\"Request Generated.\", {\r\n                    position: 'top-center',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            }else\r\n            {\r\n                toast.dark(\"Something went wrong.\", {\r\n                    position: 'top-center',\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            }\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n\r\n            $('fieldset').prop('disabled', 'false');\r\n            toast.dark(\"Error: \" + err.message, {\r\n                position: 'top-center',\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            });\r\n            console.log( err );\r\n\r\n        }\r\n    )\r\n\r\n}\r\n\r\nexport const getLocations = ( axios, setLocations ) => {\r\n\r\n    axios.get(\r\n        '/inventory/get_locations'\r\n    ).then(\r\n        res => {\r\n\r\n            setLocations( res.data );\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n\r\n            console.log( err );\r\n\r\n        }\r\n    )\r\n\r\n}\r\n\r\nexport const getRequests = ( axios, setRequestsList ) => {\r\n\r\n    axios.post(\r\n        '/inventory/get_repair_requests',\r\n        {\r\n            request_by: sessionStorage.getItem(\"EmpID\")\r\n        }\r\n    ).then(\r\n        res => {\r\n\r\n            setRequestsList( res.data );\r\n\r\n        }\r\n    ).catch(\r\n        err => {\r\n\r\n            console.log( err );\r\n\r\n        }\r\n    )\r\n\r\n}","import React, { lazy, Suspense, useEffect, useState } from 'react';\r\n\r\nimport axios from '../../../../../../axios';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { newRequest, getLocations, getRequests } from './Functions';\r\nconst UI = lazy( () => import('./UI') );\r\n\r\nconst RepairRequest = () => {\r\n\r\n    const [ Locations, setLocations ] = useState([]);\r\n    const [ RequestsList, setRequestsList ] = useState([]);\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            getLocations( axios, setLocations );\r\n            getRequests( axios, setRequestsList );\r\n\r\n        }, []\r\n    )\r\n    \r\n    return (\r\n        <>\r\n            <Suspense fallback={ <div>Loading...</div> }>\r\n                <UI \r\n                    Locations={ Locations }\r\n                    RequestsList={ RequestsList }\r\n\r\n                    newRequest={ (e) => newRequest(e, axios, setRequestsList) }\r\n                />\r\n            </Suspense>\r\n            <ToastContainer />\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default RepairRequest;"],"sourceRoot":""}