(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[29],{147:function(e,t,n){"use strict";t.a=n.p+"static/media/icons8-iphone-spinner.e2bb0653.gif"},539:function(e,t,n){"use strict";n.r(t);var a=n(94),i=n(24),s=n(9),c=n(4),r=n(1),o=(n(540),n(11)),l=n(79),u=n.n(l),d=n(147),p=n(25),b=n(3),j=n(98),m=n(88),h=n(92),f=n(82),O=(n(83),n(0)),v=Object(r.lazy)((function(){return Promise.all([n.e(5),n.e(86)]).then(n.bind(null,609))})),g=Object(r.lazy)((function(){return n.e(89).then(n.bind(null,611))})),x=Object(r.lazy)((function(){return n.e(87).then(n.bind(null,613))})),w=Object(r.lazy)((function(){return n.e(88).then(n.bind(null,615))})),_=Object(r.lazy)((function(){return n.e(50).then(n.bind(null,666))})),y=Object(r.lazy)((function(){return n.e(90).then(n.bind(null,619))}));t.default=function(){var e=Object(r.useState)(Object(O.jsx)(O.Fragment,{})),t=Object(c.a)(e,2),n=t[0],l=t[1],S=Object(r.useState)(!1),q=Object(c.a)(S,2),N=q[0],D=q[1],I=Object(r.useState)([]),k=Object(c.a)(I,2),C=k[0],F=k[1],R=Object(r.useState)([]),T=Object(c.a)(R,2),P=T[0],M=T[1],A=Object(r.useState)([]),B=Object(c.a)(A,2),L=B[0],E=B[1],V=Object(r.useState)([]),J=Object(c.a)(V,2),H=J[0],z=J[1],W=Object(r.useState)([]),G=Object(c.a)(W,2),Q=G[0],U=G[1],Y=Object(r.useState)({column:"employees.name",value:""}),K=Object(c.a)(Y,2),X=K[0],Z=K[1],$=Object(r.useState)({column:"invtry_purchase_requests.company_code",value:""}),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],ae=Object(r.useState)({column:"invtry_purchase_requests.location_code",value:""}),ie=Object(c.a)(ae,2),se=ie[0],ce=ie[1],re=Object(r.useState)({column:"invtry_purchase_requests.status",value:""}),oe=Object(c.a)(re,2),le=oe[0],ue=oe[1],de=Object(r.useState)({column:"invtry_purchase_requests.request_date",value:""}),pe=Object(c.a)(de,2),be=pe[0],je=pe[1],me=Object(r.useState)([]),he=Object(c.a)(me,2),fe=he[0],Oe=he[1],ve=Object(r.useState)([]),ge=Object(c.a)(ve,2),xe=ge[0],we=ge[1],_e=Object(r.useState)([]),ye=Object(c.a)(_e,2),Se=ye[0],qe=ye[1],Ne=Object(r.useState)(0),De=Object(c.a)(Ne,2),Ie=De[0],ke=De[1],Ce=Object(r.useState)(0),Fe=Object(c.a)(Ce,2),Re=Fe[0],Te=Fe[1],Pe=Object(r.useState)(),Me=Object(c.a)(Pe,2),Ae=Me[0],Be=Me[1],Le=Object(r.useState)(!0),Ee=Object(c.a)(Le,2),Ve=Ee[0],Je=Ee[1],He=Object(r.useState)({description:"",reason:"",price:0,tax:"",quantity:1}),ze=Object(c.a)(He,2),We=ze[0],Ge=ze[1],Qe=Object(r.useState)("inclusive"),Ue=Object(c.a)(Qe,2),Ye=Ue[0],Ke=Ue[1],Xe=Object(r.useState)(0),Ze=Object(c.a)(Xe,2),$e=Ze[0],et=Ze[1],tt=Object(r.useState)(0),nt=Object(c.a)(tt,2),at=nt[0],it=nt[1],st=Object(r.useState)(0),ct=Object(c.a)(st,2),rt=ct[0],ot=ct[1],lt=Object(r.useState)(0),ut=Object(c.a)(lt,2),dt=ut[0],pt=ut[1],bt=Object(r.useState)([]),jt=Object(c.a)(bt,2),mt=jt[0],ht=jt[1],ft=Object(r.useState)([]),Ot=Object(c.a)(ft,2),vt=Ot[0],gt=Ot[1],xt=Object(r.useState)({tweet:"",reply:0}),wt=Object(c.a)(xt,2),_t=wt[0],yt=wt[1],St=Object(r.useState)([]),qt=Object(c.a)(St,2),Nt=qt[0],Dt=qt[1],It=Object(r.useState)(),kt=Object(c.a)(It,2),Ct=kt[0],Ft=kt[1],Rt=Object(r.useState)([]),Tt=Object(c.a)(Rt,2),Pt=Tt[0],Mt=Tt[1],At=Object(p.c)((function(e){return e.EmpAuth.EmployeeData})),Bt=Object(b.g)();Object(r.useMemo)((function(){return Ft(window.location.href.split("/").pop().split("id=").pop())}),[parseInt(window.location.href.split("/").pop().split("id=").pop())]),Object(r.useEffect)((function(){if(!isNaN(parseInt(Ct))){var e=window.location.href.split("/").pop().split("id=").pop();o.a.post("/getpurchaseorderdetails",{pr_id:e,po_id:null}).then((function(t){et(parseFloat(t.data[4][0].tax_per)),Te(parseFloat(t.data[4][0].total)),null!==t.data[4][0].tax_mode&&Ke(t.data[4][0].tax_mode),it(t.data[4][0].tax_amt),ot(t.data[4][0].net_amt),we(t.data[5]),Oe(t.data[4]),"Approved"===t.data[4][0].status&&"Delivered"===t.data[4][0].status&&"Waiting For Approval"===t.data[4][0].status||ht(t.data[6]),u()(".action").prop("disabled",!1),Je(!1),Be(0),ke(0),Ge({description:"",reason:"",price:0,tax:"",quantity:1}),u()(".ViewPrRequests .PR_printUI_Middle .table .MyItems").removeClass("d-none"),pt(parseInt(e)),Et(parseInt(e))})).catch((function(e){console.log(e)}))}}),[Ct]),Object(r.useEffect)((function(){Ht()}),[X,te,se,le,be]),Object(r.useEffect)((function(){for(var e=xe,t=0,n=0,a=0,i=0,s=0;s<e.length;s++){if("exclusive"===Ye){var c=100-parseFloat($e),r=parseFloat(e[s].price)*parseFloat(e[s].quantity),o=r/c,l=(o*=100)-r;t=l.toFixed(3),n=parseFloat(r)+parseFloat(t),a+=r,i+=l}else if("inclusive"===Ye){var u=parseFloat(e[s].price)*parseFloat(e[s].quantity);t=(u/100*parseFloat($e)).toFixed(3),n=parseFloat(u).toFixed(3),a+=u,i+=parseFloat(t)}e[s].tax=$e,e[s].tax_amount=t,e[s].amount=n}if(we(e),Te(a),it(parseFloat(i).toFixed(3)),"exclusive"===Ye){var d=parseFloat(a)+parseFloat(i);ot(parseFloat(d).toFixed(3))}else ot(parseFloat(a))}),[Ye,$e,xe,Ve]),Object(r.useEffect)((function(){j.a.on("newpurchaserequision",(function(){Jt()})),j.a.on("prdiscussions",(function(){Et(window.location.href.split("/").pop().split("id=").pop())})),Jt(),zt(),Wt(),Vt(),Mt([{icon:"las la-user",txt:"Requests",link:!1,func:function(){u()(".ViewPrRequests_Left").show(),u()(".ViewPrRequests_Right").hide()}}])}),[]),Object(r.useEffect)((function(){var e=parseFloat(We.price),t=parseInt(We.quantity);(isNaN(e)||e<0)&&(e=0,Ge(Object(s.a)(Object(s.a)({},We),{},{price:0}))),(isNaN(t)||t<0)&&(t=0,Ge(Object(s.a)(Object(s.a)({},We),{},{quantity:0})))}),[We.quantity,We.price]);var Lt=function(e){var t=e.target.value;Ke(t)},Et=function(e){o.a.post("/getprdiscussion",{pr_id:e}).then((function(e){Dt(e.data),setTimeout((function(){var e=document.getElementById("TweetContainer");e&&(e.scrollTop=e.scrollHeight)}),300)})).catch((function(e){console.log(e)}))},Vt=function(){var e={emp_id:At.emp_id,access:At.access};o.a.post("/getmonthlyrequests",{myData:JSON.stringify(e)}).then((function(e){E(e.data)})).catch((function(e){console.log(e)}))},Jt=function(){var e={emp_id:At.emp_id,access:At.access};o.a.post("/getallpr",{myData:JSON.stringify(e)}).then((function(e){F(e.data)})).catch((function(e){console.log(e)}))},Ht=function(){var e={emp_id:At.emp_id,access:At.access},t=[X,te,se,le,be];o.a.post("/getallprsorted",{myData:JSON.stringify(e),filters:t}).then((function(e){F(e.data);for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n].status);M(t)})).catch((function(e){console.log(e)}))},zt=function(){o.a.get("/getallcompanies").then((function(e){z(e.data)})).catch((function(e){console.log(e)}))},Wt=function(){o.a.get("/getalllocations").then((function(e){U(e.data)})).catch((function(e){console.log(e)}))},Gt=function(e){Ut("Company",e),""!==e.target.value?o.a.post("/getcompanylocations",{company_code:e.target.value}).then((function(e){U(e.data)})).catch((function(e){console.log(e)})):Wt()},Qt=function(e){Ut("Location",e),Wt()},Ut=function(e,t){var n=t.target.value;"Key"===e?Z(Object(s.a)(Object(s.a)({},X),{},{value:n})):"Company"===e?ne(Object(s.a)(Object(s.a)({},te),{},{value:n})):"Location"===e?ce(Object(s.a)(Object(s.a)({},se),{},{value:n})):"Status"===e?ue(Object(s.a)(Object(s.a)({},le),{},{value:n})):je(Object(s.a)(Object(s.a)({},be),{},{value:n})),"Key"===e&&""===n?Z(Object(s.a)(Object(s.a)({},X),{},{value:""})):"Company"===e&&""===n?ne(Object(s.a)(Object(s.a)({},te),{},{value:""})):"Location"===e&&""===n?ce(Object(s.a)(Object(s.a)({},se),{},{value:""})):"Status"===e&&""===n?ue(Object(s.a)(Object(s.a)({},le),{},{value:""})):"MyDate"===e&&""===n&&je(Object(s.a)(Object(s.a)({},be),{},{value:""}))},Yt=function(e){"Viewed"!==fe[0].status&&"Sent"!==fe[0].status||(u()(".action").prop("disabled",!0),Je(!0),Be(e),ke(xe[e].amount),Ge(xe[e]),u()(".ViewPrRequests .PR_printUI_Middle .table .MyItems"+e).toggleClass("d-none"))},Kt=function(e){var t=e.target,n=t.name,a=t.value,c=!0;if("quantity"!==n&&"price"!==n&&"tax"!==n||(a<0||-0===a||"-0"===a)&&(Xt("value should be greater than 0","top-center"),c=!1),c){var r=Object(s.a)(Object(s.a)({},We),{},Object(i.a)({},n,a));Ge(r)}},Xt=function(e,t){f.b.dark(e.toString(),{position:t,autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Zt=function(e){if(13===e.keyCode&&""!==We.description&&""!==We.reason&&We.quantity>0&&We.price>0)if(We.reason.length<20){var t=u()(".err_reason").val(),n=0,i="Reason must contain 20 characters minimum!!!",s=50;t="",function e(){n<i.length&&(t+=i.charAt(n),u()(".err_reason").html(t),n++,setTimeout(e,s))}(),setTimeout((function(){u()(".err_reason").html("")}),5e3)}else{if(Ve){var c=xe,r={};r=We.id?{id:We.id,pr_id:We.pr_id,description:We.description,reason:We.reason,price:We.price,quantity:We.quantity}:{description:We.description,reason:We.reason,price:We.price,quantity:We.quantity},c[Ae]=r,we(c),ke(0),Ge({description:"",reason:"",price:0,tax:"",quantity:1}),Je(!1),u()(".action").prop("disabled",!1),Be(),u()(".ViewPrRequests .PR_printUI_Middle .table .MyItems").removeClass("d-none")}else{var o={description:We.description,reason:We.reason,price:We.price,quantity:We.quantity};we([].concat(Object(a.a)(xe),[o])),ke(0),Ge({description:"",reason:"",price:0,tax:"",quantity:1});var l=document.getElementById("ItemsLIst");null!==l&&(l.scrollTop=l.scrollHeight)}u()("textarea, input, select").blur(),u()("textarea[name=description]").focus()}},$t=function(e){if("Viewed"===fe[0].status||"Sent"===fe[0].status){var t=xe.filter((function(t,n){return n===e}));qe(t),we(xe.filter((function(t,n){return n!==e})))}},en=function(e){var t=new FileReader,n=e.target.files;t.onload=function(){if(2===t.readyState){for(var e=[],a=0;a<n.length;a++)e.push({name:n[a].name,file:n[a]});ht(e)}},n[0]&&t.readAsDataURL(n[0])},tn=function(e){var t=[];t=mt[0].image?mt.filter((function(t,n,a){return a[n].image===a[e].image})):mt.filter((function(t,n,a){return a[n].name===a[e].name})),gt(t)},nn=function(e){var t=mt.filter((function(t,n,a){return a[n].name!==a[e].name}));ht(t)},an=function(e){var t=e.target,n=t.name,a=t.value;yt("tweet"===n?{tweet:a,reply:0}:{tweet:a,reply:parseInt(n)})},sn=function(e,t,n){e.preventDefault();var a=new Date;o.a.post("/prdiscussion",{pr_id:dt,emp_id:At.emp_id,body:t||_t.tweet,reply:n||_t.reply,date:a.toString()}).then((function(){u()("textarea").val(""),yt({tweet:"",reply:0}),n?j.a.emit("prsubdiscussions",n):0===_t.reply?j.a.emit("prdiscussions"):j.a.emit("prsubdiscussions",_t.reply),Et(window.location.href.split("/").pop().split("id=").pop())})).catch((function(e){console.log(e)}))},cn=function(e,t){if("Sent"===t&&(JSON.parse(At.access).includes(512)||JSON.parse(At.access).includes(514)||JSON.parse(At.access).includes(1))){var n=new FormData;n.append("prID",e),n.append("empID",At.emp_id),o.a.post("/setprtoviewed",n).then((function(){j.a.emit("newpurchaserequision")})).catch((function(e){console.log(e)}))}},rn=function(e){l(Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Do you want to discard this request?"}),Object(O.jsxs)("form",{onSubmit:function(t){return on(e,t)},children:[Object(O.jsx)("textarea",{style:{fontSize:"13px"},name:"remarks",className:"form-control mb-3",placeholder:"Add Remarks",required:!0,minLength:"10"}),Object(O.jsx)("button",{type:"submit",className:"btn btn-sm btn-danger d-block ml-auto px-3",children:"Yes"})]})]})),dn()},on=function(e,t){t.preventDefault();var n=new FormData;n.append("prID",e),n.append("empID",At.emp_id),n.append("remarks",t.target.remarks.value),o.a.post("/setprtodiscard",n).then((function(){j.a.emit("newpurchaserequision");var n=new FormData;n.append("eventID",3),n.append("link","/purchaserequisition/view=previousrequests/"+e),n.append("receiverID",fe[0].request_by),n.append("senderID",sessionStorage.getItem("EmpID")),n.append("Title",sessionStorage.getItem("name")),n.append("NotificationBody",sessionStorage.getItem("name")+" has discard your purchase request with id#"+e+" under this reason '"+t.target.remarks.value+"'"),o.a.post("/newnotification",n).then((function(){o.a.post("/sendmail",n).then((function(){Bt.replace("/purchaserequisition/view=purchase_requisition&&id="+(e-1)),setTimeout((function(){Bt.replace("/purchaserequisition/view=purchase_requisition&&id="+e)}),100)}))})),f.b.dark("Request has been Discard",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),D(!1)})).catch((function(e){console.log(e)}))},ln=function(e,t){t.preventDefault();var n=new FormData;n.append("prID",e),n.append("empID",At.emp_id),n.append("remarks",t.target.remarks.value),o.a.post("/setprtoapprove",n).then((function(){D(!1),f.b.dark("Request has been approved".toString(),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),j.a.emit("newpurchaserequision");var t=new FormData;t.append("eventID",3),t.append("receiverID",fe[0].request_by),t.append("senderID",sessionStorage.getItem("EmpID")),t.append("Title",sessionStorage.getItem("name")),t.append("NotificationBody",sessionStorage.getItem("name")+" has approved your purchase request with id#"+e),o.a.post("/newnotification",t).then((function(){o.a.post("/sendmail",t).then((function(){Bt.replace("/purchaserequisition/view=purchase_requisition&&id="+(e-1)),setTimeout((function(){Bt.replace("/purchaserequisition/view=purchase_requisition&&id="+e)}),100)}))}))})).catch((function(e){console.log(e)}))},un=function(e){for(var t=!0,n=0;n<xe.length;n++)""!==xe[n].description||""!==xe[n].reason||xe[n].quantity>0||(f.b.dark("Please fill all the fields in the items list",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!1,dn());if(t)if(xe.length>0){var a=new FormData;a.append("prID",e),a.append("Items",JSON.stringify(xe)),a.append("deletedItems",JSON.stringify(Se)),a.append("Total",Re),a.append("TaxMode",Ye),a.append("Tax",$e),a.append("TaxAmount",at),a.append("NetTotal",rt),o.a.post("/setprtofinal",a).then((function(){var t=new FormData;t.append("prID",e),t.append("empID",At.emp_id),mt.forEach((function(e){t.append("Attachments",e.file)})),o.a.post("/setprtowaitforapproval",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Bt.replace("/purchaserequisition/view=purchase_requisition&&id="+(e-1)),setTimeout((function(){Bt.replace("/purchaserequisition/view=purchase_requisition&&id="+e)}),100),we([]),l(Object(O.jsx)(O.Fragment,{})),D(!1),Be(),Je(!1),u()(".action").prop("disabled",!1),Te(0),ke(0),j.a.emit("NewNotification",fe[0].request_by),j.a.emit("newpurchaserequision");var t=new FormData;t.append("eventID",3),t.append("receiverID",fe[0].request_by),t.append("senderID",sessionStorage.getItem("EmpID")),t.append("Title",sessionStorage.getItem("name")),t.append("NotificationBody",sessionStorage.getItem("name")+" has sent your purchase request with id#"+e+" for approval"),o.a.post("/newnotification",t).then((function(){o.a.post("/sendmail",t).then((function(){}))}));var n=JSON.stringify([513,514,515]),a=new FormData;a.append("access",n),o.a.post("/getemployeeaccesslike",a).then((function(t){if(t.data[0])for(var n=function(n){var a=new FormData;a.append("eventID",3),a.append("receiverID",t.data[n].emp_id),a.append("senderID",sessionStorage.getItem("EmpID")),a.append("Title",sessionStorage.getItem("name")),a.append("NotificationBody",sessionStorage.getItem("name")+" put forward a purchase request with id#"+e+" for approval"),o.a.post("/newnotification",a).then((function(){o.a.post("/sendmail",a).then((function(){}))}))},a=0;a<t.data.length;a++)n(a)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}else f.b.dark("one specification required",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t=!1,dn()},dn=function(){D(!N)},pn=function(e,t){yt({tweet:e,reply:t});var n=document.createEvent("event");sn(n,e,t)},bn=function(){u()(".ViewPrRequests_grid").toggleClass("d-block"),u()(".ViewPrRequests .ViewPrRequests_grid .ViewPrRequests_Right .previewWindow .openBtn").toggleClass("d-block"),u()(".ViewPrRequests_grid .ViewPrRequests_Left").toggle("slow")},jn=function(e){et(e.target.value)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"ViewPrRequests",children:[Object(O.jsx)(h.a,{data:Pt}),Object(O.jsx)(m.a,{show:N,Hide:dn,content:n}),Object(O.jsx)(f.a,{}),Object(O.jsx)("iframe",{title:"pr",id:"pr",className:"d-none w-100",src:"https://"+window.location.host+"/#/view=purchase_requisition/"+dt}),Object(r.useMemo)((function(){return Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)(O.Fragment,{children:"Please Wait...."}),children:Object(O.jsx)(y,{Locations:Q,Companies:H,onSearchPR:Ut,onChangeCompany:Gt,onChangeLocation:Qt})})}),[Q,H]),Object(O.jsxs)("div",{className:"ViewPrRequests_grid",children:[Object(O.jsxs)("div",{className:"ViewPrRequests_Left",children:[Object(O.jsx)("button",{onClick:bn,className:"btn btn-sm collapseBtn",children:Object(O.jsx)("i",{className:"las la-chevron-left"})}),Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)("div",{className:"w-100 d-flex justify-content-center mt-5",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"rounded-circle",src:d.a,width:"60",height:"60",alt:"Loading...."}),Object(O.jsx)("p",{className:"mb-0",children:"Processing...."})]})}),children:C.map((function(e,t){var n=new Date(e.request_date);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(g,{data:e,date:n,ViewTheRequest:cn,EmpData:At},t)})}))})]}),Object(O.jsxs)("div",{className:"ViewPrRequests_Right",children:[Object(O.jsxs)("div",{className:"previewWindow",children:[Object(O.jsx)("button",{onClick:bn,className:"btn btn-sm openBtn mb-2",children:Object(O.jsx)("i",{className:"las la-chevron-down"})}),Object(O.jsx)(b.b,{exact:!0,path:"/purchaserequisition/home",render:function(){return Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)("div",{className:"w-100 d-flex justify-content-center mt-5",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"rounded-circle",src:d.a,width:"60",height:"60",alt:"Loading...."}),Object(O.jsx)("p",{className:"mb-0",children:"Loading...."})]})}),children:Object(O.jsx)(v,{ViewRequest:C,CountRequests:C.length,CountStatus:P,MonthlyRequests:L,EmpData:At})})}}),Object(O.jsx)(b.b,{exact:!0,path:"/purchaserequisition/view=purchase_requisition&&id=:pr_id",render:function(){return Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)("div",{className:"w-100 d-flex justify-content-center mt-5",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"rounded-circle",src:d.a,width:"60",height:"60",alt:"Loading...."}),Object(O.jsx)("p",{className:"mb-0",children:"Loading...."})]})}),children:Object(O.jsx)(x,{List:fe,Items:xe,Item:We,Total:Re,Amount:Ie,Index:Ae,TaxMode:Ye,Tax:$e,TaxAmount:at,NetTotal:rt,IndividualTaxMode:Lt,OnChangeHandler:Kt,AddItem:Zt,OnEdit:Yt,onDelete:$t,onChangeTax:jn})})}}),Object(O.jsx)(b.b,{exact:!0,path:"/purchaserequisition/view=quotations&&id=:pr_id",render:function(){return Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)("div",{className:"w-100 d-flex justify-content-center mt-5",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"rounded-circle",src:d.a,width:"60",height:"60",alt:"Loading...."}),Object(O.jsx)("p",{className:"mb-0",children:"Loading...."})]})}),children:Object(O.jsx)(w,{List:fe,AttachQuotations:mt,QuotationPreview:vt,onAttachQuotations:en,PreviewQuotation:tn,RemoveQuotation:nn})})}}),Object(O.jsx)(b.b,{exact:!0,path:"/purchaserequisition/view=discussions&&id=:pr_id",render:function(){return Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)("div",{className:"w-100 d-flex justify-content-center mt-5",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{className:"rounded-circle",src:d.a,width:"60",height:"60",alt:"Loading...."}),Object(O.jsx)("p",{className:"mb-0",children:"Loading...."})]})}),children:Object(O.jsx)(_,{Tweets:Nt,EmpData:At,onTweetboxChange:an,onTweet:sn,AttachDrive:pn})})}})]}),Object(O.jsx)("div",{className:"control",children:"home"!==window.location.href.split("/").pop()?Object(O.jsxs)("div",{className:"btn-group",children:[Object(O.jsx)("button",{className:"btn firstBtn",onClick:function(){return Bt.replace("/purchaserequisition/view=purchase_requisition&&id="+dt)},children:"Purchase Requisition"}),Object(O.jsx)("button",{className:"btn secondBtn",onClick:function(){return Bt.replace("/purchaserequisition/view=quotations&&id="+dt)},children:"Quotations"}),Object(O.jsx)("button",{className:"btn thirdBtn",onClick:function(){return Bt.replace("/purchaserequisition/view=discussions&&id="+dt)},children:"Discussions"}),Object(O.jsx)("button",{className:"btn forthBtn",onClick:function(){return function(e){var t=document.getElementById("pr");t.src="https://"+window.location.host+"/#/view=purchase_requisition/"+e,t.contentWindow.print(),setTimeout((function(){t.contentWindow.print()}),500)}(dt)},children:"Print"}),At.access&&(JSON.parse(At.access).includes(513)||JSON.parse(At.access).includes(515))&&fe[0]&&"Waiting For Approval"===fe[0].status?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn btn-sm fifthBtn",onClick:function(){return rn(window.location.href.split("/").pop().split("id=").pop())},children:"Discard"}),Object(O.jsx)("button",{className:"btn btn-sm sixthBtn",onClick:function(){return e=window.location.href.split("/").pop().split("id=").pop(),l(Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Do you want to approve this request?"}),Object(O.jsxs)("form",{onSubmit:function(t){return ln(e,t)},children:[Object(O.jsx)("textarea",{style:{fontSize:"13px"},name:"remarks",className:"form-control mb-3",placeholder:"Add Remarks",required:!0,minLength:"10"}),Object(O.jsx)("button",{type:"submit",className:"btn btn-sm btn-success d-block ml-auto px-3",children:"Yes"})]})]})),void dn();var e},children:"Approve"})]}):null,fe[0]&&("Viewed"===fe[0].status||"Sent"===fe[0].status)&&At.access&&(JSON.parse(At.access).includes(512)||JSON.parse(At.access).includes(514)||JSON.parse(At.access).includes(1))?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn sixthBtn",onClick:function(){return e=window.location.href.split("/").pop().split("id=").pop(),l(Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Do you want to forward this request?"}),Object(O.jsx)("button",{onClick:function(){return un(e)},className:"btn btn-sm btn-info d-block ml-auto px-3",children:"Yes"})]})),void dn();var e},children:"Forward"}),Object(O.jsx)("button",{className:"btn fifthBtn",style:{backgroundColor:"red",color:"white"},onClick:function(){return rn(window.location.href.split("/").pop().split("id=").pop())},children:"Discard"}),Object(O.jsx)("button",{className:"btn d-none onTweetBtn",onClick:function(e){return sn(e)},children:"Tweet"})]}):null]}):null})]})]})]})})}},540:function(e,t,n){},88:function(e,t,n){"use strict";n(1),n(89);var a=n(0);t.a=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"Attandence_Request_Div",style:{display:e.show?"flex":"none"},children:[Object(a.jsx)("div",{className:"dark",onClick:e.Hide}),Object(a.jsx)("div",{style:{animationDelay:"0.1".toString()+"s"},className:e.show?"Attandence_Request_Div_Content Attandence_Request_Div_Content2":"Attandence_Request_Div_Content",children:e.content})]})})}},89:function(e,t,n){},92:function(e,t,n){"use strict";var a=n(1),i=(n(93),n(79)),s=n.n(i),c=n(17),r=n(0);t.a=function(e){Object(a.useEffect)((function(){s()(".Speeddail_Grid").slideToggle(0)}),[]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"Menu",children:e.data.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"Menu_Grid",children:e.data.map((function(e,t){return Object(r.jsx)(r.Fragment,{children:e&&e.txt?e.link?Object(r.jsx)(c.b,{to:e.href,children:Object(r.jsx)("button",{children:Object(r.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})})}):Object(r.jsx)("button",{onClick:function(){return e.func()},children:Object(r.jsx)("p",{className:"font-weight-bolder mb-0",children:e.txt})}):null})}))}),Object(r.jsxs)("div",{className:"Menu_Speeddail",children:[Object(r.jsx)("div",{className:"Menu_Speeddail_circle",onClick:function(){s()(".Menu_Speeddail .Speeddail_Grid").slideToggle(200),s()(".Menu_Speeddail .Menu_Speeddail_circle .las").hasClass("la-bars")?(s()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-bars"),s()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-times")):(s()(".Menu_Speeddail .Menu_Speeddail_circle .las").removeClass("la-times"),s()(".Menu_Speeddail .Menu_Speeddail_circle .las").addClass("la-bars"))},children:Object(r.jsx)("i",{class:"las la-times"})}),Object(r.jsx)("div",{className:"Speeddail_Grid",children:e.data.map((function(e,t){return Object(r.jsx)(r.Fragment,{children:e&&e.txt?e.link?Object(r.jsx)(c.b,{to:e.href,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(r.jsx)("i",{className:e.icon})}),Object(r.jsx)("p",{children:e.txt})]},t)}):Object(r.jsxs)("div",{className:"clicks",onClick:function(){return e.func()},children:[Object(r.jsx)("div",{className:"mb-1 Speeddail_Grid1 divs"+t,children:Object(r.jsx)("i",{className:e.icon})}),Object(r.jsx)("p",{children:e.txt})]},t):null})}))})]})]}):null})})}},93:function(e,t,n){},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(19);var i=n(26);function s(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);