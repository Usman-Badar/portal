{"version":3,"sources":["Components/UI/Menu/Menu.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/EmployeeProtal/Dashboard/Pages/Forms/PurchaseOrder/Request/Request.jsx","Components/EmployeeProtal/Dashboard/Pages/Forms/PurchaseOrder/PR_printUI/Logos/QFS-LOGO.PNG","Components/EmployeeProtal/Dashboard/Pages/Forms/PurchaseOrder/PR_printUI/Logos/SEABOARD-SERVICES.PNG","Components/EmployeeProtal/Dashboard/Pages/Forms/PurchaseOrder/PR_printUI/Logos/SBL-LOGO.PNG","Components/EmployeeProtal/Dashboard/Pages/Forms/PurchaseOrder/PR_printUI/PR_printUI.jsx","Components/EmployeeProtal/Dashboard/Pages/Forms/PurchaseOrder/PurchaseOrder.jsx","Components/UI/Modal/Modal.jsx"],"names":["Menu","props","useEffect","$","slideToggle","className","data","length","map","val","index","txt","link","to","href","onClick","func","hasClass","removeClass","addClass","class","icon","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Request","src","emp_image","alt","name","designation_name","department_name","company_name","total","toLocaleString","d","toDateString","style","backgroundColor","bgColor","fontSize","location_name","pr_id","po_id","PR_printUI","useState","info","specifications","ListDetails","setListDetails","PrID","axios","post","then","res","catch","err","console","log","x","push","d1","Date","approve_date","d2","discard_date","d3","request_date","QFS","SBS","SBL","pr_company_name","width","pr_code","toString","substring","description","quantity","price","tax","amount","reason","sender_name","approve_emp_name","handle_emp_name","Home","lazy","Form","PreviousRequest","Bills","PurchaseOrder","MenuData","setMenuData","ShowHide","setShowHide","Submitted","Requests","setRequests","Companies","setCompanies","Locations","setLocations","ShiptoLocations","setShiptoLocations","PurchaseOrderCode","setPurchaseOrderCode","CountStatus","setCountStatus","setPrID","PrIDPrev","setPrIDPrev","PRCode","setPRCode","company","company_code","company_website","location","location_code","location_phone","location_address","ShipTo","venders","comments","gst","cartage","others","RequestInformation","setRequestInformation","Items","setItems","Amount","setAmount","Total","setTotal","Index","setIndex","EditMode","setEditMode","taxRequired","Item","setItem","TaxMode","setTaxMode","IndividualTax","setIndividualTax","PurchaseOrderDetails","setPurchaseOrderDetails","setPOID","Details","setDetails","AttachBills","setAttachBills","BillPreview","setBillPreview","Data","useSelector","state","EmpAuth","EmployeeData","history","useHistory","window","split","pop","isNaN","parseInt","poInfo","emp_id","AllPO","GetAllCompanies","condition","OpenPurchaseOrderForm","OpenAttachedBillsView","OpenPurchaseOrderBills","socket","on","parseFloat","subTotal","replace","links","FormData","get","id","append","status","createPOCode","CCode","LastNum","Year","getMonth","getFullYear","code","po_code","OnChangeCompany","e","value","target","Company","filter","website","OnChangeLocation","Location","address","OnChangeShipToCompany","OnChangeShipToLocation","AddVender","RemoveVender","Venders","VenderName","OnComments","OnChangeHandler","pass","ShowNotification","input","document","getElementById","disabled","AddItem","keyCode","i","speed","typeWriter","charAt","html","setTimeout","cart","t","objDiv","scrollTop","scrollHeight","blur","focus","OnEdit","toggleClass","onDelete","SubmitPurchaseOrder","RequestInfo","SenderInfo","D","JSON","stringify","forEach","file","emit","Data3","Data2","sessionStorage","getItem","OnChangePrNumber","NotFound","FinalValuesChangeHandler","ExclusiveInclusiveTax","IndividualTaxMode","note","position","toast","dark","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","onAttachBills","reader","FileReader","files","onload","readyState","readAsDataURL","PreviewBill","array","image","RemoveBill","ShowModal","CollapseRequests","toggle","Modal","show","Hide","content","height","fallback","exact","path","render","ViewRequest","CountRequests","EmpData","display","animationDelay"],"mappings":"mGAAA,oDAsGeA,IAjGF,SAACC,GAEVC,qBACI,WACIC,IAAE,mBAAmBC,YAAY,KAClC,IAiBP,OACI,mCACI,qBAAKC,UAAU,OAAf,SAEQJ,EAAMK,KAAKC,OAAS,EAEhB,qCACI,qBAAKF,UAAU,YAAf,SAEYJ,EAAMK,KAAKE,KACP,SAACC,EAAKC,GACF,OACI,mCAEQD,EAAIE,IAEJF,EAAIG,KACA,cAAC,IAAD,CAAMC,GAAIJ,EAAIK,KAAd,SACI,iCAAQ,mBAAGT,UAAU,0BAAb,SAAwCI,EAAIE,UAGxD,wBAAQI,QAAU,kBAAMN,EAAIO,QAA5B,SAAqC,mBAAGX,UAAU,0BAAb,SAAwCI,EAAIE,QAErF,YAQhC,sBAAKN,UAAU,iBAAf,UACI,qBAAKA,UAAU,wBAAwBU,QA9C9C,WACjBZ,IAAE,mCAAmCC,YAAY,KAE5CD,IAAE,+CAA+Cc,SAAS,YAE3Dd,IAAE,+CAA+Ce,YAAY,WAC7Df,IAAE,+CAA+CgB,SAAS,cAG1DhB,IAAE,+CAA+Ce,YAAY,YAC7Df,IAAE,+CAA+CgB,SAAS,aAoCtC,SACI,mBAAGC,MAAM,mBAEb,qBAAKf,UAAU,iBAAf,SAEQJ,EAAMK,KAAKE,KACP,SAACC,EAAKC,GAEF,OACI,mCAEQD,EAAIE,IAEJF,EAAIG,KACA,cAAC,IAAD,CAAMC,GAAIJ,EAAIK,KAAd,SACI,gCACI,qBAAKT,UAAY,4BAA8BK,EAA/C,SAAuD,mBAAGL,UAAWI,EAAIY,SACzE,4BAAIZ,EAAIE,QAFFD,KAMd,sBAAKL,UAAU,SAAqBU,QAAU,kBAAMN,EAAIO,QAAxD,UACI,qBAAKX,UAAY,4BAA8BK,EAA/C,SAAuD,mBAAGL,UAAWI,EAAIY,SACzE,4BAAIZ,EAAIE,QAFiBD,GAKjC,kBAWpC,W,iHC5FT,SAASY,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,4LI4C/EC,EA5CC,SAAEjC,GACd,OACI,sBAAKI,UAAU,oBAAf,UACI,sBAAKA,UAAU,oDAAf,UACI,sBAAKA,UAAU,iCAAf,UACI,qBAAK8B,IAAM,oBAAsBlC,EAAMK,KAAK8B,UAAYC,IAAI,gBAC5D,gCACI,oBAAGhC,UAAU,qBAAb,cAAqCJ,EAAMK,KAAKgC,KAAhD,OACA,kCAAMrC,EAAMK,KAAKiC,iBAAjB,OAAyCtC,EAAMK,KAAKkC,gBAApD,KAAyEvC,EAAMK,KAAKmC,aAApF,aAGR,sBAAKpC,UAAU,OAAf,UACI,mBAAGA,UAAU,qBAAb,mBACA,qCAASJ,EAAMK,KAAKoC,MAAMC,eAAe,kBAGjD,qBAAKtC,UAAU,OAAf,SACI,sBAAKA,UAAU,iCAAf,UACI,gCACI,mBAAGA,UAAU,qBAAb,kBACA,kCAAMJ,EAAM2C,EAAEC,eAAd,UAEJ,gCACI,mBAAGxC,UAAU,qBAAb,oBACA,oBAAGyC,MAAO,CAAEC,gBAAiB9C,EAAM+C,QAASC,SAAU,QAAU5C,UAAU,2CAA1E,cAAwHJ,EAAMU,IAA9H,eAIZ,sBAAKN,UAAU,4BAAf,UACI,mBAAGA,UAAU,0BACb,gCACI,oBAAGA,UAAU,qBAAb,cAAqCJ,EAAMK,KAAKmC,aAAhD,OACA,kCAAMxC,EAAMK,KAAK4C,cAAjB,aAGR,qBAAK7C,UAAU,wBAAf,SACI,cAAC,IAAD,CAAMQ,GAAI,wCAA0CZ,EAAMK,KAAK6C,MAAQ,IAAMlD,EAAMK,KAAK8C,MAAxF,SACI,wBAAQ/C,UAAU,MAAlB,0B,0EC1CL,G,OAAA,IAA0B,sCCA1B,MAA0B,8CCA1B,MAA0B,qCCwL1BgD,EA9KI,SAAEpD,GAEjB,MAAsCqD,mBAClC,CACIC,KAAM,GACNC,eAAgB,KAHxB,mBAAOC,EAAP,KAAoBC,EAApB,KAOAxD,qBACI,WAEI,IAAIiD,EAAQlD,EAAM0D,KAElBC,IAAMC,KACF,2BACA,CACIV,MAAOA,EACPC,MAAO,OAEbU,MACE,SAACC,GAEGL,EACI,CACIH,KAAMQ,EAAIzD,KAAK,GACfkD,eAAgBO,EAAIzD,KAAK,QAKvC0D,OAAM,SAAAC,GAEJC,QAAQC,IAAIF,QAIjB,CAAEhE,EAAM0D,OAMf,IAHA,IACIpC,EAAM,GAED6C,EAAI,EAAGA,GAAK,GAAIA,IACrB7C,EAAI8C,KAJE,GAIGD,GAGb,OACI,mCAEQX,EAAYF,KAAK/C,KACb,SAAEC,EAAKC,GAEH,IAAM4D,EAAK,IAAIC,KAAM9D,EAAI+D,cACnBC,EAAK,IAAIF,KAAM9D,EAAIiE,cACnBC,EAAK,IAAIJ,KAAM9D,EAAImE,cAEzB,OACI,qBAAKvE,UAAU,aAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,oBAAIA,UAAU,kCAAd,4BACA,sBAAKA,UAAU,mBAAf,UACI,8BAAK,qBAAK8B,IAAK0C,EAAKxC,IAAI,eACxB,8BAAK,qBAAKF,IAAK2C,EAAKzC,IAAI,eACxB,8BAAK,qBAAKF,IAAK4C,EAAK1C,IAAI,kBAE5B,oBAAIhC,UAAU,iCAAd,kCACA,sBAAKA,UAAU,sBAAf,UACI,gCACI,sBAAKA,UAAU,SAAf,UACI,mBAAGA,UAAU,0BAAb,6BACA,kCAAMI,EAAIuE,gBAAV,UAEJ,sBAAK3E,UAAU,SAAf,UACI,mBAAGA,UAAU,0BAAb,yCACA,kCAAMI,EAAIyC,cAAV,aAGR,sBAAKJ,MAAQ,CAAEmC,MAAO,OAAtB,UACI,sBAAK5E,UAAU,qBAAf,UACI,qBAAKA,UAAU,gCAAf,SAA+C,mBAAGA,UAAU,qBAAb,2BAC/C,qBAAKA,UAAU,mBAAf,SAAkC,kCAAMI,EAAIyE,QAAV,YAEtC,sBAAK7E,UAAU,qBAAf,UACI,qBAAKA,UAAU,gCAAf,SAA+C,mBAAGA,UAAU,qBAAb,sBAC/C,qBAAKA,UAAU,mBAAf,SAAkC,kCAAMiE,EAAKA,EAAGa,WAAWC,UAAU,EAAE,IAAM,KAA3C,kBAI9C,sBAAK/E,UAAU,oBAAf,UACI,sBAAKA,UAAU,kBAAkByC,MAAO,CAAEC,gBAAiB,sBAA3D,UACI,8BAAK,mBAAG1C,UAAU,qBAAb,uBACL,8BAAK,mBAAGA,UAAU,qBAAb,2BACL,8BAAK,mBAAGA,UAAU,qBAAb,wBACL,8BAAK,mBAAGA,UAAU,qBAAb,8BACL,8BAAK,mBAAGA,UAAU,qBAAb,mBACL,8BAAK,mBAAGA,UAAU,qBAAb,6BAGLoD,EAAYD,eAAehD,KACvB,SAACC,EAAKC,GACF,OACI,mCACI,sBAAKL,UAAU,kBAAf,UACI,8BAAK,4BAAKK,EAAQ,MAClB,8BAAK,4BAAKD,EAAI4E,gBACd,8BAAK,4BAAK5E,EAAI6E,aACd,8BAAK,4BAAK7E,EAAI8E,UACd,8BAAK,4BAAK9E,EAAI+E,IAAM,QACpB,8BAAK,4BAAK,MAAQ/E,EAAIgF,OAAO9C,eAAe,qBAOpE,sBAAKtC,UAAU,kBAAf,UACI,wBACA,qBAAKyC,MAAO,CAAEC,gBAAiB,sBAA/B,SAAuD,mBAAG1C,UAAU,qCAAb,uBACvD,8BAAK,wBACL,8BAAK,wBACL,8BAAK,wBACL,8BAAK,oCAAQI,EAAIiC,MAAMC,eAAe,SAAjC,eAGb,sBAAKtC,UAAU,oBAAf,UACI,sBAAKA,UAAU,mBAAmByC,MAAO,CAAEC,gBAAiB,sBAA5D,UACI,8BAAK,mBAAG1C,UAAU,qBAAb,uBACL,8BAAK,mBAAGA,UAAU,qBAAb,yBAGLoD,EAAYD,eAAehD,KACvB,SAACC,EAAKC,GACF,OACI,mCACI,sBAAKL,UAAU,mBAAf,UACI,8BAAK,4BAAKK,EAAQ,MAClB,qBAAKL,UAAU,oBAAf,SAAmC,4BAAKI,EAAIiF,mBAOpE,sBAAKrF,UAAU,0BAA0ByC,MAAO,CAAEC,gBAAiB,sBAAnE,UACI,qBAAK1C,UAAU,OAAf,SAAuB,mBAAGA,UAAU,qBAAb,4BACvB,qBAAKA,UAAU,OAAf,SAAuB,mBAAGA,UAAU,qBAAb,2BACvB,qBAAKA,UAAU,OAAf,SAAuB,mBAAGA,UAAU,qBAAb,+BAE3B,sBAAKA,UAAU,uCAAf,UACI,gCACI,sBAAKA,UAAU,OAAf,UAAuB,mBAAGA,UAAU,0BAAb,qBAAkD,kCAAMI,EAAIkF,YAAV,UACzE,sBAAKtF,UAAU,OAAf,UAAuB,mBAAGA,UAAU,qBAAb,qBAA6C,4BAAKiE,EAAKA,EAAGa,WAAWC,UAAU,EAAE,IAAM,aAElH,gCACI,sBAAK/E,UAAU,OAAf,UAAuB,mBAAGA,UAAU,0BAAb,qBAAkD,kCAAMI,EAAImF,iBAAV,UACzE,sBAAKvF,UAAU,OAAf,UAAuB,mBAAGA,UAAU,qBAAb,qBAA6C,4BAAKoE,EAAKA,EAAGU,WAAWC,UAAU,EAAE,IAAM,aAElH,gCACI,sBAAK/E,UAAU,OAAf,UAAuB,mBAAGA,UAAU,0BAAb,qBAAkD,kCAAMI,EAAIoF,gBAAV,UACzE,sBAAKxF,UAAU,OAAf,UAAuB,mBAAGA,UAAU,qBAAb,qBAA6C,4BAAKsE,EAAKA,EAAGQ,WAAWC,UAAU,EAAE,IAAM,uBAtGhG1E,SC9CxDoF,EAAOC,gBAAM,kBAAM,wDACnBC,EAAOD,gBAAM,kBAAM,kCACnBE,EAAkBF,gBAAM,kBAAM,kCAC9BG,EAAQH,gBAAM,kBAAM,kCAwiDXI,UAtiDO,WAGlB,MAAgC7C,mBAAS,IAAzC,mBAAO8C,EAAP,KAAiBC,EAAjB,KAGA,EAAgC/C,oBAAU,GAA1C,mBAAOgD,EAAP,KAAiBC,EAAjB,KAEA,EAAkCjD,oBAAS,GAA3C,mBAAOkD,EAAP,KAEA,GAFA,KAEgClD,mBAAS,KAAzC,mBAAOmD,EAAP,KAAiBC,EAAjB,KACA,EAAkCpD,mBAAS,IAA3C,mBAAOqD,EAAP,KAAkBC,EAAlB,KACA,EAAkCtD,mBAAS,IAA3C,mBAAOuD,EAAP,KAAkBC,EAAlB,KACA,EAA8CxD,mBAAS,IAAvD,mBAAOyD,EAAP,KAAwBC,EAAxB,KACA,EAAkD1D,mBAAS,IAA3D,mBAAO2D,EAAP,KAA0BC,EAA1B,KACA,EAAsC5D,mBAAS,IAA/C,mBAAO6D,EAAP,KAAoBC,GAApB,KAGA,GAAwB9D,mBAAS,GAAjC,qBAAOK,GAAP,MAAa0D,GAAb,MACA,GAAgC/D,mBAAS,GAAzC,qBAAOgE,GAAP,MAAiBC,GAAjB,MACA,GAA4BjE,mBAAS,IAArC,qBAAOkE,GAAP,MAAeC,GAAf,MAEA,GAAoDnE,mBAChD,CACIoE,QAAS,CACLC,aAAc,EACdlF,aAAc,GACdmF,gBAAiB,IAErBC,SAAU,CACNC,cAAe,EACf5E,cAAe,GACf6E,eAAgB,GAChBC,iBAAkB,IAEtBC,OAAQ,CACJP,QAAS,CACLC,aAAc,EACdlF,aAAc,GACdmF,gBAAiB,IAErBC,SAAU,CACNC,cAAe,EACf5E,cAAe,GACf6E,eAAgB,GAChBC,iBAAkB,KAG1BE,QAAS,GACTC,SAAU,GACVC,IAAK,EACLC,QAAS,EACTC,OAAQ,EACR5F,MAAO,IA/Bf,qBAAO6F,GAAP,MAA2BC,GAA3B,MAmCA,GAA0BlF,mBAAS,IAAnC,qBAAOmF,GAAP,MAAcC,GAAd,MACA,GAA4BpF,mBAAS,GAArC,qBAAOqF,GAAP,MAAeC,GAAf,MACA,GAA0BtF,mBAAS,GAAnC,qBAAOuF,GAAP,MAAcC,GAAd,MACA,GAA0BxF,qBAA1B,qBAAOyF,GAAP,MAAcC,GAAd,MAEA,GAAgC1F,oBAAS,GAAzC,qBAAO2F,GAAP,MAAiBC,GAAjB,MAEA,GAAwB5F,mBAAS,CAC7B+B,YAAa,GACbK,OAAQ,GACRH,MAAO,EACP4D,YAAa,KACb3D,IAAK,GACLF,SAAU,IANd,qBAAO8D,GAAP,MAAaC,GAAb,MASA,GAA8B/F,mBAAS,aAAvC,qBAAOgG,GAAP,MAAgBC,GAAhB,MACA,GAA0CjG,oBAAS,GAAnD,qBAAOkG,GAAP,MAAsBC,GAAtB,MAGA,GAA0DnG,mBACtD,CACIC,KAAM,GACNC,eAAgB,GAChB0E,QAAS,KAJjB,qBAAQwB,GAAR,MAA8BC,GAA9B,MAQA,GAAwBrG,mBAAS,GAAjC,qBAAasG,IAAb,aAEA,GAA8BtG,mBAAS,IAAvC,qBAAOuG,GAAP,MAAgBC,GAAhB,MAEA,GAAwCxG,mBAAS,IAAjD,qBAAQyG,GAAR,MAAqBC,GAArB,MAEA,GAAwC1G,mBAAS,IAAjD,qBAAQ2G,GAAR,MAAqBC,GAArB,MAEMC,GAAOC,aAAa,SAAEC,GAAF,OAAaA,EAAMC,QAAQC,gBAG/CC,GAAUC,cAGhBvK,qBACI,WAGSsH,GAAOjH,OAAS,GAGjBJ,IAAE,aAAaM,IAAK+G,IAInBe,GAAmBJ,SAAS5H,OAAS,GAGtCJ,IAAE,oBAAoBM,IAAK8H,GAAmBJ,UAGlD,IAAI/E,EAAQsH,OAAO7C,SAAS/G,KAAK6J,MAAM,KAAKC,MAAMD,MAAM,OAAOC,MAEzDC,MAAOC,SAAU1H,KAGnBQ,IAAMC,KACF,iBACA,CACIT,MAAOA,IAEbU,MACE,SAAEC,GAEEH,IAAMC,KACF,2BACA,CACIV,MAAOY,EAAIzD,KAAK,GAAKyD,EAAIzD,KAAK,GAAG6C,MAAQ,KACzCC,MAAOA,IAEbU,MACE,SAACC,GAEG+F,GAAY/F,EAAIzD,KAAK,IAErB,IAAIyK,EAAShH,EAAIzD,KAAK,GACjByD,EAAIzD,KAAK,GAAG,KAEbyK,EAAO,GAAG7F,QAAUnB,EAAIzD,KAAK,GAAG,GAAG4E,SAGvCyE,GAAwB,2BAEbD,IAFY,IAGfnG,KAAMwH,EACNvH,eAAgBO,EAAIzD,KAAK,GACzB4H,QAASnE,EAAIzD,KAAK,MAIrByD,EAAIzD,KAAK,GAAG,IAEb0J,GAAgBjG,EAAIzD,KAAK,IAE7BsJ,GAASkB,SAAU1H,OAGzBY,OAAM,SAAAC,GAEJC,QAAQC,IAAIF,SASvBkG,GAAKa,SAENC,GAAOd,GAAKa,QAEZE,MAGJ,IAAIC,EAAYT,OAAO7C,SAAS/G,KAAK6J,MAAM,KAAMD,OAAO7C,SAAS/G,KAAK6J,MAAM,KAAKpK,OAAS,GAAIoK,MAAM,SAASC,MAEzC,SAA/DF,OAAO7C,SAAS/G,KAAK6J,MAAM,KAAKC,MAAMD,MAAM,SAASC,MAEtDvE,EACI,CACI,CACIhF,KAAM,0BACNV,IAAK,YACLC,MAAM,EACNE,KAAM,4BAEV,CACIO,KAAM,0BACNV,IAAK,iBACLC,MAAM,EACNI,KAAM,kBAAMoK,OAEhB,CACI/J,KAAM,0BACNV,IAAK,QACLC,MAAM,EACNI,KAAM,kBAAMqK,SAMxBhF,EAFqB,qBAAd8E,GAAkD,mBAAdA,EAGvC,CACI,CACI9J,KAAM,0BACNV,IAAK,YACLC,MAAM,EACNE,KAAM,4BAEV,CACIO,KAAM,0BACNV,IAAK,iBACLC,MAAM,EACNI,KAAM,kBAAMoK,OAEhB,CACI/J,KAAM,0BACNV,IAAK,iBACLC,MAAM,EACNI,KAAM,kBAAMsK,QAOpB,CACI,CACIjK,KAAM,0BACNV,IAAK,YACLC,MAAM,EACNE,KAAM,4BAEV,CACIO,KAAM,0BACNV,IAAK,iBACLC,MAAM,EACNI,KAAM,kBAAMoK,WAO7B,CAAEV,OAAO7C,SAAS/G,OAGzBZ,qBACI,WAESiK,GAAKxC,cAEN4D,IAAOC,GACH,oBAAoB,WAEhBP,GAAOd,GAAKa,aAQzB,CAAEb,GAAKxC,aAAcwC,GAAKa,OAAQxE,IAGzCtG,qBACI,WAGI,IAAImI,EAAyC,KAA/BE,GAAmBF,QAAiB,EAAIoD,WAAYlD,GAAmBF,SACjFC,EAAuC,KAA9BC,GAAmBD,OAAgB,EAAImD,WAAYlD,GAAmBD,QAC/E5F,EAAkB,KAAVmG,GAAe,EAAI4C,WAAY5C,IAEvCpI,EAAG,2BACA8H,IADA,IAEH7F,MAAO2F,EAAUC,EAAS5F,IAG9B8F,GAAuB/H,KAGxB,CAAE8H,GAAmBF,QAASE,GAAmBD,OAAQO,KAGhE3I,qBACI,WAGI,IAAIqF,EAAQkG,WAAYrC,GAAK7D,OACzBD,EAAWwF,SAAU1B,GAAK9D,UAC1BE,EAAMiG,WAAYrC,GAAK5D,OAEtBqF,MAAOtF,IAAWA,EAAQ,KAE3BA,EAAQ,EACR8D,GAAQ,2BAEGD,IAFJ,IAGC7D,MAAO,OAKdsF,MAAOvF,IAAcA,EAAW,KAEjCA,EAAW,EACX+D,GAAQ,2BAEGD,IAFJ,IAGC9D,SAAU,OAKjBuF,MAAOrF,IAASA,EAAM,KAEvBA,EAAM,EACN6D,GAAQ,2BAEGD,IAFJ,IAGC5D,IAAK,OAKS,QAArB4D,GAAKD,aAAqC,cAAZG,IAG/BV,GADiBrD,EAAQD,EAAa,IAAQE,EACxBD,EAAQD,GAI9BsD,GADatD,EAAWC,KAM7B,CAAE6D,GAAK5D,IAAK4D,GAAK9D,SAAU8D,GAAK7D,MAAO+D,KAG9CpJ,qBACI,WAGI,IAAIwL,EAAWD,WAAY5C,IACvBR,EAAUoD,WAAYlD,GAAmBF,SACzCC,EAASmD,WAAYlD,GAAmBD,QACxCF,EAAMqD,WAAYlD,GAAmBH,KAEpCyC,MAAOa,IAGR5C,GADA4C,EAAW,GAGVb,MAAOxC,KAERA,EAAU,EACVG,GAAsB,2BAEXD,IAFU,IAGbF,QAAS,MAIhBwC,MAAOvC,KAERA,EAAS,EACTE,GAAsB,2BAEXD,IAFU,IAGbD,OAAQ,MAIfuC,MAAOzC,KAERA,EAAM,EACNI,GAAsB,2BAEXD,IAFU,IAGbH,IAAK,OAKjB,IAAI3C,EAAWiG,EAAW,IAAQtD,EAClCI,GAAsB,2BAEXD,IAFU,IAGb7F,MAAOgJ,EAAWjG,EAAS6C,EAASD,OAK7C,CAAEE,GAAmBH,IAAKG,GAAmBF,QAASE,GAAmBD,OAAQO,KAIxF,IAAMwC,GAAwB,WAE1Bb,GAAQmB,QAAQ,8BAOdP,GAAwB,WAE1BZ,GAAQmB,QAAQ,6BAKdL,GAAyB,WAG3B,IAAIM,EAAQlB,OAAO7C,SAAS/G,KAAK6J,MAAM,KACnCxH,EAAQyI,EAAM,GACdxI,EAAQwI,EAAM,GAClBpB,GAAQmB,QAAQ,sCAAwCxI,EAAQ,IAAMC,IAKpE8H,GAAkB,WAEpB,IAAMf,EAAO,IAAI0B,SACjBjI,IAAMkI,IAAI,mBAAoB3B,GAAMrG,MAChC,SAACC,GAEG6C,EAAc7C,EAAIzD,SAGxB0D,OACE,SAACC,GAEGC,QAAQC,IAAIF,OAQlBgH,GAAQ,SAAEc,GAEZ,IAAM5B,EAAO,IAAI0B,SACjB1B,EAAK6B,OAAO,QAASD,GACrBnI,IAAMC,KAAK,uBAAwBsG,GAAMrG,MACrC,SAACC,GAEG2C,EAAa3C,EAAIzD,MAEjB,IADA,IAAIiB,EAAM,GACD6C,EAAI,EAAGA,EAAIL,EAAIzD,KAAKC,OAAQ6D,IAGjC7C,EAAI8C,KAAKN,EAAIzD,KAAK8D,GAAG6H,QAGzB7E,GAAgB7F,MAGtByC,OACE,SAACC,GAEGC,QAAQC,IAAIF,OA+BlBiI,GAAe,SAAEvE,GAEnB,IAAIwE,EAAQ,GACRC,EAAU,GACVC,EAAO,GAELzJ,EAAI,IAAI2B,KAKV8H,EAFCzJ,EAAE0J,WAAa,EAET1J,EAAE2J,cAAcpH,WAAWC,UAAU,EAAE,GAAK,KAAQxC,EAAE2J,cAAgB,GAAIpH,WAAWC,UAAU,EAAE,IAG/FxC,EAAE2J,cAAgB,GAAIpH,WAAWC,UAAU,EAAE,GAAK,IAAMxC,EAAE2J,cAAcpH,WAAWC,UAAU,EAAE,GAG5GxB,IAAMC,KAAK,uBAAwB,CAAE8D,aAAcA,IAAgB7D,MAC/D,SAACC,GAEQA,EAAIzD,KAAKC,OAAS,IAEnB4L,EAAQpI,EAAIzD,KAAK,GAAGkM,MAGxB5I,IAAMC,KAAK,aAAc,CAAE8D,aAAcA,IAAgB7D,MACrD,SAACC,GAEG,GAAKA,EAAIzD,KAAKC,OAAS,EACvB,CACI,IAAIiM,GAAS1B,SAAU/G,EAAIzD,KAAK,GAAGmM,QAAQ9B,MAAM,KAAK,IAAO,GAAIxF,WAC5C,IAAhBqH,EAAKjM,SAENiM,EAAO,IAAMA,GAEjBJ,EAAUI,OAGVJ,EAAU,KAGdlF,EAAsBiF,EAAQ,IAAMC,EAAU,IAAMC,MAG1DrI,OACE,SAACC,GAEGC,QAAQC,IAAIF,SAM1BD,OACE,SAACC,GAEGC,QAAQC,IAAIF,OAQlByI,GAAkB,SAAEC,GAEtB,IAzF0BhF,EAyFlBiF,EAAUD,EAAEE,OAAZD,MAGJE,EAAUnG,EAAUoG,QACpB,SAAEtM,GAEE,OAAOA,EAAIkH,eAAiBmD,SAAU8B,MAKzCE,EAAQ,KAGTtE,GAAsB,2BAEXD,IAFU,IAGbb,QAAS,CACLC,aAAcmF,EAAQ,GAAGnF,aACzBlF,aAAcqK,EAAQ,GAAGrK,aACzBmF,gBAAiBkF,EAAQ,GAAGE,YA7GlBrF,EAkHDmF,EAAQ,GAAGnF,aAhHpC/D,IAAMC,KAAK,uBACP,CACI8D,aAAcA,GAA8BwC,GAAKxC,eAEvD7D,MAAK,SAAAC,GAGHmI,GAAcvE,GAGdb,EAAc/C,EAAIzD,SAEnB0D,OAAM,SAAAC,GAELC,QAAQC,IAAIF,QAwGdgJ,GAAmB,SAAEN,GAEvB,IAAQC,EAAUD,EAAEE,OAAZD,MAGJM,EAAWrG,EAAUkG,QACrB,SAAEtM,GAEE,OAAOA,EAAIqH,gBAAkBgD,SAAU8B,MAM/CpE,GAAsB,2BAEXD,IAFU,IAGbV,SAAU,CACNC,cAAeoF,EAAS,GAAGpF,cAC3B5E,cAAegK,EAAS,GAAGhK,cAC3B8E,iBAAkBkF,EAAS,GAAGC,QAC9BpF,eAAgBmF,EAAS,GAAGnF,oBAQtCqF,GAAwB,SAAET,GAE5B,IAAQC,EAAUD,EAAEE,OAAZD,MAGJE,EAAUnG,EAAUoG,QACpB,SAAEtM,GAEE,OAAOA,EAAIkH,eAAiBmD,SAAU8B,MAK9ChJ,IAAMC,KAAK,uBACP,CACI8D,aAAcmF,EAAQ,GAAGnF,eAE/B7D,MAAK,SAAAC,GAGHyE,GAAsB,2BAEXD,IAFU,IAGbN,OAAO,2BACAM,GAAmBN,QADpB,IAEFP,QAAS,CACLC,aAAcmF,EAAQ,GAAGnF,aACzBlF,aAAcqK,EAAQ,GAAGrK,aACzBmF,gBAAiBkF,EAAQ,GAAGE,cAO5ChG,EAAoBjD,EAAIzD,SAEzB0D,OAAM,SAAAC,GAELC,QAAQC,IAAIF,OAOdoJ,GAAyB,SAAEV,GAE7B,IAAQC,EAAUD,EAAEE,OAAZD,MAGJM,EAAWnG,EAAgBgG,QAC3B,SAAEtM,GAEE,OAAOA,EAAIqH,gBAAkBgD,SAAU8B,MAM/CpE,GAAsB,2BAEXD,IAFU,IAGbN,OAAO,2BACAM,GAAmBN,QADpB,IAEFJ,SAAU,CACNC,cAAeoF,EAAS,GAAGpF,cAC3B5E,cAAegK,EAAS,GAAGhK,cAC3B8E,iBAAkBkF,EAAS,GAAGC,QAC9BpF,eAAgBmF,EAAS,GAAGnF,sBAS1CuF,GAAY,SAAE7M,GAEhB,IAAIc,EAAMgH,GAAmBL,QAC7B3G,EAAI8C,KAAM5D,GAEV+H,GAAsB,2BAEXD,IAFU,IAGbL,QAAS3G,MAOfgM,GAAe,SAAEjL,GAEnB,IAAIkL,EAAUjF,GAAmBL,QAAQ6E,QACrC,SAAEtM,GAEE,OAAOA,EAAIgN,aAAenL,KAKlCkG,GAAsB,2BAEXD,IAFU,IAGbL,QAASsF,MAOfE,GAAa,SAAEf,GAGjB,IAAQC,EAAUD,EAAEE,OAAZD,MAEJnM,EAAG,2BACA8H,IADA,IAEHJ,SAAUyE,IAGdpE,GAAuB/H,IAKrBkN,GAAkB,SAAChB,GACrB,MAAwBA,EAAEE,OAAlBvK,EAAR,EAAQA,KAAMsK,EAAd,EAAcA,MAEVgB,GAAO,EAUX,GATc,aAATtL,GAAgC,UAATA,GAA6B,QAATA,IAEvCsK,EAAQ,IAAgB,IAAXA,GAA0B,OAAVA,KAE9BiB,GAAkB,iCAAkC,cACpDD,GAAO,GAIVA,EACL,CACI,IAAMnN,EAAG,2BACJ2I,IADI,kBAEN9G,EAAOsK,IAKV,GAFAvD,GAAQ5I,GAEK,gBAAT6B,EAAwB,CAExB,IAAIwL,EAAQC,SAASC,eAAe,OACrB,QAAVpB,GAEDkB,EAAMG,UAAW,EACjBxE,IAAkB,GAClBjB,GAAsB,2BAEXD,IAFU,IAGbH,IAAK,GACL1F,MAAOmI,MAAOY,WAAY5C,KAAY,EAAI4C,WAAY5C,SAK9DQ,GAAQ,2BAEGD,IAFJ,IAGCD,YAAa,KACb3D,IAAK,MAGbsI,EAAMG,UAAW,EACjBxE,IAAkB,OAU5ByE,GAAU,SAACvB,GACb,GACkB,KAAdA,EAAEwB,SAAuC,KAArB/E,GAAK/D,aAAsC,KAAhB+D,GAAK1D,QAAiB0D,GAAK9D,SAAW,GAAK8D,GAAK7D,MAAQ,EAGvG,GAAI6D,GAAK1D,OAAOnF,OAAS,GAAI,CAAC,IAEtBE,EAAMN,IAAE,eAAeM,MAEvB2N,EAAI,EACJzN,EAAM,+CACN0N,EAAQ,GACZ5N,EAAM,GAEN,SAAS6N,IACDF,EAAIzN,EAAIJ,SACRE,GAAOE,EAAI4N,OAAOH,GAClBjO,IAAE,eAAeqO,KAAK/N,GACtB2N,IACAK,WAAWH,EAAYD,IAI/BC,GAEAG,YAAW,WACPtO,IAAE,eAAeqO,KAAK,MACvB,UAIH,GAAyB,QAArBpF,GAAKD,aAAiD,MAAxBC,GAAK5D,IAAIL,WACvC0I,GAAkB,eAAgB,kBAC/B,CACH,GAAK5E,GAoCE,CACH,IAAI1H,EAAMkH,GACNiG,EAAO,GAEPA,EADAtF,GAAK2C,GACE,CACHA,GAAI3C,GAAK2C,GACT5I,MAAOiG,GAAKjG,MACZkC,YAAa+D,GAAK/D,YAClBK,OAAQ0D,GAAK1D,OACbH,MAAO6D,GAAK7D,MACZD,SAAU8D,GAAK9D,SACf6D,YAAaC,GAAKD,YAClB3D,IAAK4D,GAAK5D,IACVC,OAAQkD,IAGL,CACHtD,YAAa+D,GAAK/D,YAClBK,OAAQ0D,GAAK1D,OACbH,MAAO6D,GAAK7D,MACZD,SAAU8D,GAAK9D,SACf6D,YAAaC,GAAKD,YAClB3D,IAAK4D,GAAK5D,IACVC,OAAQkD,IAGhBG,GAAWD,GAAQtH,EAAIwH,IAAOtD,OAAWkD,IAEzCpH,EAAIwH,IAAS2F,EACbhG,GAASnH,GAETqH,GAAU,GACVzI,IAAE,UAAUM,IAAI,MAChB4I,GAAQ,CACJhE,YAAa,GACbK,OAAQ,GACRH,MAAO,EACP4D,YAAa,KACb3D,IAAK,GACLF,SAAU,IAEd4D,IAAY,GACZF,KACA7I,IAAE,uDAAuDe,YAAY,UACzD6M,SAASC,eAAe,OAC9BC,UAAW,MAjFN,CACX,IAAIS,EAAO,CACPrJ,YAAa+D,GAAK/D,YAClBK,OAAQ0D,GAAK1D,OACbH,MAAO6D,GAAK7D,MACZD,SAAU8D,GAAK9D,SACf6D,YAAaC,GAAKD,YAClB3D,IAAK4D,GAAK5D,IACVC,OAAQkD,IAEZD,GAAS,GAAD,mBAAKD,IAAL,CAAYiG,KAEpB9F,GAAU,GACVzI,IAAE,UAAUM,IAAI,MAChB4I,GAAQ,CACJhE,YAAa,GACbK,OAAQ,GACRH,MAAO,EACP4D,YAAa,KACb3D,IAAK,GACLF,SAAU,IAGd,IAAIqJ,EAAI9F,GAGRC,GAFA6F,GAAQhG,IAIR,IAAIiG,EAASb,SAASC,eAAe,aACtB,OAAXY,IACAA,EAAOC,UAAYD,EAAOE,cAGlBf,SAASC,eAAe,OAC9BC,UAAW,EAoDrB9N,IAAE,2BAA2B4O,OAC7B5O,IAAE,8BAA8B6O,UAU1CC,GAAS,SAACvO,GACZwI,IAAY,GACZF,GAAStI,GAEiB,KAArB+H,GAAM/H,GAAO8E,KAEdrF,IAAE,UAAUM,IAAI,OAEpBmI,GAAUH,GAAM/H,GAAO+E,QACvB4D,GAAQZ,GAAM/H,IAEdP,IAAE,uDAAuDe,YAAY,UACrEf,IAAE,sDAAwDO,GAAOwO,YAAY,WAI3EC,GAAW,SAACpD,GAEdrD,GACID,GAAMsE,QAAO,SAACtM,EAAKC,GACf,OAAOA,IAAUqL,MAIzBjD,GAASD,GAAQJ,GAAMsD,GAAItG,SAIzB2J,GAAsB,WAExB,IAAIxB,GAAO,EA+CX,GA9CiD,IAA5CrF,GAAmBb,QAAQC,cAE5BkG,GAAkB,sBAAuB,cACzCD,GAAO,GAEwC,IAA9CrF,GAAmBV,SAASC,eAE7B+F,GAAkB,uBAAwB,cAC1CD,GAAO,GAE6C,IAAnDrF,GAAmBN,OAAOP,QAAQC,cAEnCkG,GAAkB,8BAA+B,cACjDD,GAAO,GAE+C,IAArDrF,GAAmBN,OAAOJ,SAASC,eAEpC+F,GAAkB,+BAAgC,cAClDD,GAAO,GAEgC,IAAtCrF,GAAmBL,QAAQ3H,QAE5BsN,GAAkB,kBAAmB,cACrCD,GAAO,GAEW,IAAjBnF,GAAMlI,QAEPsN,GAAkB,iBAAkB,cACpCD,GAAO,GAEiC,IAAvCrF,GAAmBJ,SAAS5H,QAE7BsN,GAAkB,wBAAyB,cAC3CD,GAAO,GAEiB,IAAvB7D,GAAYxJ,QAEbsN,GAAkB,4CAA6C,cAC/DD,GAAO,GAEN3E,KAED4E,GAAkB,gGAAiG,cACnHD,GAAO,GAGNA,EACL,CACI,IAAMnN,EAAM,CACR4O,YAAa9G,GACb/E,eAAgBiF,GAChB6G,WAAYnF,GAAKa,OACjBwB,KAAMvF,EACNqC,QAASA,GACT3F,KAAMA,IAEJ4L,EAAI,IAAI1D,SACd0D,EAAEvD,OAAO,OAAQwD,KAAKC,UAAWhP,IACjCsJ,GAAY2F,SAAQ,SAAAC,GAChBJ,EAAEvD,OAAO,cAAe2D,EAAKA,SAGjC/L,IAAMC,KACF,sBACA0L,GACFzL,MACE,WAEI+J,GAAkB,oBAAqB,cACvCY,YAAW,WACPjE,GAAQmB,QAAQ,mBAChB8C,YAAW,WACPjE,GAAQmB,QAAQ,8BACjB,OACJ,KAEHJ,IAAOqE,KAAK,oBAEZ,IAAMC,EAAQ,IAAIhE,SAClBgE,EAAM7D,OAAO,SAAUwD,KAAKC,UAAU,CAAC,IAAK,IAAK,KACjD7L,IAAMC,KAAK,yBAA0BgM,GAAO/L,MACxC,SAACC,GAEG,GAAIA,EAAIzD,KAAK,GACT,IADc,IAAD,WACJ8D,GAELmH,IAAOqE,KAAK,kBAAmB7L,EAAIzD,KAAK8D,GAAG4G,QAC3C,IAAM8E,EAAQ,IAAIjE,SAClBiE,EAAM9D,OAAO,UAAW,GACxB8D,EAAM9D,OAAO,OAAQ,IACrB8D,EAAM9D,OAAO,aAAcjI,EAAIzD,KAAK8D,GAAG4G,QACvC8E,EAAM9D,OAAO,WAAY+D,eAAeC,QAAQ,UAChDF,EAAM9D,OAAO,QAAS+D,eAAeC,QAAQ,SAC7CF,EAAM9D,OAAO,mBAAoB+D,eAAeC,QAAQ,QAAU,6DAA+D/I,GACjIrD,IAAMC,KAAK,mBAAoBiM,GAAOhM,MAAK,WAEvCF,IAAMC,KAAK,YAAaiM,GAAOhM,MAAK,mBAZnCM,EAAI,EAAGA,EAAIL,EAAIzD,KAAKC,OAAQ6D,IAAM,EAAlCA,SAyB3BJ,OACE,SAACC,GAEGC,QAAQC,IAAIF,GACZ4J,GAAkB,iBAAkB,mBAS9CoC,GAAmB,SAAEtD,GAEvB,GAAmB,KAAdA,EAAEwB,QACP,CAEI,IAAQvB,EAAUD,EAAEE,OAAZD,MAERhJ,IAAMC,KAAK,cACP,CACIqB,QAAS0H,IAEf9I,MAAK,SAAAC,GAGH,IAAMmM,EAAW,WACbrC,GAAkB,YAAa,cAC/BnF,GAAS,IACTI,GAAS,GACTzB,GAAS,GACTI,GAAU,KAGT1D,EAAIzD,KAAKC,OAAS,GAEdwD,EAAIzD,KAAK,GAAGC,OAAS,GAEtBmI,GAAU3E,EAAIzD,KAAK,IAEnBwI,GAAU/E,EAAIzD,KAAK,GAAG,GAAGoC,OAEzB8F,GAAsB,2BAEXD,IAFU,IAGb7F,MAAOqB,EAAIzD,KAAK,GAAG,GAAGoC,SAG9B2E,GAAStD,EAAIzD,KAAK,GAAG,GAAG6C,OACxBsE,GAAWmF,GACXiB,GAAkB,YAAa,eAOnCqC,OAGLlM,OAAM,SAAAC,GAELC,QAAQC,IAAIF,QAUlBkM,GAA2B,SAAExD,GAE/B,MAAwBA,EAAEE,OAAlBvK,EAAR,EAAQA,KAAMsK,EAAd,EAAcA,MACRnM,EAAG,2BACF8H,IADE,kBAEJjG,EAAOsK,IAGZpE,GAAuB/H,IAKrB2P,GAAwB,SAAEzD,GAG5B,IAAQC,EAAUD,EAAEE,OAAZD,MAGJlK,EAAQ+I,WAAY5C,IACpBT,EAAMqD,WAAYlD,GAAmBH,KACrCC,EAAyC,KAA/BE,GAAmBF,QAAiB,EAAIoD,WAAWlD,GAAmBF,SAChFC,EAAuC,KAA9BC,GAAmBD,OAAgB,EAAImD,WAAWlD,GAAmBD,QAElF,GAAe,cAAVsE,GAmBD,GAhBK/B,MAAOnI,KAERA,EAAQ,EACRoG,GAAS,IAER+B,MAAOzC,KAERA,EAAM,EACNI,GAAsB,2BAEXD,IAFU,IAGbH,IAAK,OAKS,OAArBgB,GAAKD,YACV,CAEI,IAAI1D,EAAW/C,EAAQ,IAAQ0F,EAC/BI,GAAsB,2BAEXD,IAFU,IAGb7F,MAAO+C,EAAS/C,EAAQ2F,EAAUC,UAKlD,CAEI,IAAI5F,EAAkB,KAAVmG,GAAe,EAAI4C,WAAW5C,IAEtCpI,EAAG,2BACA8H,IADA,IAEH7F,MAAO2F,EAAUC,EAAS5F,IAG9B8F,GAAsB/H,KAOxB4P,GAAoB,SAAE1D,GAExB,IAAQC,EAAUD,EAAEE,OAAZD,MACRrD,GAAWqD,IAKTiB,GAAmB,SAAEyC,EAAOC,GAE9BC,IAAMC,KAAKH,EAAKnL,WAAY,CACxBoL,SAAUA,EACVG,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,KAMZC,GAAgB,SAAEtE,GAEpB,IAAMuE,EAAS,IAAIC,WACXC,EAAUzE,EAAEE,OAAZuE,MAERF,EAAOG,OAAS,WAEZ,GAA0B,IAAtBH,EAAOI,WAAkB,CAIzB,IAHA,IAAI/P,EAAM,GAGD6C,EAAI,EAAGA,EAAIgN,EAAM7Q,OAAQ6D,IAC9B7C,EAAI8C,KACA,CACI/B,KAAM8O,EAAMhN,GAAG9B,KACfqN,KAAMyB,EAAMhN,KAKxB4F,GAAgBzI,KAOpB6P,EAAM,IACNF,EAAOK,cAAcH,EAAM,KAM7BI,GAAc,SAAEzF,GAElB,IAAI0F,EAAQ,GAGRA,EAFC1H,GAAY,GAAG2H,MAER3H,GAAYgD,QAChB,SAAEtM,EAAKC,EAAOa,GAEZ,OAAOA,EAAIb,GAAOgR,QAAUnQ,EAAIwK,GAAI2F,SAMlC3H,GAAYgD,QAChB,SAAEtM,EAAKC,EAAOa,GAEZ,OAAOA,EAAIb,GAAO4B,OAASf,EAAIwK,GAAIzJ,QAO7C4H,GAAgBuH,IAKdE,GAAa,SAAE5F,GAEjB,IAAI0F,EAAQ1H,GAAYgD,QACpB,SAAEtM,EAAKC,EAAOa,GAEZ,OAAOA,EAAIb,GAAO4B,OAASf,EAAIwK,GAAIzJ,QAKzC0H,GAAgByH,GAChBvH,GAAe,KAMb0H,GAAY,SAAEzO,GAEhBoE,GAAapE,GACboD,GAAcD,IAIZuL,GAAmB,WAErB1R,IAAE,8CAA8C+O,YAAY,WAC5D/O,IAAE,oBAAoB+O,YAAY,WAClC/O,IAAE,2EAA2E2R,OAAO,SAIxF,OAGI,cADA,CACA,OAAKzR,UAAU,yBAAf,UACI,cAAC,IAAD,IAGA,cAAC0R,EAAA,EAAD,CACIC,KAAO1L,EACP2L,KACI,WACI1L,GAAcD,GACdiB,GAAY,IAGpB2K,QAEiB,IAAb5K,GAES,IAAT3D,GAEA,KAEA,cAAC,EAAD,CACIA,KAAOA,KAGX,cAAC,EAAD,CACIA,KAAO2D,OAMnB,qBAAKxE,MAAQ,CAAEqP,OAAQ,QAAvB,SACI,cAACnS,EAAA,EAAD,CAAMM,KAAO8F,MAKjB,sBAAK/F,UAAU,oBAAf,UAII,sBAAKA,UAAU,8BAAf,UACI,wBAAQA,UAAU,sBAAsBU,QAAU8Q,GAAlD,SACI,mBAAGxR,UAAU,sBAKO,IAApBoG,EAASlG,OAET,mCACI,oBAAIF,UAAU,cAAd,gCAGJoG,EAASjG,KACL,SAAEC,EAAKC,GAEH,IAAMkC,EAAI,IAAI2B,KAAM9D,EAAImE,cACpBjE,EAAMF,EAAIwL,OAEVjJ,EAAU,cAgBd,MAdmB,aAAfvC,EAAIwL,QAAwC,cAAfxL,EAAIwL,SACjCjJ,EAAU,iBACVrC,EAAM,wBAGS,aAAfF,EAAIwL,SACJjJ,EAAU,gBACVrC,EAAM,wBAGS,yBAAfF,EAAIwL,SACJjJ,EAAU,kBAIV,cAAC,EAAD,CACItC,MAAQA,EACRJ,KAAOG,EACPmC,EAAIA,EACJjC,IAAMA,EACNqC,QAAUA,UAYlC,sBAAK3C,UAAU,0BAAf,UACI,wBAAQA,UAAU,6CAA6CU,QAAU8Q,GAAzE,SACI,mBAAGxR,UAAU,+BAGjB,eAAC,WAAD,CAAU+R,SAAW,8CAArB,UAGI,cAAC,IAAD,CACIC,OAAK,EACLC,KAAK,2BACLC,OACI,kBACI,cAACzM,EAAD,CACI0M,YAAc/L,EACdgM,cAAgBhM,EAASlG,OACzB4G,YAAcA,EAEduL,QAAUvI,QAK1B,cAAC,IAAD,CACIkI,OAAK,EACLC,KAAK,2BACLC,OACI,kBACI,cAACvM,EAAD,CACIW,UAAYA,EACZE,UAAYA,EACZE,gBAAkBA,EAClBwB,mBAAqBA,GACrB4B,KAAOA,GACP1B,MAAQA,GACRW,KAAOA,GACPP,MAAQA,GACRF,OAASA,GACT1B,kBAAoBA,EACpBqC,QAAUA,GACVE,cAAgBA,GAChBhC,OAASA,GACTuB,MAAQA,GAERmF,QAAUA,GACVe,OAASA,GACTE,SAAWA,GACXzC,gBAAkBA,GAClBO,iBAAmBA,GACnBG,sBAAwBA,GACxBC,uBAAyBA,GACzBC,UAAYA,GACZC,aAAeA,GACfG,WAAaA,GACbC,gBAAiBA,GACjByB,oBAAsBA,GACtBa,iBAAmBA,GACnBE,yBAA2BA,GAC3BC,sBAAwBA,GACxBC,kBAAoBA,GACpB/J,SAAW,kBAAMC,GAAcD,SAK/C,cAAC,IAAD,CACI+L,OAAK,EACLC,KAAK,+CACLC,OACI,kBACI,cAACtM,EAAD,CACIyD,qBAAuBA,GAGvBkI,UAAYA,QAO5B,cAAC,IAAD,CACIS,OAAK,EACLC,KAAK,4BACLC,OACI,kBACI,cAACrM,EAAD,CACI2D,QAAUA,GACVE,YAAcA,GACdE,YAAcA,GAEdgH,cAAgBA,GAChBO,YAAcA,GACdG,WAAaA,QAO7B,cAAC,IAAD,CACIU,OAAK,EACLC,KAAK,6CACLC,OACI,kBACI,cAACrM,EAAD,CACI2D,QAAUA,GACVE,YAAcA,GACdE,YAAcA,GAEdgH,cAAgBA,GAChBO,YAAcA,GACdG,WAAaA,sB,gCChjDrD,sBAkBeI,IAfD,SAAE9R,GACZ,OACI,mCACI,sBAAKI,UAAU,yBAAyByC,MAAQ,CAAE6P,QAAS1S,EAAM+R,KAAO,OAAS,QAAjF,UACI,qBAAK3R,UAAU,OAAOU,QAAUd,EAAMgS,OAEtC,qBAAKnP,MAAQ,CAAE8P,eAAgB,MAAgBzN,WAAa,KAAQ9E,UAAYJ,EAAM+R,KAAO,iEAAmE,iCAAhK,SAEQ/R,EAAMiS,iB","file":"static/js/27.08187376.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport './Menu.css';\r\nimport $ from \"jquery\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Menu = (props) => {\r\n\r\n    useEffect(\r\n        () => {\r\n            $('.Speeddail_Grid').slideToggle(0);\r\n        }, []\r\n\r\n    )\r\n    const ShowMenuGrid = () => {\r\n        $('.Menu_Speeddail .Speeddail_Grid').slideToggle(200);\r\n        \r\n        if ( $('.Menu_Speeddail .Menu_Speeddail_circle .las').hasClass('la-bars') )\r\n        {\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').removeClass('la-bars');\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').addClass('la-times');\r\n        }else\r\n        {\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').removeClass('la-times');\r\n            $('.Menu_Speeddail .Menu_Speeddail_circle .las').addClass('la-bars');      \r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"Menu\">\r\n                {\r\n                    props.data.length > 0\r\n                        ?\r\n                        <>\r\n                            <div className=\"Menu_Grid\">\r\n                                {\r\n                                        props.data.map(\r\n                                            (val, index) => {\r\n                                                return (\r\n                                                    <>\r\n                                                        {\r\n                                                            val.txt\r\n                                                            ?\r\n                                                            val.link ?\r\n                                                                <Link to={val.href}>\r\n                                                                    <button><p className=\"font-weight-bolder mb-0\">{val.txt}</p></button>\r\n                                                                </Link>\r\n                                                            :\r\n                                                                <button onClick={ () => val.func() }><p className=\"font-weight-bolder mb-0\">{val.txt}</p></button>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </>\r\n                                                )\r\n                                            }\r\n                                        )\r\n                                    }\r\n                            </div>\r\n                            <div className=\"Menu_Speeddail\">\r\n                                <div className=\"Menu_Speeddail_circle\" onClick={ShowMenuGrid}>\r\n                                    <i class=\"las la-times\"></i>\r\n                                </div>\r\n                                <div className=\"Speeddail_Grid\">\r\n                                    {\r\n                                        props.data.map(\r\n                                            (val, index) => {\r\n\r\n                                                return (\r\n                                                    <>\r\n                                                        {\r\n                                                            val.txt\r\n                                                            ?\r\n                                                            val.link ?\r\n                                                                <Link to={val.href}>\r\n                                                                    <div key={index}>\r\n                                                                        <div className={ \"mb-1 Speeddail_Grid1 divs\" + index }><i className={val.icon}></i></div>\r\n                                                                        <p>{val.txt}</p>\r\n                                                                    </div>\r\n                                                                </Link>\r\n                                                                :\r\n                                                                <div className=\"clicks\" key={index} onClick={ () => val.func() }>\r\n                                                                    <div className={ \"mb-1 Speeddail_Grid1 divs\" + index }><i className={val.icon}></i></div>\r\n                                                                    <p>{val.txt}</p>\r\n                                                                </div>\r\n                                                            :\r\n                                                            null\r\n                                                        }\r\n                                                    </>\r\n                                                )\r\n                                            }\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                        :\r\n                        null\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Menu;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Request.css';\r\n\r\nconst Request = ( props ) => {\r\n    return (\r\n        <div className=\"PreviousPORequest\">\r\n            <div className=\"d-flex align-items-center justify-content-between\">\r\n                <div className=\"d-flex align-items-center w-75\">\r\n                    <img src={ 'images/employees/' + props.data.emp_image } alt=\"employeeImg\" />\r\n                    <div>\r\n                        <p className=\"font-weight-bolder\"> { props.data.name } </p>\r\n                        <p> { props.data.designation_name } in { props.data.department_name }, { props.data.company_name } </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"w-25\">\r\n                    <p className=\"font-weight-bolder\">Total</p>\r\n                    <p> Rs { props.data.total.toLocaleString('en-US') }</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"py-3\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <div>\r\n                        <p className=\"font-weight-bolder\">Date</p>\r\n                        <p> { props.d.toDateString() } </p>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"font-weight-bolder\">Status</p>\r\n                        <p style={{ backgroundColor: props.bgColor, fontSize: '10px' }} className=\"text-white text-center rounded-pill px-2\"> { props.txt } </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex align-items-center\">\r\n                <i className=\"las la-map-marker-alt\"></i>\r\n                <div>\r\n                    <p className=\"font-weight-bolder\"> { props.data.company_name } </p>\r\n                    <p> { props.data.location_name } </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"ViewPrRequests_button\">\r\n                <Link to={\"/purchaseorder/view=previousrequests/\" + props.data.pr_id + '/' + props.data.po_id}>\r\n                    <button className=\"btn\">View</button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Request;","export default __webpack_public_path__ + \"static/media/QFS-LOGO.a4ccc54a.PNG\";","export default __webpack_public_path__ + \"static/media/SEABOARD-SERVICES.b1cc0596.PNG\";","export default __webpack_public_path__ + \"static/media/SBL-LOGO.3e8ecf8d.PNG\";","import React, { useEffect, useState } from \"react\";\r\n\r\nimport './PR_printUI.css';\r\n\r\nimport QFS from './Logos/QFS-LOGO.PNG';\r\nimport SBS from './Logos/SEABOARD-SERVICES.PNG';\r\nimport SBL from './Logos/SBL-LOGO.PNG';\r\n\r\nimport axios from '../../../../../../../axios';\r\n\r\nconst PR_printUI = ( props ) => {\r\n\r\n    const [ListDetails, setListDetails] = useState(\r\n        {\r\n            info: [],\r\n            specifications: []\r\n        }\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            let pr_id = props.PrID; // RETURNS AN ID ( PR ID )\r\n\r\n            axios.post(\r\n                '/getpurchaseorderdetails',\r\n                {\r\n                    pr_id: pr_id,\r\n                    po_id: null\r\n                }\r\n            ).then(\r\n                (res) => {\r\n                    \r\n                    setListDetails(\r\n                        {\r\n                            info: res.data[4],\r\n                            specifications: res.data[5]\r\n                        }\r\n                    )\r\n\r\n                }\r\n            ).catch(err => {\r\n\r\n                console.log(err);\r\n\r\n            })\r\n\r\n        }, [ props.PrID ]\r\n    )\r\n\r\n    let num = 20;\r\n    let arr = [];// [ 15, 30, 45, 60, 75, 90, 105, 120, 135, 150 ];\r\n\r\n    for (let x = 1; x <= 12; x++) {\r\n        arr.push(x * num);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                ListDetails.info.map(\r\n                    ( val, index ) => {\r\n\r\n                        const d1 = new Date( val.approve_date );\r\n                        const d2 = new Date( val.discard_date );\r\n                        const d3 = new Date( val.request_date );\r\n\r\n                        return (\r\n                            <div className=\"PR_printUI\" key={ index }>\r\n                                <div className=\"PR_printUI_Div\">\r\n                                    <h1 className=\" font-weight-bolder text-center\">Seaboard Group</h1>\r\n                                    <div className=\"PR_printUI_Logos\">\r\n                                        <div><img src={QFS} alt=\"QFS Logo\" /></div>\r\n                                        <div><img src={SBS} alt=\"SBS Logo\" /></div>\r\n                                        <div><img src={SBL} alt=\"SBL Logo\" /></div>\r\n                                    </div>\r\n                                    <h3 className=\"font-weight-bolder text-center\" >Purchase Requisition</h3>\r\n                                    <div className=\"PR_printUI_Top mt-5\">\r\n                                        <div>\r\n                                            <div className=\"d-flex\">\r\n                                                <p className=\"font-weight-bolder mr-3\">Comapny Name : </p>\r\n                                                <p> { val.pr_company_name } </p>\r\n                                            </div>\r\n                                            <div className=\"d-flex\">\r\n                                                <p className=\"font-weight-bolder mr-3\">Delivery / Work Location : </p>\r\n                                                <p> { val.location_name } </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div style={ { width: '40%' } }>\r\n                                            <div className=\"d-flex border py-1\">\r\n                                                <div className=\"border-right w-50 text-center\"><p className=\"font-weight-bolder\">PR Number  </p></div>\r\n                                                <div className=\"text-center w-50\"><p> { val.pr_code } </p></div>\r\n                                            </div>\r\n                                            <div className=\"d-flex border py-1\">\r\n                                                <div className=\"border-right w-50 text-center\"><p className=\"font-weight-bolder\">Date  </p></div>\r\n                                                <div className=\"text-center w-50\"><p> { d1 ? d1.toString().substring(0,15) : null } </p></div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"PR_printUI_Middle\">\r\n                                        <div className=\"PR_printUI_Grid\" style={{ backgroundColor: \"rgb(243, 243, 243)\" }}>\r\n                                            <div><p className=\"font-weight-bolder\">Sr: No:</p></div>\r\n                                            <div><p className=\"font-weight-bolder\">Description</p></div>\r\n                                            <div><p className=\"font-weight-bolder\">Quantity</p></div>\r\n                                            <div><p className=\"font-weight-bolder\" >Estimated Cost</p></div>\r\n                                            <div><p className=\"font-weight-bolder\" >Tax</p></div>\r\n                                            <div><p className=\"font-weight-bolder\">Total Cost</p></div>\r\n                                        </div>\r\n                                        {\r\n                                            ListDetails.specifications.map(\r\n                                                (val, index) => {\r\n                                                    return (\r\n                                                        <>\r\n                                                            <div className=\"PR_printUI_Grid\">\r\n                                                                <div><p>{ index + 1 }</p></div>\r\n                                                                <div><p>{ val.description }</p></div>\r\n                                                                <div><p>{ val.quantity }</p></div>\r\n                                                                <div><p>{ val.price }</p></div>\r\n                                                                <div><p>{ val.tax + '%' }</p></div>\r\n                                                                <div><p>{ 'Rs ' + val.amount.toLocaleString('en-US') }</p></div>\r\n                                                            </div>\r\n                                                        </>\r\n                                                    )\r\n                                                }\r\n                                            )\r\n                                        }\r\n                                        <div className=\"PR_printUI_Grid\">\r\n                                            <div></div>\r\n                                            <div style={{ backgroundColor: \"rgb(243, 243, 243)\" }}><p className=\"font-weight-bolder text-right mr-2\">Total :</p></div>\r\n                                            <div><p></p></div>\r\n                                            <div><p></p></div>\r\n                                            <div><p></p></div>\r\n                                            <div><p>Rs { val.total.toLocaleString('en-US') } </p></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"PR_printUI_Bottom\">\r\n                                        <div className=\"PR_printUI_Grid1\" style={{ backgroundColor: \"rgb(243, 243, 243)\" }}>\r\n                                            <div><p className=\"font-weight-bolder\">Sr: No:</p></div>\r\n                                            <div><p className=\"font-weight-bolder\">Reason</p></div>\r\n                                        </div>\r\n                                        {\r\n                                            ListDetails.specifications.map(\r\n                                                (val, index) => {\r\n                                                    return (\r\n                                                        <>\r\n                                                            <div className=\"PR_printUI_Grid1\">\r\n                                                                <div><p>{ index + 1 }</p></div>\r\n                                                                <div className=\"text-justify px-2\"><p>{ val.reason }</p></div>\r\n                                                            </div>\r\n                                                        </>\r\n                                                    )\r\n                                                }\r\n                                            )\r\n                                        }\r\n                                        <div className=\"PR_printUI_Remarks mt-4\" style={{ backgroundColor: \"rgb(243, 243, 243)\" }}>\r\n                                            <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Sumbitted By</p></div>\r\n                                            <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Approved By</p></div>\r\n                                            <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Submitted To</p></div>\r\n                                        </div>\r\n                                        <div className=\"PR_printUI_Remarks PR_printUI_Remark\">\r\n                                            <div >\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder mr-3\">Name : </p><p> { val.sender_name } </p></div>\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Date : </p><p>{ d1 ? d1.toString().substring(0,15) : null }</p></div>\r\n                                            </div>\r\n                                            <div >\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder mr-3\">Name : </p><p> { val.approve_emp_name } </p></div>\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Date : </p><p>{ d2 ? d2.toString().substring(0,15) : null }</p></div>\r\n                                            </div>\r\n                                            <div >\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder mr-3\">Name : </p><p> { val.handle_emp_name } </p></div>\r\n                                                <div className=\"DIVS\" ><p className=\"font-weight-bolder\">Date : </p><p>{ d3 ? d3.toString().substring(0,15) : null }</p></div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n\r\n                    }\r\n                )\r\n            }\r\n        </>\r\n    )\r\n}\r\nexport default PR_printUI;","import React, { Suspense, lazy, useState, useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\n// IMPORT CSS\r\nimport './PurchaseOrder.css';\r\n\r\nimport Request from './Request/Request';\r\n\r\nimport Menu from \"../../../../../UI/Menu/Menu\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport axios from '../../../../../../axios';\r\nimport socket from '../../../../../../io';\r\nimport $ from 'jquery';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\nimport Modal from '../../../../../UI/Modal/Modal';\r\nimport PRPrintUI from './PR_printUI/PR_printUI';\r\n\r\nconst Home = lazy( () => import('./Home/Home') );\r\nconst Form = lazy( () => import('./Form/Form') );\r\nconst PreviousRequest = lazy( () => import('./PreviousRequest/PreviousRequest') );\r\nconst Bills = lazy( () => import('./Bills/Bills') );\r\n\r\nconst PurchaseOrder = () => {\r\n\r\n    // STATE FOR MENU\r\n    const [MenuData, setMenuData] = useState([]);\r\n\r\n    // HSOW/HIDE MODAL THROUGH THIS STATE BY CHANGE IT TO TRUE/FALSE\r\n    const [ShowHide, setShowHide] = useState( false );\r\n\r\n    const [Submitted, setSubmitted] = useState(false);\r\n\r\n    const [Requests, setRequests] = useState([]);\r\n    const [Companies, setCompanies] = useState([]);\r\n    const [Locations, setLocations] = useState([]);\r\n    const [ShiptoLocations, setShiptoLocations] = useState([]);\r\n    const [PurchaseOrderCode, setPurchaseOrderCode] = useState('');\r\n    const [CountStatus, setCountStatus] = useState([]);\r\n\r\n    \r\n    const [PrID, setPrID] = useState(0);\r\n    const [PrIDPrev, setPrIDPrev] = useState(0);\r\n    const [PRCode, setPRCode] = useState('');\r\n\r\n    const [RequestInformation, setRequestInformation] = useState(\r\n        {\r\n            company: {\r\n                company_code: 0,\r\n                company_name: '',\r\n                company_website: ''\r\n            },\r\n            location: {\r\n                location_code: 0,\r\n                location_name: '',\r\n                location_phone: '',\r\n                location_address: ''\r\n            },\r\n            ShipTo: {\r\n                company: {\r\n                    company_code: 0,\r\n                    company_name: '',\r\n                    company_website: ''\r\n                },\r\n                location: {\r\n                    location_code: 0,\r\n                    location_name: '',\r\n                    location_phone: '',\r\n                    location_address: ''\r\n                },\r\n            },\r\n            venders: [],\r\n            comments: '',\r\n            gst: 0,\r\n            cartage: 0,\r\n            others: 0,\r\n            total: 0\r\n        }\r\n    );\r\n\r\n    const [Items, setItems] = useState([]);\r\n    const [Amount, setAmount] = useState(0.0);\r\n    const [Total, setTotal] = useState(0.0);\r\n    const [Index, setIndex] = useState();\r\n\r\n    const [EditMode, setEditMode] = useState(false);\r\n\r\n    const [Item, setItem] = useState({\r\n        description: \"\",\r\n        reason: \"\",\r\n        price: 0,\r\n        taxRequired: \"NO\",\r\n        tax: '',\r\n        quantity: 1,\r\n    });\r\n\r\n    const [TaxMode, setTaxMode] = useState('exclusive');\r\n    const [IndividualTax, setIndividualTax] = useState(false);\r\n\r\n    // PURCHASE ORDER DETAILS STATE\r\n    const [ PurchaseOrderDetails, setPurchaseOrderDetails ] = useState(\r\n        {\r\n            info: [],\r\n            specifications: [],\r\n            venders: []\r\n        }\r\n    );\r\n    // FOR THE CURRENT PO ID\r\n    const [POID, setPOID] = useState(0);\r\n    // REQEUST DETAILS STATE\r\n    const [Details, setDetails] = useState([]);\r\n    // FOR ATTACH BILLS\r\n    const [ AttachBills, setAttachBills ] = useState([]);\r\n    // FOR BILLS PREVIEW\r\n    const [ BillPreview, setBillPreview ] = useState([]);\r\n\r\n    const Data = useSelector( ( state ) => state.EmpAuth.EmployeeData ); // CURRENT EMPLOYEE DATA\r\n\r\n    // NAVIGATION\r\n    const history = useHistory();\r\n\r\n    // TODO: REACT LIFECYCLE\r\n    useEffect(\r\n        () => {\r\n\r\n            // IF PURCHASE REQUISITION HAS ATTACHED\r\n            if ( PRCode.length > 0 )\r\n            {\r\n                // SET THE CODE TO THE INPUT\r\n                $('.prNumber').val( PRCode );\r\n            }\r\n\r\n            // IF COMMENTS HAS BEEN ENTERED\r\n            if ( RequestInformation.comments.length > 0 )\r\n            {\r\n                // SET THE COMMENTS TO THE TEXTAREA\r\n                $('#requestComments').val( RequestInformation.comments );\r\n            }\r\n\r\n            let po_id = window.location.href.split('/').pop().split('id=').pop(); // RETURNS AN ID ( PO ID ) FROM THE URL\r\n\r\n            if ( !isNaN( parseInt( po_id ) ) )\r\n            {\r\n                // GET PURCHASE ORDER'S PURCHASE REQUISITION ID\r\n                axios.post(\r\n                    '/getpridfrompo',\r\n                    {\r\n                        po_id: po_id\r\n                    }\r\n                ).then(\r\n                    ( res ) => {\r\n    \r\n                        axios.post(\r\n                            '/getpurchaseorderdetails',\r\n                            {\r\n                                pr_id: res.data[0] ? res.data[0].pr_id : null,\r\n                                po_id: po_id\r\n                            }\r\n                        ).then(\r\n                            (res) => {\r\n                                \r\n                                setDetails( res.data[4] );\r\n\r\n                                let poInfo = res.data[0];\r\n                                if ( res.data[4][0] )\r\n                                {\r\n                                    poInfo[0].pr_code = res.data[4][0].pr_code;\r\n                                }\r\n\r\n                                setPurchaseOrderDetails(\r\n                                    {\r\n                                        ...PurchaseOrderDetails,\r\n                                        info: poInfo,\r\n                                        specifications: res.data[1],\r\n                                        venders: res.data[3]\r\n                                    }\r\n                                )\r\n\r\n                                if ( res.data[2][0] )\r\n                                {\r\n                                    setAttachBills( res.data[2] );\r\n                                }\r\n                                setPOID( parseInt( po_id ) );\r\n            \r\n                            }\r\n                        ).catch(err => {\r\n            \r\n                            console.log(err);\r\n            \r\n                        });\r\n                    \r\n                    }\r\n                );\r\n    \r\n            }\r\n            // GET ALL PREVIOUS PURCHASE ORDERS\r\n            if ( Data.emp_id )\r\n            {\r\n                AllPO( Data.emp_id );\r\n                // GET ALL COMPANIES\r\n                GetAllCompanies();\r\n            }\r\n\r\n            let condition = window.location.href.split('/')[ window.location.href.split('/').length - 3 ].split('view=').pop();\r\n\r\n            if ( window.location.href.split('/').pop().split('view=').pop() === 'form' )\r\n            {\r\n                setMenuData(\r\n                    [\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Dashboard',\r\n                            link: true,\r\n                            href: \"/purchaseorder/view=home\"\r\n                        },\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Purchase Order',\r\n                            link: false,\r\n                            func: () => OpenPurchaseOrderForm()\r\n                        },\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Bills',\r\n                            link: false,\r\n                            func: () => OpenAttachedBillsView()\r\n                        }\r\n                    ]\r\n                )\r\n            }else if ( condition === 'previousrequests' || condition === 'attached_bills' )\r\n            {\r\n                setMenuData(\r\n                    [\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Dashboard',\r\n                            link: true,\r\n                            href: \"/purchaseorder/view=home\"\r\n                        },\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Purchase Order',\r\n                            link: false,\r\n                            func: () => OpenPurchaseOrderForm()\r\n                        },\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Attached Bills',\r\n                            link: false,\r\n                            func: () => OpenPurchaseOrderBills()\r\n                        }\r\n                    ]\r\n                )\r\n            }else\r\n            {\r\n                setMenuData(\r\n                    [\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Dashboard',\r\n                            link: true,\r\n                            href: \"/purchaseorder/view=home\"\r\n                        },\r\n                        {\r\n                            icon: 'las la-hand-holding-usd',\r\n                            txt: 'Purchase Order',\r\n                            link: false,\r\n                            func: () => OpenPurchaseOrderForm()\r\n                        }\r\n                    ]\r\n                )\r\n            }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        }, [ window.location.href ]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            if ( Data.company_code ) {\r\n\r\n                socket.on(\r\n                    'newpurchaseorder', () => {\r\n                        \r\n                        AllPO( Data.emp_id );\r\n                \r\n                    }\r\n                )\r\n\r\n            }\r\n\r\n\r\n        }, [ Data.company_code, Data.emp_id, Submitted ]\r\n    );\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            // * IMPORTANT VARIABLES\r\n            let cartage = RequestInformation.cartage === '' ? 0 : parseFloat( RequestInformation.cartage );\r\n            let others = RequestInformation.others === '' ? 0 : parseFloat( RequestInformation.others );\r\n            let total = Total === '' ? 0 : parseFloat( Total );\r\n\r\n            let val = {\r\n                ...RequestInformation,\r\n                total: cartage + others + total\r\n            };\r\n\r\n            setRequestInformation( val );\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        }, [ RequestInformation.cartage, RequestInformation.others, Total]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n            \r\n            // IMPORTANT VARIABLES\r\n            let price = parseFloat( Item.price );\r\n            let quantity = parseInt( Item.quantity );\r\n            let tax = parseFloat( Item.tax );\r\n\r\n            if ( isNaN( price ) || price < 0 )\r\n            {\r\n                price = 0;\r\n                setItem(\r\n                    {\r\n                        ...Item,\r\n                        price: 0\r\n                    }\r\n                )\r\n            }\r\n            \r\n            if ( isNaN( quantity ) || quantity < 0 )\r\n            {\r\n                quantity = 0;\r\n                setItem(\r\n                    {\r\n                        ...Item,\r\n                        quantity: 0\r\n                    }\r\n                )\r\n            }\r\n            \r\n            if ( isNaN( tax ) || tax < 0 )\r\n            {\r\n                tax = 0;\r\n                setItem(\r\n                    {\r\n                        ...Item,\r\n                        tax: ''\r\n                    }\r\n                )\r\n            }\r\n\r\n            if ( Item.taxRequired === 'YES' && TaxMode === 'exclusive' )\r\n            {\r\n                let amount = ( ( price * quantity ) / 100 ) * tax;\r\n                setAmount( amount + ( price * quantity ) );\r\n            }else\r\n            {\r\n                let amount = quantity * price;\r\n                setAmount( amount );\r\n            }\r\n    \r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        }, [ Item.tax, Item.quantity, Item.price, TaxMode ]\r\n    )\r\n\r\n    useEffect(\r\n        () => {\r\n\r\n            // IMPORTANT VARIABLES\r\n            let subTotal = parseFloat( Total );\r\n            let cartage = parseFloat( RequestInformation.cartage );\r\n            let others = parseFloat( RequestInformation.others );\r\n            let gst = parseFloat( RequestInformation.gst );\r\n\r\n            if ( isNaN( subTotal ) )\r\n            {\r\n                subTotal = 0;\r\n                setTotal( subTotal );\r\n            }\r\n            if ( isNaN( cartage ) )\r\n            {\r\n                cartage = 0;\r\n                setRequestInformation(\r\n                    {\r\n                        ...RequestInformation,\r\n                        cartage: 0\r\n                    }\r\n                );\r\n            }\r\n            if ( isNaN( others ) )\r\n            {\r\n                others = 0;\r\n                setRequestInformation(\r\n                    {\r\n                        ...RequestInformation,\r\n                        others: 0\r\n                    }\r\n                );\r\n            }\r\n            if ( isNaN( gst ) )\r\n            {\r\n                gst = 0;\r\n                setRequestInformation(\r\n                    {\r\n                        ...RequestInformation,\r\n                        gst: ''\r\n                    }\r\n                );\r\n            }\r\n\r\n            let amount = ( subTotal / 100 ) * gst;\r\n            setRequestInformation(\r\n                {\r\n                    ...RequestInformation,\r\n                    total: subTotal + amount + others + cartage\r\n                }\r\n            );\r\n\r\n\r\n        }, [ RequestInformation.gst, RequestInformation.cartage, RequestInformation.others, Total ]\r\n    )\r\n\r\n    // TO OPEN THE VIEW WHERE EMPLOYEE CAN ATTACH BILLS REMOVE THEM AND ALSO PREVIEW THEM\r\n    const OpenAttachedBillsView = () => {\r\n\r\n        history.replace(\"/purchaseorder/view=bills\");\r\n\r\n    }\r\n\r\n    // THIS FUNCTION WILL OPEN THE PURCHASE ORDER\r\n    // FORM WHERE EMPLOYEE CAN FILL THE FIELDS AND SEND THE REQUEST\r\n    // TO THE MANAGEMENT\r\n    const OpenPurchaseOrderForm = () => {\r\n\r\n        history.replace(\"/purchaseorder/view=form\");\r\n\r\n    }\r\n\r\n    // THIS FUNCTION WILL USE TO VIEW THE HISTORIC PURCHASE ORDER'S BILLS\r\n    const OpenPurchaseOrderBills = () => {\r\n\r\n        // /purchaseorder/view=attached_bills/1/1\r\n        let links = window.location.href.split('/');\r\n        let pr_id = links[6];\r\n        let po_id = links[7];\r\n        history.replace('/purchaseorder/view=attached_bills/' + pr_id + '/' + po_id);\r\n\r\n    }\r\n\r\n    // GET ALL COMPANIES\r\n    const GetAllCompanies = () => {\r\n\r\n        const Data = new FormData();\r\n        axios.get('/getallcompanies', Data).then(\r\n            (res) => {\r\n\r\n                setCompanies( res.data );\r\n\r\n            }\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // GET ALL PREVIOUS PURCHASE ORDERS\r\n    const AllPO = ( id ) => {\r\n\r\n        const Data = new FormData();\r\n        Data.append('empID', id);\r\n        axios.post('/getthatempinvtrypos', Data).then(\r\n            (res) => {\r\n\r\n                setRequests( res.data );\r\n                let arr = [];\r\n                for( let x = 0; x < res.data.length; x++ )\r\n                {\r\n    \r\n                    arr.push(res.data[x].status)\r\n    \r\n                }\r\n                setCountStatus( arr );\r\n\r\n            }\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n    \r\n    // GET COMPANY'S ALL LOCATIONS\r\n    const GetCompanyLocations = ( company_code ) => {\r\n\r\n        axios.post('/getcompanylocations',\r\n            {\r\n                company_code: company_code ? company_code : Data.company_code\r\n            }\r\n        ).then(res => {\r\n\r\n            // CREATE PO CODE ACCORDING TO THE COMPANY CODE\r\n            createPOCode( company_code );\r\n\r\n            // SET VALUE TO LOCATIONS DROPDOWN\r\n            setLocations( res.data );\r\n\r\n        }).catch(err => {\r\n\r\n            console.log(err);\r\n\r\n        });\r\n\r\n    }\r\n    \r\n    // CREATE CODE FOR PURCHASE ORDER\r\n    const createPOCode = ( company_code ) => {\r\n\r\n        let CCode = '';\r\n        let LastNum = '';\r\n        let Year = '';\r\n\r\n        const d = new Date();\r\n\r\n        // IF CURRENT MONTH IS GREATER THAN JUNE\r\n        if ( d.getMonth() > 6 )\r\n        {\r\n            Year = d.getFullYear().toString().substring(2,4) + '/' + ( d.getFullYear() + 1 ).toString().substring(2,4);\r\n        }else\r\n        {\r\n            Year = ( d.getFullYear() - 1 ).toString().substring(2,4) + '/' + d.getFullYear().toString().substring(2,4);\r\n        }\r\n\r\n        axios.post('/getshortcompanyname', { company_code: company_code }).then(\r\n            (res) => {\r\n\r\n                if ( res.data.length > 0 )\r\n                {\r\n                    CCode = res.data[0].code;\r\n                }\r\n\r\n                axios.post('/getpocode', { company_code: company_code }).then(\r\n                    (res) => {\r\n        \r\n                        if ( res.data.length > 0 )\r\n                        {\r\n                            let code = ( parseInt( res.data[0].po_code.split('-')[1] ) + 1 ).toString();\r\n                            if ( code.length === 1 )\r\n                            {\r\n                                code = '0' + code;\r\n                            }\r\n                            LastNum = code;\r\n                        }else\r\n                        {\r\n                            LastNum = '01';\r\n                        }\r\n\r\n                        setPurchaseOrderCode( CCode + '-' + LastNum + '-' + Year );\r\n        \r\n                    }\r\n                ).catch(\r\n                    (err) => {\r\n        \r\n                        console.log(err);\r\n        \r\n                    }\r\n                )\r\n\r\n            }\r\n        ).catch(\r\n            (err) => {\r\n\r\n                console.log(err);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // WHEN REQUEST COMPANY IS SELECTED\r\n    const OnChangeCompany = ( e ) => {\r\n\r\n        const { value } = e.target;\r\n\r\n        // SELECTED COMPANY\r\n        let Company = Companies.filter(\r\n            ( val ) => {\r\n\r\n                return val.company_code === parseInt( value )\r\n\r\n            }\r\n        )\r\n\r\n        if ( Company[0] )\r\n        {\r\n            // SET THE SELECTED COMPANY TO REQUEST INFORMATION\r\n            setRequestInformation(\r\n                {\r\n                    ...RequestInformation,\r\n                    company: {\r\n                        company_code: Company[0].company_code,\r\n                        company_name: Company[0].company_name,\r\n                        company_website: Company[0].website\r\n                    }\r\n                }\r\n            )\r\n    \r\n            GetCompanyLocations( Company[0].company_code );\r\n        }\r\n\r\n    }\r\n\r\n    // WHEN REQUEST LOCATION IS SELECTED\r\n    const OnChangeLocation = ( e ) => {\r\n\r\n        const { value } = e.target;\r\n\r\n        // SELECTED LOCATION\r\n        let Location = Locations.filter(\r\n            ( val ) => {\r\n\r\n                return val.location_code === parseInt( value )\r\n\r\n            }\r\n        )\r\n\r\n        // SET THE SELECTED COMPANY TO REQUEST INFORMATION\r\n        setRequestInformation(\r\n            {\r\n                ...RequestInformation,\r\n                location: {\r\n                    location_code: Location[0].location_code,\r\n                    location_name: Location[0].location_name,\r\n                    location_address: Location[0].address,\r\n                    location_phone: Location[0].location_phone\r\n                }\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // WHEN SHIP TO COMPANY IS SELECTED\r\n    const OnChangeShipToCompany = ( e ) => {\r\n\r\n        const { value } = e.target;\r\n\r\n        // SELECTED COMPANY\r\n        let Company = Companies.filter(\r\n            ( val ) => {\r\n\r\n                return val.company_code === parseInt( value )\r\n\r\n            }\r\n        )\r\n\r\n        axios.post('/getcompanylocations',\r\n            {\r\n                company_code: Company[0].company_code\r\n            }\r\n        ).then(res => {\r\n\r\n            // SET THE SELECTED COMPANY TO REQUEST INFORMATION\r\n            setRequestInformation(\r\n                {\r\n                    ...RequestInformation,\r\n                    ShipTo: {\r\n                        ...RequestInformation.ShipTo,\r\n                        company: {\r\n                            company_code: Company[0].company_code,\r\n                            company_name: Company[0].company_name,\r\n                            company_website: Company[0].website\r\n                        }\r\n                    }\r\n                }\r\n            )\r\n\r\n            // SET SHIP TO LOCATIONS\r\n            setShiptoLocations( res.data );\r\n\r\n        }).catch(err => {\r\n\r\n            console.log(err);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    // WHEN SHIP TO LOCATION IS SELECTED\r\n    const OnChangeShipToLocation = ( e ) => {\r\n\r\n        const { value } = e.target;\r\n\r\n        // SELECTED LOCATION\r\n        let Location = ShiptoLocations.filter(\r\n            ( val ) => {\r\n\r\n                return val.location_code === parseInt( value )\r\n\r\n            }\r\n        )\r\n\r\n        // SET THE SELECTED COMPANY TO REQUEST INFORMATION\r\n        setRequestInformation(\r\n            {\r\n                ...RequestInformation,\r\n                ShipTo: {\r\n                    ...RequestInformation.ShipTo,\r\n                    location: {\r\n                        location_code: Location[0].location_code,\r\n                        location_name: Location[0].location_name,\r\n                        location_address: Location[0].address,\r\n                        location_phone: Location[0].location_phone\r\n                    }\r\n                }\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // ADD VENDER TO THE REQUEST\r\n    const AddVender = ( val ) => {\r\n\r\n        let arr = RequestInformation.venders;\r\n        arr.push( val );\r\n        \r\n        setRequestInformation(\r\n            {\r\n                ...RequestInformation,\r\n                venders: arr\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // REMOVE THE ADDED VENDER FROM THE LIST\r\n    const RemoveVender = ( name ) => {\r\n\r\n        let Venders = RequestInformation.venders.filter(\r\n            ( val ) => {\r\n\r\n                return val.VenderName !== name\r\n\r\n            }\r\n        )\r\n\r\n        setRequestInformation(\r\n            {\r\n                ...RequestInformation,\r\n                venders: Venders\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // ON ENTER COMMENTS FOR THE REQUEST\r\n    const OnComments = ( e ) => {\r\n\r\n        // EXTRACTING VALUE\r\n        const { value } = e.target;\r\n\r\n        let val = {\r\n            ...RequestInformation,\r\n            comments: value\r\n        }\r\n\r\n        setRequestInformation( val );\r\n\r\n    }\r\n\r\n    // WHEN EMPLOYEE ENTERING THE DETAILS IN THE FIELDS AND THE DATA IS STORE TO STATE\r\n    const OnChangeHandler = (e) => {\r\n        const { name, value } = e.target;\r\n\r\n        let pass = true;\r\n        if ( name === 'quantity' || name === 'price' || name === 'tax' )\r\n        {\r\n            if ( value < 0 || value === -0 || value === '-0' )\r\n            {\r\n                ShowNotification( \"value should be greater than 0\", 'top-center' );\r\n                pass = false;\r\n            }\r\n        }\r\n\r\n        if ( pass )\r\n        {\r\n            const val = {\r\n              ...Item,\r\n              [name]: value,\r\n            };\r\n        \r\n            setItem(val);\r\n    \r\n            if (name === \"taxRequired\") {\r\n    \r\n                let input = document.getElementById('TAX');\r\n                if ( value === 'YES' )\r\n                {\r\n                    input.disabled = false;\r\n                    setIndividualTax( true );\r\n                    setRequestInformation(\r\n                        {\r\n                            ...RequestInformation,\r\n                            gst: '',\r\n                            total: isNaN( parseFloat( Total ) ) ? 0 : parseFloat( Total )\r\n                        }\r\n                    )\r\n                }else\r\n                {\r\n                    setItem(\r\n                        {\r\n                            ...Item,\r\n                            taxRequired: \"NO\",\r\n                            tax: ''\r\n                        }\r\n                    )\r\n                    input.disabled = true;\r\n                    setIndividualTax( false );\r\n                    \r\n                }\r\n                \r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    // WHEN EMPLOYEE WANT TO ADD AN ITEM TO THE ENTERED ITEMS LIST\r\n    const AddItem = (e) => {\r\n        if (\r\n            e.keyCode === 13 && Item.description !== '' && Item.reason !== '' && Item.quantity > 0 && Item.price > 0\r\n        ) {\r\n\r\n            if (Item.reason.length < 20) {\r\n\r\n                let val = $(\".err_reason\").val();\r\n\r\n                let i = 0;\r\n                let txt = \"Reason must contain 20 characters minimum!!!\";\r\n                let speed = 50;\r\n                val = '';\r\n\r\n                function typeWriter() {\r\n                    if (i < txt.length) {\r\n                        val += txt.charAt(i);\r\n                        $(\".err_reason\").html(val);\r\n                        i++;\r\n                        setTimeout(typeWriter, speed);\r\n                    }\r\n                }\r\n\r\n                typeWriter();\r\n\r\n                setTimeout(() => {\r\n                    $(\".err_reason\").html('');\r\n                }, 5000);\r\n\r\n            } else {\r\n\r\n                if (Item.taxRequired === \"YES\" && Item.tax.toString() === '0') {\r\n                    ShowNotification( \"Tax required\", 'top-center' );\r\n                } else {\r\n                    if (!EditMode) {\r\n                        let cart = {\r\n                            description: Item.description,\r\n                            reason: Item.reason,\r\n                            price: Item.price,\r\n                            quantity: Item.quantity,\r\n                            taxRequired: Item.taxRequired,\r\n                            tax: Item.tax,\r\n                            amount: Amount,\r\n                        };\r\n                        setItems([...Items, cart]);\r\n\r\n                        setAmount(0.0);\r\n                        $('select').val('NO');\r\n                        setItem({\r\n                            description: \"\",\r\n                            reason: \"\",\r\n                            price: 0,\r\n                            taxRequired: \"NO\",\r\n                            tax: '',\r\n                            quantity: 1,\r\n                        });\r\n\r\n                        let t = Total;\r\n                        t = t + Amount;\r\n\r\n                        setTotal(t);\r\n\r\n                        var objDiv = document.getElementById(\"ItemsLIst\");\r\n                        if (objDiv !== null) {\r\n                            objDiv.scrollTop = objDiv.scrollHeight;\r\n                        }\r\n                        \r\n                        let input = document.getElementById('TAX');\r\n                        input.disabled = true;\r\n\r\n                    } else {\r\n                        let arr = Items;\r\n                        let cart = {};\r\n                        if (Item.id) {\r\n                            cart = {\r\n                                id: Item.id,\r\n                                pr_id: Item.pr_id,\r\n                                description: Item.description,\r\n                                reason: Item.reason,\r\n                                price: Item.price,\r\n                                quantity: Item.quantity,\r\n                                taxRequired: Item.taxRequired,\r\n                                tax: Item.tax,\r\n                                amount: Amount,\r\n                            };\r\n                        } else {\r\n                            cart = {\r\n                                description: Item.description,\r\n                                reason: Item.reason,\r\n                                price: Item.price,\r\n                                quantity: Item.quantity,\r\n                                taxRequired: Item.taxRequired,\r\n                                tax: Item.tax,\r\n                                amount: Amount,\r\n                            };\r\n                        }\r\n                        setTotal(( Total - arr[Index].amount ) + Amount);\r\n\r\n                        arr[Index] = cart;\r\n                        setItems(arr);\r\n\r\n                        setAmount(0.0);\r\n                        $('select').val('NO');\r\n                        setItem({\r\n                            description: \"\",\r\n                            reason: \"\",\r\n                            price: 0,\r\n                            taxRequired: \"NO\",\r\n                            tax: '',\r\n                            quantity: 1,\r\n                        });\r\n                        setEditMode(false);\r\n                        setIndex();\r\n                        $(\".POForm .PO_printUI_Middle .PO_printUI_Grid.MyItems\").removeClass(\"d-none\");\r\n                        let input = document.getElementById('TAX');\r\n                        input.disabled = true;\r\n\r\n\r\n                    }\r\n\r\n                    $('textarea, input, select').blur();\r\n                    $('textarea[name=description]').focus();\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    // WHEN EMPLOYEE WANT TO EDIT THE ENTERED ITEM DETAIL\r\n    const OnEdit = (index) => {\r\n        setEditMode(true);\r\n        setIndex(index);\r\n\r\n        if ( Items[index].tax !== '' )\r\n        {\r\n            $('select').val('YES');\r\n        }\r\n        setAmount(Items[index].amount);\r\n        setItem(Items[index]);\r\n\r\n        $(\".POForm .PO_printUI_Middle .PO_printUI_Grid.MyItems\").removeClass(\"d-none\");\r\n        $(\".POForm .PO_printUI_Middle .PO_printUI_Grid.MyItems\" + index).toggleClass(\"d-none\");\r\n    };\r\n\r\n    // WHEN EMPLOYEE WANT TO DELETE/REMOVE THE ENTERED ITEM\r\n    const onDelete = (id) => {\r\n\r\n        setItems(\r\n            Items.filter((val, index) => {\r\n                return index !== id;\r\n            })\r\n        );\r\n\r\n        setTotal(Total - Items[id].amount);\r\n    };\r\n\r\n    // WHEN PURCHASE ORDER IS SUBMIT\r\n    const SubmitPurchaseOrder = () => {\r\n\r\n        let pass = true;\r\n        if ( RequestInformation.company.company_code === 0 )\r\n        {\r\n            ShowNotification( \"No Company Selected\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( RequestInformation.location.location_code === 0 )\r\n        {\r\n            ShowNotification( \"No location Selected\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( RequestInformation.ShipTo.company.company_code === 0 )\r\n        {\r\n            ShowNotification( \"No Ship To Company Selected\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( RequestInformation.ShipTo.location.location_code === 0 )\r\n        {\r\n            ShowNotification( \"No Ship To Location Selected\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( RequestInformation.venders.length === 0 )\r\n        {\r\n            ShowNotification( \"No vender added\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( Items.length === 0 )\r\n        {\r\n            ShowNotification( \"No Items added\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( RequestInformation.comments.length === 0 )\r\n        {\r\n            ShowNotification( \"Please enter comments\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( AttachBills.length === 0 )\r\n        {\r\n            ShowNotification( \"Please attach at least one bill document.\", 'top-center' );\r\n            pass = false;\r\n        }else\r\n        if ( EditMode )\r\n        {\r\n            ShowNotification( \"The request is in edit mode, please press enter on the specification fields to get out of it.\", 'top-center' );\r\n            pass = false;\r\n        }\r\n\r\n        if ( pass )\r\n        {\r\n            const val = {\r\n                RequestInfo: RequestInformation,\r\n                specifications: Items,\r\n                SenderInfo: Data.emp_id,\r\n                code: PurchaseOrderCode,\r\n                TaxMode: TaxMode,\r\n                PrID: PrID\r\n            }\r\n            const D = new FormData();\r\n            D.append('data', JSON.stringify( val ));\r\n            AttachBills.forEach(file => {\r\n                D.append(\"Attachments\", file.file);\r\n            });\r\n    \r\n            axios.post(\r\n                '/purchase_order/new',\r\n                D\r\n            ).then(\r\n                () => {\r\n    \r\n                    ShowNotification( \"Request Submitted\", 'top-center' );\r\n                    setTimeout(() => {\r\n                        history.replace('/purchaseorder/');\r\n                        setTimeout(() => {\r\n                            history.replace('/purchaseorder/view=form');\r\n                        }, 100);\r\n                    }, 1000);\r\n\r\n                    socket.emit('newpurchaseorder');\r\n\r\n                    const Data3 = new FormData();\r\n                    Data3.append('access', JSON.stringify([523, 524, 1]));\r\n                    axios.post('/getemployeeaccesslike', Data3).then(\r\n                        (res) => {\r\n\r\n                            if (res.data[0]) {\r\n                                for (let x = 0; x < res.data.length; x++) {\r\n\r\n                                    socket.emit('NewNotification', res.data[x].emp_id);\r\n                                    const Data2 = new FormData();\r\n                                    Data2.append('eventID', 3);\r\n                                    Data2.append('link', '');\r\n                                    Data2.append('receiverID', res.data[x].emp_id);\r\n                                    Data2.append('senderID', sessionStorage.getItem('EmpID'));\r\n                                    Data2.append('Title', sessionStorage.getItem('name'));\r\n                                    Data2.append('NotificationBody', sessionStorage.getItem('name') + ' post a new purchase order request on the portal with id# ' + PurchaseOrderCode);\r\n                                    axios.post('/newnotification', Data2).then(() => {\r\n\r\n                                        axios.post('/sendmail', Data2).then(() => {\r\n\r\n\r\n                                        })\r\n                                    });\r\n\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    )\r\n    \r\n                }\r\n            ).catch(\r\n                (err) => {\r\n    \r\n                    console.log(err);\r\n                    ShowNotification( \"Request Failed\", 'top-center' );\r\n    \r\n                }\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    // WHEN EMPLOYEE ENTER PURCHASE REQUISITION NUMBER/CODE\r\n    const OnChangePrNumber = ( e ) => {\r\n\r\n        if ( e.keyCode === 13 )\r\n        {\r\n            // EXTRACTING VALUE\r\n            const { value } = e.target;\r\n\r\n            axios.post('/getprforpo',\r\n                {\r\n                    pr_code: value\r\n                }\r\n            ).then(res => {\r\n\r\n                // WHEN PURCHASE REQUISITION IS NOT EXISTS\r\n                const NotFound = () => {\r\n                    ShowNotification( \"Not Found\", 'top-center' );\r\n                    setItems([]);\r\n                    setTotal(0.00);\r\n                    setPrID( 0 );\r\n                    setPRCode('');\r\n                }\r\n\r\n                if ( res.data.length > 0 )\r\n                {\r\n                    if ( res.data[1].length > 0 )\r\n                    {\r\n                        setItems( res.data[0] );\r\n    \r\n                        setTotal( res.data[1][0].total );\r\n\r\n                        setRequestInformation(\r\n                            {\r\n                                ...RequestInformation,\r\n                                total: res.data[1][0].total\r\n                            }\r\n                        )\r\n                        setPrID( res.data[1][0].pr_id );\r\n                        setPRCode( value );\r\n                        ShowNotification( \"Connected\", 'top-center' );\r\n                    }else\r\n                    {\r\n                        NotFound();\r\n                    }\r\n                }else\r\n                {\r\n                    NotFound();\r\n                }\r\n\r\n            }).catch(err => {\r\n\r\n                console.log(err);\r\n\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    // WHEN THE FINAL VALUE\r\n    // todo: (SUB TOTAL, GST, CARTAGE, OTHERS, TOTAL)\r\n    // GOT CHANGE\r\n    const FinalValuesChangeHandler = ( e ) => {\r\n\r\n        const { name, value } = e.target;\r\n        const val = {\r\n            ...RequestInformation,\r\n            [name]: value\r\n        }\r\n\r\n        setRequestInformation( val );\r\n\r\n    }\r\n\r\n    // DECIDE IS TAX INCLUDED OR EXCLUDED\r\n    const ExclusiveInclusiveTax = ( e ) => {\r\n\r\n        // EXTRACTING VALUE\r\n        const { value } = e.target;\r\n        \r\n        // IMPORTANT VARIABLES\r\n        let total = parseFloat( Total );\r\n        let gst = parseFloat( RequestInformation.gst );\r\n        let cartage = RequestInformation.cartage === '' ? 0 : parseFloat(RequestInformation.cartage);\r\n        let others = RequestInformation.others === '' ? 0 : parseFloat(RequestInformation.others);\r\n        \r\n        if ( value === 'exclusive' )\r\n        {\r\n    \r\n            if ( isNaN( total ) )\r\n            {\r\n                total = 0;\r\n                setTotal(0.00);\r\n            }\r\n            if ( isNaN( gst ) )\r\n            {\r\n                gst = 0;\r\n                setRequestInformation(\r\n                    {\r\n                        ...RequestInformation,\r\n                        gst: ''\r\n                    }\r\n                );\r\n            }\r\n    \r\n            if ( Item.taxRequired === 'NO' )\r\n            {\r\n                \r\n                let amount = ( total / 100 ) * gst;\r\n                setRequestInformation(\r\n                    {\r\n                        ...RequestInformation,\r\n                        total: amount + total + cartage + others\r\n                    }\r\n                );\r\n            }\r\n        }else\r\n        {\r\n            // * IMPORTANT VARIABLES\r\n            let total = Total === '' ? 0 : parseFloat(Total);\r\n\r\n            let val = {\r\n                ...RequestInformation,\r\n                total: cartage + others + total\r\n            };\r\n\r\n            setRequestInformation(val);\r\n        }\r\n\r\n    }\r\n\r\n    // WHEN INDIVIDUAL TAX MODE CHANGE FROM\r\n    // ! EXCLUSIVE/INCLUSIVE\r\n    const IndividualTaxMode = ( e ) => {\r\n\r\n        const { value } = e.target;\r\n        setTaxMode(value);\r\n\r\n    }\r\n\r\n    // SHOW POP-UP ALERT\r\n    const ShowNotification = ( note , position) => {\r\n\r\n        toast.dark(note.toString(), {\r\n            position: position,\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        });\r\n\r\n    }\r\n\r\n    // ON ATTACH BILLS TO THE REQUEST\r\n    const onAttachBills = ( e ) => {\r\n\r\n        const reader = new FileReader();\r\n        const { files } = e.target;\r\n\r\n        reader.onload = () => {\r\n\r\n            if (reader.readyState === 2) {\r\n                let arr = [];\r\n                // let invoAttachments = document.querySelector('.invoAttachments');\r\n\r\n                for (let x = 0; x < files.length; x++) {\r\n                    arr.push(\r\n                        {\r\n                            name: files[x].name,\r\n                            file: files[x]\r\n                        }\r\n                    )\r\n                }\r\n\r\n                setAttachBills( arr );\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n        if (files[0]) {\r\n            reader.readAsDataURL(files[0]);\r\n        }\r\n\r\n    }\r\n\r\n    // WHEN EMPLOYEE WANT TO SEE THE PREVIEW THE ATTACHED BILLS\r\n    const PreviewBill = ( id ) => {\r\n\r\n        let array = [];\r\n        if ( AttachBills[0].image )\r\n        {\r\n            array = AttachBills.filter(\r\n                ( val, index, arr ) => {\r\n          \r\n                  return arr[index].image === arr[id].image;\r\n          \r\n                }\r\n            )\r\n        }else\r\n        {\r\n            array = AttachBills.filter(\r\n                ( val, index, arr ) => {\r\n          \r\n                  return arr[index].name === arr[id].name;\r\n          \r\n                }\r\n            )\r\n        }\r\n        \r\n      \r\n        setBillPreview( array );\r\n\r\n    }\r\n\r\n    // WHEN EMPLOYEE WANTS TO REMOVE A BILL FROM THE ATTACHMENT LIST\r\n    const RemoveBill = ( id ) => {\r\n\r\n        let array = AttachBills.filter(\r\n            ( val, index, arr ) => {\r\n      \r\n              return arr[index].name !== arr[id].name;\r\n      \r\n            }\r\n        )\r\n      \r\n        setAttachBills( array );\r\n        setBillPreview([]);\r\n\r\n    }\r\n\r\n    // IF EMPLOYEE WANTS TO SEE THE HISTORIC PURCHASE ORDER'S PURCHASE REQUISITION\r\n    // HE CAN VIEW BY THIS FUNCTION\r\n    const ShowModal = ( pr_id ) => {\r\n\r\n        setPrIDPrev( pr_id );\r\n        setShowHide( !ShowHide );\r\n\r\n    }\r\n\r\n    const CollapseRequests = () => {\r\n\r\n        $('.PurchaseOrderContainer .PurchaseOrderGrid').toggleClass('d-block');\r\n        $('.openCollapseBtn').toggleClass('d-block');\r\n        $('.PurchaseOrderContainer .PurchaseOrderGrid .Left.PreviousPurchaseOrders').toggle('slow');\r\n\r\n    }\r\n    \r\n    return (\r\n\r\n        // PURCHASE ORDER START\r\n        <div className=\"PurchaseOrderContainer\">\r\n            <ToastContainer />\r\n\r\n            {/* CUSTOM MODAL COMPONENT */}\r\n            <Modal \r\n                show={ ShowHide } \r\n                Hide={ \r\n                    () => {\r\n                        setShowHide( !ShowHide );\r\n                        setPrIDPrev(0);\r\n                    }\r\n                } \r\n                content=\r\n                {\r\n                    PrIDPrev === 0\r\n                    ?\r\n                    PrID === 0\r\n                    ?\r\n                    null\r\n                    :\r\n                    <PRPrintUI\r\n                        PrID={ PrID }\r\n                    />\r\n                    :\r\n                    <PRPrintUI\r\n                        PrID={ PrIDPrev }\r\n                    />\r\n                } \r\n            />\r\n\r\n            {/* PURCHASE ORDER MENU COMPONENT */}\r\n            <div style={ { height: '50px' } }>\r\n                <Menu data={ MenuData } />  \r\n            </div>\r\n\r\n            {/* CONTENT */}\r\n            {/* GRID CONTAINER */}\r\n            <div className='PurchaseOrderGrid'>\r\n\r\n                {/* LEFT PANEL */}\r\n                {/* PREVIOUS REQUESTS */}\r\n                <div className=\"Left PreviousPurchaseOrders\">\r\n                    <button className=\"btn btn-sm btn-dark\" onClick={ CollapseRequests }>\r\n                        <i className=\"las la-compress\"></i>\r\n                    </button>\r\n\r\n                    {/* REQUESTS */}\r\n                    {\r\n                        Requests.length === 0\r\n                        ?\r\n                        <>\r\n                            <h5 className=\"text-center\">No Request Found</h5>\r\n                        </>\r\n                        :\r\n                        Requests.map(\r\n                            ( val, index ) => {\r\n\r\n                                const d = new Date( val.request_date );\r\n                                let txt = val.status;\r\n\r\n                                let bgColor = 'var(--blue)';\r\n\r\n                                if (val.status === 'Approved' || val.status === 'Delivered') {\r\n                                    bgColor = 'var(--success)';\r\n                                    txt = \"Approved By accounts\";\r\n                                }\r\n\r\n                                if (val.status === 'Rejected') {\r\n                                    bgColor = 'var(--orange)';\r\n                                    txt = \"Rejected by accounts\";\r\n                                }\r\n\r\n                                if (val.status === 'Waiting For Approval') {\r\n                                    bgColor = 'var(--c-green)';\r\n                                }\r\n\r\n                                return (\r\n                                    <Request \r\n                                        index={ index }\r\n                                        data={ val }\r\n                                        d={ d }\r\n                                        txt={ txt }\r\n                                        bgColor={ bgColor }\r\n                                    />\r\n                                );\r\n\r\n                            }\r\n                        )\r\n                    }\r\n\r\n                </div>\r\n\r\n                {/* RIGHT PANEL */}\r\n                {/* MAIN CONTENT */}\r\n                <div className=\"Right MainContentWindow\">\r\n                    <button className=\"btn btn-sm btn-dark d-none openCollapseBtn\" onClick={ CollapseRequests }>\r\n                        <i className=\"las la-external-link-alt\"></i>\r\n                    </button>\r\n\r\n                    <Suspense fallback={ <div>Loading....</div> }>\r\n                        \r\n                        {/* ROUTES */}\r\n                        <Route\r\n                            exact\r\n                            path='/purchaseorder/view=home'\r\n                            render={  \r\n                                () =>\r\n                                    <Home\r\n                                        ViewRequest={ Requests }\r\n                                        CountRequests={ Requests.length }\r\n                                        CountStatus={ CountStatus }\r\n                                        // MonthlyRequests={ MonthlyRequests }\r\n                                        EmpData={ Data }\r\n                                    />\r\n                            }\r\n                        />\r\n                        \r\n                        <Route\r\n                            exact\r\n                            path='/purchaseorder/view=form'\r\n                            render={  \r\n                                () =>\r\n                                    <Form\r\n                                        Companies={ Companies }\r\n                                        Locations={ Locations }\r\n                                        ShiptoLocations={ ShiptoLocations }\r\n                                        RequestInformation={ RequestInformation }\r\n                                        Data={ Data }\r\n                                        Items={ Items }\r\n                                        Item={ Item }\r\n                                        Total={ Total }\r\n                                        Amount={ Amount }\r\n                                        PurchaseOrderCode={ PurchaseOrderCode }\r\n                                        TaxMode={ TaxMode }\r\n                                        IndividualTax={ IndividualTax }\r\n                                        PRCode={ PRCode }\r\n                                        Index={ Index }\r\n\r\n                                        AddItem={ AddItem }\r\n                                        OnEdit={ OnEdit }\r\n                                        onDelete={ onDelete }\r\n                                        OnChangeCompany={ OnChangeCompany }\r\n                                        OnChangeLocation={ OnChangeLocation }\r\n                                        OnChangeShipToCompany={ OnChangeShipToCompany }\r\n                                        OnChangeShipToLocation={ OnChangeShipToLocation }\r\n                                        AddVender={ AddVender }\r\n                                        RemoveVender={ RemoveVender }\r\n                                        OnComments={ OnComments }\r\n                                        OnChangeHandler={OnChangeHandler}\r\n                                        SubmitPurchaseOrder={ SubmitPurchaseOrder }\r\n                                        OnChangePrNumber={ OnChangePrNumber }\r\n                                        FinalValuesChangeHandler={ FinalValuesChangeHandler }\r\n                                        ExclusiveInclusiveTax={ ExclusiveInclusiveTax }\r\n                                        IndividualTaxMode={ IndividualTaxMode }\r\n                                        ShowHide={ () => setShowHide( !ShowHide ) }\r\n                                    />\r\n                            }\r\n                        />\r\n                        \r\n                        <Route\r\n                            exact\r\n                            path='/purchaseorder/view=previousrequests/:id/:id'\r\n                            render={  \r\n                                () =>\r\n                                    <PreviousRequest\r\n                                        PurchaseOrderDetails={ PurchaseOrderDetails } \r\n\r\n                                        // FUNCTIONS\r\n                                        ShowModal={ ShowModal }\r\n                                    />\r\n                            }\r\n                        />\r\n\r\n                        {/* ROUTE FOR ATTACHMENT OF BILLS */}\r\n                        {/* ROUTE */}\r\n                        <Route\r\n                            exact\r\n                            path='/purchaseorder/view=bills'\r\n                            render={  \r\n                                () =>\r\n                                    <Bills\r\n                                        Details={ Details }\r\n                                        AttachBills={ AttachBills }\r\n                                        BillPreview={ BillPreview }\r\n\r\n                                        onAttachBills={ onAttachBills }\r\n                                        PreviewBill={ PreviewBill }\r\n                                        RemoveBill={ RemoveBill }\r\n                                    />\r\n                            }\r\n                        />\r\n\r\n                        {/* TO VIEW THE PREVIOUS REQUEST'S BILLS */}\r\n                        {/* ROUTE */}\r\n                        <Route\r\n                            exact\r\n                            path='/purchaseorder/view=attached_bills/:id/:id'\r\n                            render={  \r\n                                () =>\r\n                                    <Bills\r\n                                        Details={ Details }\r\n                                        AttachBills={ AttachBills }\r\n                                        BillPreview={ BillPreview }\r\n\r\n                                        onAttachBills={ onAttachBills }\r\n                                        PreviewBill={ PreviewBill }\r\n                                        RemoveBill={ RemoveBill }\r\n                                    />\r\n                            }\r\n                        />\r\n\r\n                    </Suspense>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default PurchaseOrder;","import React from 'react'\r\nimport './Modal.css';\r\n\r\nconst Modal = ( props ) =>{\r\n    return (\r\n        <>\r\n            <div className=\"Attandence_Request_Div\" style={ { display: props.show ? 'flex' : 'none'  } }>\r\n                <div className=\"dark\" onClick={ props.Hide }>\r\n                </div>\r\n                <div style={ { animationDelay: ( 0 + '.' + 1 ).toString() + 's' } } className={ props.show ? \"Attandence_Request_Div_Content Attandence_Request_Div_Content2\" : \"Attandence_Request_Div_Content\" }>\r\n                    {\r\n                        props.content\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Modal;"],"sourceRoot":""}